{"ast":null,"code":"import { __rest, __assign } from 'tslib';\nimport sync from 'framesync';\nimport { number, color, px, degrees, scale, alpha, progressPercentage } from 'style-value-types';\nimport { invariant } from 'hey-listen';\n\nvar createStyler = function (_a) {\n  var onRead = _a.onRead,\n      onRender = _a.onRender,\n      _b = _a.uncachedValues,\n      uncachedValues = _b === void 0 ? new Set() : _b,\n      _c = _a.useCache,\n      useCache = _c === void 0 ? true : _c;\n  return function (_a) {\n    if (_a === void 0) {\n      _a = {};\n    }\n\n    var props = __rest(_a, []);\n\n    var state = {};\n    var changedValues = [];\n    var hasChanged = false;\n\n    function setValue(key, value) {\n      if (key.startsWith('--')) {\n        props.hasCSSVariable = true;\n      }\n\n      var currentValue = state[key];\n      state[key] = value;\n      if (state[key] === currentValue) return;\n\n      if (changedValues.indexOf(key) === -1) {\n        changedValues.push(key);\n      }\n\n      if (!hasChanged) {\n        hasChanged = true;\n        sync.render(styler.render);\n      }\n    }\n\n    var styler = {\n      get: function (key, forceRead) {\n        if (forceRead === void 0) {\n          forceRead = false;\n        }\n\n        var useCached = !forceRead && useCache && !uncachedValues.has(key) && state[key] !== undefined;\n        return useCached ? state[key] : onRead(key, props);\n      },\n      set: function (values, value) {\n        if (typeof values === 'string') {\n          setValue(values, value);\n        } else {\n          for (var key in values) {\n            setValue(key, values[key]);\n          }\n        }\n\n        return this;\n      },\n      render: function (forceRender) {\n        if (forceRender === void 0) {\n          forceRender = false;\n        }\n\n        if (hasChanged || forceRender === true) {\n          onRender(state, props, changedValues);\n          hasChanged = false;\n          changedValues.length = 0;\n        }\n\n        return this;\n      }\n    };\n    return styler;\n  };\n};\n\nvar CAMEL_CASE_PATTERN = /([a-z])([A-Z])/g;\nvar REPLACE_TEMPLATE = '$1-$2';\n\nvar camelToDash = function (str) {\n  return str.replace(CAMEL_CASE_PATTERN, REPLACE_TEMPLATE).toLowerCase();\n};\n\nvar camelCache = /*#__PURE__*/new Map();\nvar dashCache = /*#__PURE__*/new Map();\nvar prefixes = ['Webkit', 'Moz', 'O', 'ms', ''];\nvar numPrefixes = prefixes.length;\nvar isBrowser = typeof document !== 'undefined';\nvar testElement;\n\nvar setDashPrefix = function (key, prefixed) {\n  return dashCache.set(key, camelToDash(prefixed));\n};\n\nvar testPrefix = function (key) {\n  testElement = testElement || document.createElement('div');\n\n  for (var i = 0; i < numPrefixes; i++) {\n    var prefix = prefixes[i];\n    var noPrefix = prefix === '';\n    var prefixedPropertyName = noPrefix ? key : prefix + key.charAt(0).toUpperCase() + key.slice(1);\n\n    if (prefixedPropertyName in testElement.style || noPrefix) {\n      if (noPrefix && key === 'clipPath' && dashCache.has(key)) {\n        return;\n      }\n\n      camelCache.set(key, prefixedPropertyName);\n      setDashPrefix(key, \"\" + (noPrefix ? '' : '-') + camelToDash(prefixedPropertyName));\n    }\n  }\n};\n\nvar setServerProperty = function (key) {\n  return setDashPrefix(key, key);\n};\n\nvar prefixer = function (key, asDashCase) {\n  if (asDashCase === void 0) {\n    asDashCase = false;\n  }\n\n  var cache = asDashCase ? dashCache : camelCache;\n\n  if (!cache.has(key)) {\n    isBrowser ? testPrefix(key) : setServerProperty(key);\n  }\n\n  return cache.get(key) || key;\n};\n\nvar axes = ['', 'X', 'Y', 'Z'];\nvar order = ['translate', 'scale', 'rotate', 'skew', 'transformPerspective'];\nvar transformProps = /*#__PURE__*/order.reduce(function (acc, key) {\n  return axes.reduce(function (axesAcc, axesKey) {\n    axesAcc.push(key + axesKey);\n    return axesAcc;\n  }, acc);\n}, ['x', 'y', 'z']);\nvar transformPropDictionary = /*#__PURE__*/transformProps.reduce(function (dict, key) {\n  dict[key] = true;\n  return dict;\n}, {});\n\nfunction isTransformProp(key) {\n  return transformPropDictionary[key] === true;\n}\n\nfunction sortTransformProps(a, b) {\n  return transformProps.indexOf(a) - transformProps.indexOf(b);\n}\n\nvar transformOriginProps = /*#__PURE__*/new Set(['originX', 'originY', 'originZ']);\n\nfunction isTransformOriginProp(key) {\n  return transformOriginProps.has(key);\n}\n\nvar int = /*#__PURE__*/__assign( /*#__PURE__*/__assign({}, number), {\n  transform: Math.round\n});\n\nvar valueTypes = {\n  color: color,\n  backgroundColor: color,\n  outlineColor: color,\n  fill: color,\n  stroke: color,\n  borderColor: color,\n  borderTopColor: color,\n  borderRightColor: color,\n  borderBottomColor: color,\n  borderLeftColor: color,\n  borderWidth: px,\n  borderTopWidth: px,\n  borderRightWidth: px,\n  borderBottomWidth: px,\n  borderLeftWidth: px,\n  borderRadius: px,\n  radius: px,\n  borderTopLeftRadius: px,\n  borderTopRightRadius: px,\n  borderBottomRightRadius: px,\n  borderBottomLeftRadius: px,\n  width: px,\n  maxWidth: px,\n  height: px,\n  maxHeight: px,\n  size: px,\n  top: px,\n  right: px,\n  bottom: px,\n  left: px,\n  padding: px,\n  paddingTop: px,\n  paddingRight: px,\n  paddingBottom: px,\n  paddingLeft: px,\n  margin: px,\n  marginTop: px,\n  marginRight: px,\n  marginBottom: px,\n  marginLeft: px,\n  rotate: degrees,\n  rotateX: degrees,\n  rotateY: degrees,\n  rotateZ: degrees,\n  scale: scale,\n  scaleX: scale,\n  scaleY: scale,\n  scaleZ: scale,\n  skew: degrees,\n  skewX: degrees,\n  skewY: degrees,\n  distance: px,\n  translateX: px,\n  translateY: px,\n  translateZ: px,\n  x: px,\n  y: px,\n  z: px,\n  perspective: px,\n  opacity: alpha,\n  originX: progressPercentage,\n  originY: progressPercentage,\n  originZ: px,\n  zIndex: int,\n  fillOpacity: alpha,\n  strokeOpacity: alpha,\n  numOctaves: int\n};\n\nvar getValueType = function (key) {\n  return valueTypes[key];\n};\n\nvar getValueAsType = function (value, type) {\n  return type && typeof value === 'number' ? type.transform(value) : value;\n};\n\nvar SCROLL_LEFT = 'scrollLeft';\nvar SCROLL_TOP = 'scrollTop';\nvar scrollKeys = /*#__PURE__*/new Set([SCROLL_LEFT, SCROLL_TOP]);\nvar blacklist = /*#__PURE__*/new Set([SCROLL_LEFT, SCROLL_TOP, 'transform']);\nvar translateAlias = {\n  x: 'translateX',\n  y: 'translateY',\n  z: 'translateZ'\n};\n\nfunction isCustomTemplate(v) {\n  return typeof v === 'function';\n}\n\nfunction buildTransform(state, transform, transformKeys, transformIsDefault, enableHardwareAcceleration, allowTransformNone) {\n  if (allowTransformNone === void 0) {\n    allowTransformNone = true;\n  }\n\n  var transformString = '';\n  var transformHasZ = false;\n  transformKeys.sort(sortTransformProps);\n  var numTransformKeys = transformKeys.length;\n\n  for (var i = 0; i < numTransformKeys; i++) {\n    var key = transformKeys[i];\n    transformString += (translateAlias[key] || key) + \"(\" + transform[key] + \") \";\n    transformHasZ = key === 'z' ? true : transformHasZ;\n  }\n\n  if (!transformHasZ && enableHardwareAcceleration) {\n    transformString += 'translateZ(0)';\n  } else {\n    transformString = transformString.trim();\n  }\n\n  if (isCustomTemplate(state.transform)) {\n    transformString = state.transform(transform, transformIsDefault ? '' : transformString);\n  } else if (allowTransformNone && transformIsDefault) {\n    transformString = 'none';\n  }\n\n  return transformString;\n}\n\nfunction buildStyleProperty(state, enableHardwareAcceleration, styles, transform, transformOrigin, transformKeys, isDashCase, allowTransformNone) {\n  if (enableHardwareAcceleration === void 0) {\n    enableHardwareAcceleration = true;\n  }\n\n  if (styles === void 0) {\n    styles = {};\n  }\n\n  if (transform === void 0) {\n    transform = {};\n  }\n\n  if (transformOrigin === void 0) {\n    transformOrigin = {};\n  }\n\n  if (transformKeys === void 0) {\n    transformKeys = [];\n  }\n\n  if (isDashCase === void 0) {\n    isDashCase = false;\n  }\n\n  if (allowTransformNone === void 0) {\n    allowTransformNone = true;\n  }\n\n  var transformIsDefault = true;\n  var hasTransform = false;\n  var hasTransformOrigin = false;\n\n  for (var key in state) {\n    var value = state[key];\n    var valueType = getValueType(key);\n    var valueAsType = getValueAsType(value, valueType);\n\n    if (isTransformProp(key)) {\n      hasTransform = true;\n      transform[key] = valueAsType;\n      transformKeys.push(key);\n\n      if (transformIsDefault) {\n        if (valueType.default && value !== valueType.default || !valueType.default && value !== 0) {\n          transformIsDefault = false;\n        }\n      }\n    } else if (isTransformOriginProp(key)) {\n      transformOrigin[key] = valueAsType;\n      hasTransformOrigin = true;\n    } else if (!blacklist.has(key) || !isCustomTemplate(valueAsType)) {\n      styles[prefixer(key, isDashCase)] = valueAsType;\n    }\n  }\n\n  if (hasTransform || typeof state.transform === 'function') {\n    styles.transform = buildTransform(state, transform, transformKeys, transformIsDefault, enableHardwareAcceleration, allowTransformNone);\n  }\n\n  if (hasTransformOrigin) {\n    styles.transformOrigin = (transformOrigin.originX || '50%') + \" \" + (transformOrigin.originY || '50%') + \" \" + (transformOrigin.originZ || 0);\n  }\n\n  return styles;\n}\n\nfunction createStyleBuilder(_a) {\n  var _b = _a === void 0 ? {} : _a,\n      _c = _b.enableHardwareAcceleration,\n      enableHardwareAcceleration = _c === void 0 ? true : _c,\n      _d = _b.isDashCase,\n      isDashCase = _d === void 0 ? true : _d,\n      _e = _b.allowTransformNone,\n      allowTransformNone = _e === void 0 ? true : _e;\n\n  var styles = {};\n  var transform = {};\n  var transformOrigin = {};\n  var transformKeys = [];\n  return function (state) {\n    transformKeys.length = 0;\n    buildStyleProperty(state, enableHardwareAcceleration, styles, transform, transformOrigin, transformKeys, isDashCase, allowTransformNone);\n    return styles;\n  };\n}\n\nfunction onRead(key, options) {\n  var element = options.element,\n      preparseOutput = options.preparseOutput;\n  var defaultValueType = getValueType(key);\n\n  if (isTransformProp(key)) {\n    return defaultValueType ? defaultValueType.default || 0 : 0;\n  } else if (scrollKeys.has(key)) {\n    return element[key];\n  } else {\n    var domValue = window.getComputedStyle(element, null).getPropertyValue(prefixer(key, true)) || 0;\n    return preparseOutput && defaultValueType && defaultValueType.test(domValue) && defaultValueType.parse ? defaultValueType.parse(domValue) : domValue;\n  }\n}\n\nfunction onRender(state, _a, changedValues) {\n  var element = _a.element,\n      buildStyles = _a.buildStyles,\n      hasCSSVariable = _a.hasCSSVariable;\n  Object.assign(element.style, buildStyles(state));\n\n  if (hasCSSVariable) {\n    var numChangedValues = changedValues.length;\n\n    for (var i = 0; i < numChangedValues; i++) {\n      var key = changedValues[i];\n\n      if (key.startsWith('--')) {\n        element.style.setProperty(key, state[key]);\n      }\n    }\n  }\n\n  if (changedValues.indexOf(SCROLL_LEFT) !== -1) {\n    element[SCROLL_LEFT] = state[SCROLL_LEFT];\n  }\n\n  if (changedValues.indexOf(SCROLL_TOP) !== -1) {\n    element[SCROLL_TOP] = state[SCROLL_TOP];\n  }\n}\n\nvar cssStyler = /*#__PURE__*/createStyler({\n  onRead: onRead,\n  onRender: onRender,\n  uncachedValues: scrollKeys\n});\n\nfunction createCssStyler(element, _a) {\n  if (_a === void 0) {\n    _a = {};\n  }\n\n  var enableHardwareAcceleration = _a.enableHardwareAcceleration,\n      allowTransformNone = _a.allowTransformNone,\n      props = __rest(_a, [\"enableHardwareAcceleration\", \"allowTransformNone\"]);\n\n  return cssStyler(__assign({\n    element: element,\n    buildStyles: createStyleBuilder({\n      enableHardwareAcceleration: enableHardwareAcceleration,\n      allowTransformNone: allowTransformNone\n    }),\n    preparseOutput: true\n  }, props));\n}\n\nvar camelCaseAttributes = /*#__PURE__*/new Set(['baseFrequency', 'diffuseConstant', 'kernelMatrix', 'kernelUnitLength', 'keySplines', 'keyTimes', 'limitingConeAngle', 'markerHeight', 'markerWidth', 'numOctaves', 'targetX', 'targetY', 'surfaceScale', 'specularConstant', 'specularExponent', 'stdDeviation', 'tableValues']);\nvar defaultOrigin = 0.5;\n\nvar svgAttrsTemplate = function () {\n  return {\n    style: {}\n  };\n};\n\nvar progressToPixels = function (progress, length) {\n  return px.transform(progress * length);\n};\n\nvar unmeasured = {\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0\n};\n\nfunction calcOrigin(origin, offset, size) {\n  return typeof origin === 'string' ? origin : px.transform(offset + size * origin);\n}\n\nfunction calculateSVGTransformOrigin(dimensions, originX, originY) {\n  return calcOrigin(originX, dimensions.x, dimensions.width) + \" \" + calcOrigin(originY, dimensions.y, dimensions.height);\n}\n\nvar svgStyleConfig = {\n  enableHardwareAcceleration: false,\n  isDashCase: false\n};\n\nfunction buildSVGAttrs(_a, dimensions, totalPathLength, cssBuilder, attrs, isDashCase) {\n  if (dimensions === void 0) {\n    dimensions = unmeasured;\n  }\n\n  if (cssBuilder === void 0) {\n    cssBuilder = createStyleBuilder(svgStyleConfig);\n  }\n\n  if (attrs === void 0) {\n    attrs = svgAttrsTemplate();\n  }\n\n  if (isDashCase === void 0) {\n    isDashCase = true;\n  }\n\n  var attrX = _a.attrX,\n      attrY = _a.attrY,\n      originX = _a.originX,\n      originY = _a.originY,\n      pathLength = _a.pathLength,\n      _b = _a.pathSpacing,\n      pathSpacing = _b === void 0 ? 1 : _b,\n      _c = _a.pathOffset,\n      pathOffset = _c === void 0 ? 0 : _c,\n      state = __rest(_a, [\"attrX\", \"attrY\", \"originX\", \"originY\", \"pathLength\", \"pathSpacing\", \"pathOffset\"]);\n\n  var style = cssBuilder(state);\n\n  for (var key in style) {\n    if (key === 'transform') {\n      attrs.style.transform = style[key];\n    } else {\n      var attrKey = isDashCase && !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n      attrs[attrKey] = style[key];\n    }\n  }\n\n  if (originX !== undefined || originY !== undefined || style.transform) {\n    attrs.style.transformOrigin = calculateSVGTransformOrigin(dimensions, originX !== undefined ? originX : defaultOrigin, originY !== undefined ? originY : defaultOrigin);\n  }\n\n  if (attrX !== undefined) attrs.x = attrX;\n  if (attrY !== undefined) attrs.y = attrY;\n\n  if (totalPathLength !== undefined && pathLength !== undefined) {\n    attrs[isDashCase ? 'stroke-dashoffset' : 'strokeDashoffset'] = progressToPixels(-pathOffset, totalPathLength);\n    attrs[isDashCase ? 'stroke-dasharray' : 'strokeDasharray'] = progressToPixels(pathLength, totalPathLength) + \" \" + progressToPixels(pathSpacing, totalPathLength);\n  }\n\n  return attrs;\n}\n\nfunction createAttrBuilder(dimensions, totalPathLength, isDashCase) {\n  if (isDashCase === void 0) {\n    isDashCase = true;\n  }\n\n  var attrs = svgAttrsTemplate();\n  var cssBuilder = createStyleBuilder(svgStyleConfig);\n  return function (state) {\n    return buildSVGAttrs(state, dimensions, totalPathLength, cssBuilder, attrs, isDashCase);\n  };\n}\n\nvar getDimensions = function (element) {\n  return typeof element.getBBox === 'function' ? element.getBBox() : element.getBoundingClientRect();\n};\n\nvar getSVGElementDimensions = function (element) {\n  try {\n    return getDimensions(element);\n  } catch (e) {\n    return {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    };\n  }\n};\n\nvar isPath = function (element) {\n  return element.tagName === 'path';\n};\n\nvar svgStyler = /*#__PURE__*/createStyler({\n  onRead: function (key, _a) {\n    var element = _a.element;\n    key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n\n    if (!isTransformProp(key)) {\n      return element.getAttribute(key);\n    } else {\n      var valueType = getValueType(key);\n      return valueType ? valueType.default || 0 : 0;\n    }\n  },\n  onRender: function (state, _a) {\n    var element = _a.element,\n        buildAttrs = _a.buildAttrs;\n    var attrs = buildAttrs(state);\n\n    for (var key in attrs) {\n      if (key === 'style') {\n        Object.assign(element.style, attrs.style);\n      } else {\n        element.setAttribute(key, attrs[key]);\n      }\n    }\n  }\n});\n\nvar svg = function (element) {\n  var dimensions = getSVGElementDimensions(element);\n  var pathLength = isPath(element) && element.getTotalLength ? element.getTotalLength() : undefined;\n  return svgStyler({\n    element: element,\n    buildAttrs: createAttrBuilder(dimensions, pathLength)\n  });\n};\n\nvar viewport = /*#__PURE__*/createStyler({\n  useCache: false,\n  onRead: function (key) {\n    return key === 'scrollTop' ? window.pageYOffset : window.pageXOffset;\n  },\n  onRender: function (_a) {\n    var _b = _a.scrollTop,\n        scrollTop = _b === void 0 ? 0 : _b,\n        _c = _a.scrollLeft,\n        scrollLeft = _c === void 0 ? 0 : _c;\n    return window.scrollTo(scrollLeft, scrollTop);\n  }\n});\nvar cache = /*#__PURE__*/new WeakMap();\n\nvar isHTMLElement = function (node) {\n  return node instanceof HTMLElement || typeof node.click === 'function';\n};\n\nvar isSVGElement = function (node) {\n  return node instanceof SVGElement || 'ownerSVGElement' in node;\n};\n\nvar createDOMStyler = function (node, props) {\n  var styler;\n\n  if (node === window) {\n    styler = viewport(node);\n  } else if (isHTMLElement(node)) {\n    styler = createCssStyler(node, props);\n  } else if (isSVGElement(node)) {\n    styler = svg(node);\n  }\n\n  invariant(styler !== undefined, 'No valid node provided. Node must be HTMLElement, SVGElement or window.');\n  cache.set(node, styler);\n  return styler;\n};\n\nvar getStyler = function (node, props) {\n  return cache.has(node) ? cache.get(node) : createDOMStyler(node, props);\n};\n\nfunction index(nodeOrSelector, props) {\n  var node = typeof nodeOrSelector === 'string' ? document.querySelector(nodeOrSelector) : nodeOrSelector;\n  return getStyler(node, props);\n}\n\nexport default index;\nexport { buildSVGAttrs, buildStyleProperty, createStyler as createStylerFactory, isTransformProp, transformProps };","map":{"version":3,"names":["__rest","__assign","sync","number","color","px","degrees","scale","alpha","progressPercentage","invariant","createStyler","_a","onRead","onRender","_b","uncachedValues","Set","_c","useCache","props","state","changedValues","hasChanged","setValue","key","value","startsWith","hasCSSVariable","currentValue","indexOf","push","render","styler","get","forceRead","useCached","has","undefined","set","values","forceRender","length","CAMEL_CASE_PATTERN","REPLACE_TEMPLATE","camelToDash","str","replace","toLowerCase","camelCache","Map","dashCache","prefixes","numPrefixes","isBrowser","document","testElement","setDashPrefix","prefixed","testPrefix","createElement","i","prefix","noPrefix","prefixedPropertyName","charAt","toUpperCase","slice","style","setServerProperty","prefixer","asDashCase","cache","axes","order","transformProps","reduce","acc","axesAcc","axesKey","transformPropDictionary","dict","isTransformProp","sortTransformProps","a","b","transformOriginProps","isTransformOriginProp","int","transform","Math","round","valueTypes","backgroundColor","outlineColor","fill","stroke","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderRadius","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","width","maxWidth","height","maxHeight","size","top","right","bottom","left","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","rotate","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","skew","skewX","skewY","distance","translateX","translateY","translateZ","x","y","z","perspective","opacity","originX","originY","originZ","zIndex","fillOpacity","strokeOpacity","numOctaves","getValueType","getValueAsType","type","SCROLL_LEFT","SCROLL_TOP","scrollKeys","blacklist","translateAlias","isCustomTemplate","v","buildTransform","transformKeys","transformIsDefault","enableHardwareAcceleration","allowTransformNone","transformString","transformHasZ","sort","numTransformKeys","trim","buildStyleProperty","styles","transformOrigin","isDashCase","hasTransform","hasTransformOrigin","valueType","valueAsType","default","createStyleBuilder","_d","_e","options","element","preparseOutput","defaultValueType","domValue","window","getComputedStyle","getPropertyValue","test","parse","buildStyles","Object","assign","numChangedValues","setProperty","cssStyler","createCssStyler","camelCaseAttributes","defaultOrigin","svgAttrsTemplate","progressToPixels","progress","unmeasured","calcOrigin","origin","offset","calculateSVGTransformOrigin","dimensions","svgStyleConfig","buildSVGAttrs","totalPathLength","cssBuilder","attrs","attrX","attrY","pathLength","pathSpacing","pathOffset","attrKey","createAttrBuilder","getDimensions","getBBox","getBoundingClientRect","getSVGElementDimensions","e","isPath","tagName","svgStyler","getAttribute","buildAttrs","setAttribute","svg","getTotalLength","viewport","pageYOffset","pageXOffset","scrollTop","scrollLeft","scrollTo","WeakMap","isHTMLElement","node","HTMLElement","click","isSVGElement","SVGElement","createDOMStyler","getStyler","index","nodeOrSelector","querySelector","createStylerFactory"],"sources":["E:/Work/PFE/Project folder/DocHelp/node_modules/stylefire/dist/stylefire.es.js"],"sourcesContent":["import { __rest, __assign } from 'tslib';\nimport sync from 'framesync';\nimport { number, color, px, degrees, scale, alpha, progressPercentage } from 'style-value-types';\nimport { invariant } from 'hey-listen';\n\nvar createStyler = function (_a) {\n    var onRead = _a.onRead,\n        onRender = _a.onRender,\n        _b = _a.uncachedValues,\n        uncachedValues = _b === void 0 ? new Set() : _b,\n        _c = _a.useCache,\n        useCache = _c === void 0 ? true : _c;\n    return function (_a) {\n        if (_a === void 0) {\n            _a = {};\n        }\n        var props = __rest(_a, []);\n        var state = {};\n        var changedValues = [];\n        var hasChanged = false;\n        function setValue(key, value) {\n            if (key.startsWith('--')) {\n                props.hasCSSVariable = true;\n            }\n            var currentValue = state[key];\n            state[key] = value;\n            if (state[key] === currentValue) return;\n            if (changedValues.indexOf(key) === -1) {\n                changedValues.push(key);\n            }\n            if (!hasChanged) {\n                hasChanged = true;\n                sync.render(styler.render);\n            }\n        }\n        var styler = {\n            get: function (key, forceRead) {\n                if (forceRead === void 0) {\n                    forceRead = false;\n                }\n                var useCached = !forceRead && useCache && !uncachedValues.has(key) && state[key] !== undefined;\n                return useCached ? state[key] : onRead(key, props);\n            },\n            set: function (values, value) {\n                if (typeof values === 'string') {\n                    setValue(values, value);\n                } else {\n                    for (var key in values) {\n                        setValue(key, values[key]);\n                    }\n                }\n                return this;\n            },\n            render: function (forceRender) {\n                if (forceRender === void 0) {\n                    forceRender = false;\n                }\n                if (hasChanged || forceRender === true) {\n                    onRender(state, props, changedValues);\n                    hasChanged = false;\n                    changedValues.length = 0;\n                }\n                return this;\n            }\n        };\n        return styler;\n    };\n};\n\nvar CAMEL_CASE_PATTERN = /([a-z])([A-Z])/g;\nvar REPLACE_TEMPLATE = '$1-$2';\nvar camelToDash = function (str) {\n    return str.replace(CAMEL_CASE_PATTERN, REPLACE_TEMPLATE).toLowerCase();\n};\n\nvar camelCache = /*#__PURE__*/new Map();\nvar dashCache = /*#__PURE__*/new Map();\nvar prefixes = ['Webkit', 'Moz', 'O', 'ms', ''];\nvar numPrefixes = prefixes.length;\nvar isBrowser = typeof document !== 'undefined';\nvar testElement;\nvar setDashPrefix = function (key, prefixed) {\n    return dashCache.set(key, camelToDash(prefixed));\n};\nvar testPrefix = function (key) {\n    testElement = testElement || document.createElement('div');\n    for (var i = 0; i < numPrefixes; i++) {\n        var prefix = prefixes[i];\n        var noPrefix = prefix === '';\n        var prefixedPropertyName = noPrefix ? key : prefix + key.charAt(0).toUpperCase() + key.slice(1);\n        if (prefixedPropertyName in testElement.style || noPrefix) {\n            if (noPrefix && key === 'clipPath' && dashCache.has(key)) {\n                return;\n            }\n            camelCache.set(key, prefixedPropertyName);\n            setDashPrefix(key, \"\" + (noPrefix ? '' : '-') + camelToDash(prefixedPropertyName));\n        }\n    }\n};\nvar setServerProperty = function (key) {\n    return setDashPrefix(key, key);\n};\nvar prefixer = function (key, asDashCase) {\n    if (asDashCase === void 0) {\n        asDashCase = false;\n    }\n    var cache = asDashCase ? dashCache : camelCache;\n    if (!cache.has(key)) {\n        isBrowser ? testPrefix(key) : setServerProperty(key);\n    }\n    return cache.get(key) || key;\n};\n\nvar axes = ['', 'X', 'Y', 'Z'];\nvar order = ['translate', 'scale', 'rotate', 'skew', 'transformPerspective'];\nvar transformProps = /*#__PURE__*/order.reduce(function (acc, key) {\n    return axes.reduce(function (axesAcc, axesKey) {\n        axesAcc.push(key + axesKey);\n        return axesAcc;\n    }, acc);\n}, ['x', 'y', 'z']);\nvar transformPropDictionary = /*#__PURE__*/transformProps.reduce(function (dict, key) {\n    dict[key] = true;\n    return dict;\n}, {});\nfunction isTransformProp(key) {\n    return transformPropDictionary[key] === true;\n}\nfunction sortTransformProps(a, b) {\n    return transformProps.indexOf(a) - transformProps.indexOf(b);\n}\nvar transformOriginProps = /*#__PURE__*/new Set(['originX', 'originY', 'originZ']);\nfunction isTransformOriginProp(key) {\n    return transformOriginProps.has(key);\n}\n\nvar int = /*#__PURE__*/__assign( /*#__PURE__*/__assign({}, number), { transform: Math.round });\nvar valueTypes = {\n    color: color,\n    backgroundColor: color,\n    outlineColor: color,\n    fill: color,\n    stroke: color,\n    borderColor: color,\n    borderTopColor: color,\n    borderRightColor: color,\n    borderBottomColor: color,\n    borderLeftColor: color,\n    borderWidth: px,\n    borderTopWidth: px,\n    borderRightWidth: px,\n    borderBottomWidth: px,\n    borderLeftWidth: px,\n    borderRadius: px,\n    radius: px,\n    borderTopLeftRadius: px,\n    borderTopRightRadius: px,\n    borderBottomRightRadius: px,\n    borderBottomLeftRadius: px,\n    width: px,\n    maxWidth: px,\n    height: px,\n    maxHeight: px,\n    size: px,\n    top: px,\n    right: px,\n    bottom: px,\n    left: px,\n    padding: px,\n    paddingTop: px,\n    paddingRight: px,\n    paddingBottom: px,\n    paddingLeft: px,\n    margin: px,\n    marginTop: px,\n    marginRight: px,\n    marginBottom: px,\n    marginLeft: px,\n    rotate: degrees,\n    rotateX: degrees,\n    rotateY: degrees,\n    rotateZ: degrees,\n    scale: scale,\n    scaleX: scale,\n    scaleY: scale,\n    scaleZ: scale,\n    skew: degrees,\n    skewX: degrees,\n    skewY: degrees,\n    distance: px,\n    translateX: px,\n    translateY: px,\n    translateZ: px,\n    x: px,\n    y: px,\n    z: px,\n    perspective: px,\n    opacity: alpha,\n    originX: progressPercentage,\n    originY: progressPercentage,\n    originZ: px,\n    zIndex: int,\n    fillOpacity: alpha,\n    strokeOpacity: alpha,\n    numOctaves: int\n};\nvar getValueType = function (key) {\n    return valueTypes[key];\n};\nvar getValueAsType = function (value, type) {\n    return type && typeof value === 'number' ? type.transform(value) : value;\n};\n\nvar SCROLL_LEFT = 'scrollLeft';\nvar SCROLL_TOP = 'scrollTop';\nvar scrollKeys = /*#__PURE__*/new Set([SCROLL_LEFT, SCROLL_TOP]);\n\nvar blacklist = /*#__PURE__*/new Set([SCROLL_LEFT, SCROLL_TOP, 'transform']);\nvar translateAlias = {\n    x: 'translateX',\n    y: 'translateY',\n    z: 'translateZ'\n};\nfunction isCustomTemplate(v) {\n    return typeof v === 'function';\n}\nfunction buildTransform(state, transform, transformKeys, transformIsDefault, enableHardwareAcceleration, allowTransformNone) {\n    if (allowTransformNone === void 0) {\n        allowTransformNone = true;\n    }\n    var transformString = '';\n    var transformHasZ = false;\n    transformKeys.sort(sortTransformProps);\n    var numTransformKeys = transformKeys.length;\n    for (var i = 0; i < numTransformKeys; i++) {\n        var key = transformKeys[i];\n        transformString += (translateAlias[key] || key) + \"(\" + transform[key] + \") \";\n        transformHasZ = key === 'z' ? true : transformHasZ;\n    }\n    if (!transformHasZ && enableHardwareAcceleration) {\n        transformString += 'translateZ(0)';\n    } else {\n        transformString = transformString.trim();\n    }\n    if (isCustomTemplate(state.transform)) {\n        transformString = state.transform(transform, transformIsDefault ? '' : transformString);\n    } else if (allowTransformNone && transformIsDefault) {\n        transformString = 'none';\n    }\n    return transformString;\n}\nfunction buildStyleProperty(state, enableHardwareAcceleration, styles, transform, transformOrigin, transformKeys, isDashCase, allowTransformNone) {\n    if (enableHardwareAcceleration === void 0) {\n        enableHardwareAcceleration = true;\n    }\n    if (styles === void 0) {\n        styles = {};\n    }\n    if (transform === void 0) {\n        transform = {};\n    }\n    if (transformOrigin === void 0) {\n        transformOrigin = {};\n    }\n    if (transformKeys === void 0) {\n        transformKeys = [];\n    }\n    if (isDashCase === void 0) {\n        isDashCase = false;\n    }\n    if (allowTransformNone === void 0) {\n        allowTransformNone = true;\n    }\n    var transformIsDefault = true;\n    var hasTransform = false;\n    var hasTransformOrigin = false;\n    for (var key in state) {\n        var value = state[key];\n        var valueType = getValueType(key);\n        var valueAsType = getValueAsType(value, valueType);\n        if (isTransformProp(key)) {\n            hasTransform = true;\n            transform[key] = valueAsType;\n            transformKeys.push(key);\n            if (transformIsDefault) {\n                if (valueType.default && value !== valueType.default || !valueType.default && value !== 0) {\n                    transformIsDefault = false;\n                }\n            }\n        } else if (isTransformOriginProp(key)) {\n            transformOrigin[key] = valueAsType;\n            hasTransformOrigin = true;\n        } else if (!blacklist.has(key) || !isCustomTemplate(valueAsType)) {\n            styles[prefixer(key, isDashCase)] = valueAsType;\n        }\n    }\n    if (hasTransform || typeof state.transform === 'function') {\n        styles.transform = buildTransform(state, transform, transformKeys, transformIsDefault, enableHardwareAcceleration, allowTransformNone);\n    }\n    if (hasTransformOrigin) {\n        styles.transformOrigin = (transformOrigin.originX || '50%') + \" \" + (transformOrigin.originY || '50%') + \" \" + (transformOrigin.originZ || 0);\n    }\n    return styles;\n}\nfunction createStyleBuilder(_a) {\n    var _b = _a === void 0 ? {} : _a,\n        _c = _b.enableHardwareAcceleration,\n        enableHardwareAcceleration = _c === void 0 ? true : _c,\n        _d = _b.isDashCase,\n        isDashCase = _d === void 0 ? true : _d,\n        _e = _b.allowTransformNone,\n        allowTransformNone = _e === void 0 ? true : _e;\n    var styles = {};\n    var transform = {};\n    var transformOrigin = {};\n    var transformKeys = [];\n    return function (state) {\n        transformKeys.length = 0;\n        buildStyleProperty(state, enableHardwareAcceleration, styles, transform, transformOrigin, transformKeys, isDashCase, allowTransformNone);\n        return styles;\n    };\n}\n\nfunction onRead(key, options) {\n    var element = options.element,\n        preparseOutput = options.preparseOutput;\n    var defaultValueType = getValueType(key);\n    if (isTransformProp(key)) {\n        return defaultValueType ? defaultValueType.default || 0 : 0;\n    } else if (scrollKeys.has(key)) {\n        return element[key];\n    } else {\n        var domValue = window.getComputedStyle(element, null).getPropertyValue(prefixer(key, true)) || 0;\n        return preparseOutput && defaultValueType && defaultValueType.test(domValue) && defaultValueType.parse ? defaultValueType.parse(domValue) : domValue;\n    }\n}\nfunction onRender(state, _a, changedValues) {\n    var element = _a.element,\n        buildStyles = _a.buildStyles,\n        hasCSSVariable = _a.hasCSSVariable;\n    Object.assign(element.style, buildStyles(state));\n    if (hasCSSVariable) {\n        var numChangedValues = changedValues.length;\n        for (var i = 0; i < numChangedValues; i++) {\n            var key = changedValues[i];\n            if (key.startsWith('--')) {\n                element.style.setProperty(key, state[key]);\n            }\n        }\n    }\n    if (changedValues.indexOf(SCROLL_LEFT) !== -1) {\n        element[SCROLL_LEFT] = state[SCROLL_LEFT];\n    }\n    if (changedValues.indexOf(SCROLL_TOP) !== -1) {\n        element[SCROLL_TOP] = state[SCROLL_TOP];\n    }\n}\nvar cssStyler = /*#__PURE__*/createStyler({\n    onRead: onRead,\n    onRender: onRender,\n    uncachedValues: scrollKeys\n});\nfunction createCssStyler(element, _a) {\n    if (_a === void 0) {\n        _a = {};\n    }\n    var enableHardwareAcceleration = _a.enableHardwareAcceleration,\n        allowTransformNone = _a.allowTransformNone,\n        props = __rest(_a, [\"enableHardwareAcceleration\", \"allowTransformNone\"]);\n    return cssStyler(__assign({ element: element, buildStyles: createStyleBuilder({\n            enableHardwareAcceleration: enableHardwareAcceleration,\n            allowTransformNone: allowTransformNone\n        }), preparseOutput: true }, props));\n}\n\nvar camelCaseAttributes = /*#__PURE__*/new Set(['baseFrequency', 'diffuseConstant', 'kernelMatrix', 'kernelUnitLength', 'keySplines', 'keyTimes', 'limitingConeAngle', 'markerHeight', 'markerWidth', 'numOctaves', 'targetX', 'targetY', 'surfaceScale', 'specularConstant', 'specularExponent', 'stdDeviation', 'tableValues']);\n\nvar defaultOrigin = 0.5;\nvar svgAttrsTemplate = function () {\n    return {\n        style: {}\n    };\n};\nvar progressToPixels = function (progress, length) {\n    return px.transform(progress * length);\n};\nvar unmeasured = { x: 0, y: 0, width: 0, height: 0 };\nfunction calcOrigin(origin, offset, size) {\n    return typeof origin === 'string' ? origin : px.transform(offset + size * origin);\n}\nfunction calculateSVGTransformOrigin(dimensions, originX, originY) {\n    return calcOrigin(originX, dimensions.x, dimensions.width) + \" \" + calcOrigin(originY, dimensions.y, dimensions.height);\n}\nvar svgStyleConfig = {\n    enableHardwareAcceleration: false,\n    isDashCase: false\n};\nfunction buildSVGAttrs(_a, dimensions, totalPathLength, cssBuilder, attrs, isDashCase) {\n    if (dimensions === void 0) {\n        dimensions = unmeasured;\n    }\n    if (cssBuilder === void 0) {\n        cssBuilder = createStyleBuilder(svgStyleConfig);\n    }\n    if (attrs === void 0) {\n        attrs = svgAttrsTemplate();\n    }\n    if (isDashCase === void 0) {\n        isDashCase = true;\n    }\n    var attrX = _a.attrX,\n        attrY = _a.attrY,\n        originX = _a.originX,\n        originY = _a.originY,\n        pathLength = _a.pathLength,\n        _b = _a.pathSpacing,\n        pathSpacing = _b === void 0 ? 1 : _b,\n        _c = _a.pathOffset,\n        pathOffset = _c === void 0 ? 0 : _c,\n        state = __rest(_a, [\"attrX\", \"attrY\", \"originX\", \"originY\", \"pathLength\", \"pathSpacing\", \"pathOffset\"]);\n    var style = cssBuilder(state);\n    for (var key in style) {\n        if (key === 'transform') {\n            attrs.style.transform = style[key];\n        } else {\n            var attrKey = isDashCase && !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n            attrs[attrKey] = style[key];\n        }\n    }\n    if (originX !== undefined || originY !== undefined || style.transform) {\n        attrs.style.transformOrigin = calculateSVGTransformOrigin(dimensions, originX !== undefined ? originX : defaultOrigin, originY !== undefined ? originY : defaultOrigin);\n    }\n    if (attrX !== undefined) attrs.x = attrX;\n    if (attrY !== undefined) attrs.y = attrY;\n    if (totalPathLength !== undefined && pathLength !== undefined) {\n        attrs[isDashCase ? 'stroke-dashoffset' : 'strokeDashoffset'] = progressToPixels(-pathOffset, totalPathLength);\n        attrs[isDashCase ? 'stroke-dasharray' : 'strokeDasharray'] = progressToPixels(pathLength, totalPathLength) + \" \" + progressToPixels(pathSpacing, totalPathLength);\n    }\n    return attrs;\n}\nfunction createAttrBuilder(dimensions, totalPathLength, isDashCase) {\n    if (isDashCase === void 0) {\n        isDashCase = true;\n    }\n    var attrs = svgAttrsTemplate();\n    var cssBuilder = createStyleBuilder(svgStyleConfig);\n    return function (state) {\n        return buildSVGAttrs(state, dimensions, totalPathLength, cssBuilder, attrs, isDashCase);\n    };\n}\n\nvar getDimensions = function (element) {\n    return typeof element.getBBox === 'function' ? element.getBBox() : element.getBoundingClientRect();\n};\nvar getSVGElementDimensions = function (element) {\n    try {\n        return getDimensions(element);\n    } catch (e) {\n        return { x: 0, y: 0, width: 0, height: 0 };\n    }\n};\n\nvar isPath = function (element) {\n    return element.tagName === 'path';\n};\nvar svgStyler = /*#__PURE__*/createStyler({\n    onRead: function (key, _a) {\n        var element = _a.element;\n        key = !camelCaseAttributes.has(key) ? camelToDash(key) : key;\n        if (!isTransformProp(key)) {\n            return element.getAttribute(key);\n        } else {\n            var valueType = getValueType(key);\n            return valueType ? valueType.default || 0 : 0;\n        }\n    },\n    onRender: function (state, _a) {\n        var element = _a.element,\n            buildAttrs = _a.buildAttrs;\n        var attrs = buildAttrs(state);\n        for (var key in attrs) {\n            if (key === 'style') {\n                Object.assign(element.style, attrs.style);\n            } else {\n                element.setAttribute(key, attrs[key]);\n            }\n        }\n    }\n});\nvar svg = function (element) {\n    var dimensions = getSVGElementDimensions(element);\n    var pathLength = isPath(element) && element.getTotalLength ? element.getTotalLength() : undefined;\n    return svgStyler({\n        element: element,\n        buildAttrs: createAttrBuilder(dimensions, pathLength)\n    });\n};\n\nvar viewport = /*#__PURE__*/createStyler({\n    useCache: false,\n    onRead: function (key) {\n        return key === 'scrollTop' ? window.pageYOffset : window.pageXOffset;\n    },\n    onRender: function (_a) {\n        var _b = _a.scrollTop,\n            scrollTop = _b === void 0 ? 0 : _b,\n            _c = _a.scrollLeft,\n            scrollLeft = _c === void 0 ? 0 : _c;\n        return window.scrollTo(scrollLeft, scrollTop);\n    }\n});\n\nvar cache = /*#__PURE__*/new WeakMap();\nvar isHTMLElement = function (node) {\n    return node instanceof HTMLElement || typeof node.click === 'function';\n};\nvar isSVGElement = function (node) {\n    return node instanceof SVGElement || 'ownerSVGElement' in node;\n};\nvar createDOMStyler = function (node, props) {\n    var styler;\n    if (node === window) {\n        styler = viewport(node);\n    } else if (isHTMLElement(node)) {\n        styler = createCssStyler(node, props);\n    } else if (isSVGElement(node)) {\n        styler = svg(node);\n    }\n    invariant(styler !== undefined, 'No valid node provided. Node must be HTMLElement, SVGElement or window.');\n    cache.set(node, styler);\n    return styler;\n};\nvar getStyler = function (node, props) {\n    return cache.has(node) ? cache.get(node) : createDOMStyler(node, props);\n};\nfunction index(nodeOrSelector, props) {\n    var node = typeof nodeOrSelector === 'string' ? document.querySelector(nodeOrSelector) : nodeOrSelector;\n    return getStyler(node, props);\n}\n\nexport default index;\nexport { buildSVGAttrs, buildStyleProperty, createStyler as createStylerFactory, isTransformProp, transformProps };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}