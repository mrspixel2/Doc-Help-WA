{"ast":null,"code":"import \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/divider/style\";\nimport _Divider from \"antd/es/divider\";\nimport \"antd/es/select/style\";\nimport _Select from \"antd/es/select\";\nimport \"antd/es/auto-complete/style\";\nimport _AutoComplete from \"antd/es/auto-complete\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nvar _jsxFileName = \"E:\\\\Work\\\\PFE\\\\Project folder\\\\DocHelp\\\\src\\\\pages\\\\dashboards\\\\doctors\\\\DoctorForm.tsx\";\nimport React from 'react';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport Socials from '../../../layout/components/socials/Socials';\nimport ImageLoader from '../../../layout/components/patients/ImageLoader';\nimport { hasErrorFactory } from '../../../utils/hasError';\nimport { useFetch } from '../../../hooks/useFetch';\nconst {\n  TextArea\n} = _Input;\nconst doctorScheme = Yup.object({\n  role: Yup.string().required(),\n  name: Yup.string().required(),\n  lastName: Yup.string().required(),\n  img: Yup.string().required(),\n  gender: Yup.string().required(),\n  address: Yup.string().required()\n});\nconst initialValues = {\n  role: null,\n  name: null,\n  lastName: null,\n  img: null,\n  gender: null,\n  address: null,\n  social: [{\n    icon: 'icofont-instagram',\n    link: '#'\n  }, {\n    icon: 'icofont-facebook',\n    link: '#'\n  }, {\n    icon: 'icofont-twitter',\n    link: '#'\n  }]\n};\n\nconst DoctorForm = _ref => {\n  let {\n    onSubmit,\n    onCancel\n  } = _ref;\n  const [roles] = useFetch('./data/doctors-specialists.json', []);\n  const {\n    setFieldTouched,\n    handleChange,\n    handleBlur,\n    values,\n    setValues,\n    isValid,\n    errors,\n    touched\n  } = useFormik({\n    initialValues,\n    validationSchema: doctorScheme,\n    validateOnMount: true,\n    initialErrors: {\n      name: null\n    },\n    onSubmit: values => {\n      onSubmit(values);\n    }\n  });\n\n  const handleGenderSelect = gender => {\n    setValues({ ...values,\n      gender\n    });\n  };\n\n  const handleRoleSelect = role => {\n    setValues({ ...values,\n      role\n    });\n  };\n\n  const handleImgLoad = img => {\n    setValues({ ...values,\n      img\n    });\n  };\n\n  const handleCancel = () => {\n    onCancel();\n  };\n\n  const handleSubmit = () => {\n    if (!isValid) return;\n    onSubmit(values);\n    onCancel();\n  };\n\n  const hasError = hasErrorFactory(touched, errors);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ImageLoader, {\n    onLoad: handleImgLoad,\n    src: values.img,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Input, {\n    name: \"name\",\n    type: \"text\",\n    placeholder: \"First name\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    defaultValue: values.name,\n    className: hasError('name'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Input, {\n    type: \"text\",\n    name: \"lastName\",\n    placeholder: \"Last name\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    defaultValue: values.lastName,\n    className: hasError('lastName'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-6 col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_AutoComplete, {\n    filterOption: true,\n    options: roles,\n    placeholder: \"Speciality\",\n    onSelect: handleRoleSelect,\n    onBlur: handleBlur,\n    className: hasError('role'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-6 col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Select, {\n    placeholder: \"Gender\",\n    onChange: handleGenderSelect,\n    defaultValue: values.gender,\n    className: hasError('gender'),\n    onBlur: () => setFieldTouched('gender'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(_Select.Option, {\n    value: \"Male\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, \"Male\"), /*#__PURE__*/React.createElement(_Select.Option, {\n    value: \"Female\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }, \"Female\"))))), /*#__PURE__*/React.createElement(TextArea, {\n    rows: 3,\n    name: \"address\",\n    placeholder: \"Address\",\n    onBlur: handleBlur,\n    onChange: handleChange,\n    defaultValue: values.address,\n    className: hasError('address'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(_Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Socials, {\n    links: values.social,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between buttons-list settings-actions mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Button, {\n    danger: true,\n    onClick: handleCancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(_Button, {\n    disabled: !isValid,\n    onClick: handleSubmit,\n    htmlType: \"submit\",\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 11\n    }\n  }, \"Add Doctor\"))));\n};\n\nexport default DoctorForm;","map":{"version":3,"names":["React","useFormik","Yup","Socials","ImageLoader","hasErrorFactory","useFetch","TextArea","doctorScheme","object","role","string","required","name","lastName","img","gender","address","initialValues","social","icon","link","DoctorForm","onSubmit","onCancel","roles","setFieldTouched","handleChange","handleBlur","values","setValues","isValid","errors","touched","validationSchema","validateOnMount","initialErrors","handleGenderSelect","handleRoleSelect","handleImgLoad","handleCancel","handleSubmit","hasError"],"sources":["E:/Work/PFE/Project folder/DocHelp/src/pages/dashboards/doctors/DoctorForm.tsx"],"sourcesContent":["import React from 'react';\n\nimport { useFormik } from 'formik';\nimport { Form, Button, Input, Select, AutoComplete, Divider } from 'antd';\nimport * as Yup from 'yup';\n\nimport Socials from '../../../layout/components/socials/Socials';\nimport ImageLoader from '../../../layout/components/patients/ImageLoader';\n\nimport { hasErrorFactory } from '../../../utils/hasError';\nimport { useFetch } from '../../../hooks/useFetch';\nimport { IUser } from '../../../interfaces/user';\n\nconst { TextArea } = Input;\n\ntype Props = {\n  onSubmit: (doctor: IUser) => void;\n  onCancel: () => void;\n};\n\nconst doctorScheme = Yup.object({\n  role: Yup.string().required(),\n  name: Yup.string().required(),\n  lastName: Yup.string().required(),\n  img: Yup.string().required(),\n  gender: Yup.string().required(),\n  address: Yup.string().required()\n});\n\nconst initialValues = {\n  role: null,\n  name: null,\n  lastName: null,\n  img: null,\n  gender: null,\n  address: null,\n  social: [\n    {\n      icon: 'icofont-instagram',\n      link: '#'\n    },\n    {\n      icon: 'icofont-facebook',\n      link: '#'\n    },\n    {\n      icon: 'icofont-twitter',\n      link: '#'\n    }\n  ]\n};\n\nconst DoctorForm = ({ onSubmit, onCancel }: Props) => {\n  const [roles] = useFetch<{ value: string }[]>('./data/doctors-specialists.json', []);\n  const {\n    setFieldTouched,\n    handleChange,\n    handleBlur,\n    values,\n    setValues,\n    isValid,\n    errors,\n    touched\n  } = useFormik({\n    initialValues,\n    validationSchema: doctorScheme,\n    validateOnMount: true,\n    initialErrors: { name: null },\n    onSubmit: (values) => {\n      onSubmit(values);\n    }\n  });\n\n  const handleGenderSelect = (gender) => {\n    setValues({ ...values, gender });\n  };\n\n  const handleRoleSelect = (role) => {\n    setValues({ ...values, role });\n  };\n\n  const handleImgLoad = (img) => {\n    setValues({ ...values, img });\n  };\n\n  const handleCancel = () => {\n    onCancel();\n  };\n\n  const handleSubmit = () => {\n    if (!isValid) return;\n\n    onSubmit(values);\n    onCancel();\n  };\n\n  const hasError = hasErrorFactory(touched, errors);\n\n  return (\n    <>\n      <Form>\n        <div className='form-group'>\n          <ImageLoader onLoad={handleImgLoad} src={values.img} />\n        </div>\n\n        <div className='form-group'>\n          <Input\n            name='name'\n            type='text'\n            placeholder='First name'\n            onChange={handleChange}\n            onBlur={handleBlur}\n            defaultValue={values.name}\n            className={hasError('name')}\n          />\n        </div>\n\n        <div className='form-group'>\n          <Input\n            type='text'\n            name='lastName'\n            placeholder='Last name'\n            onChange={handleChange}\n            onBlur={handleBlur}\n            defaultValue={values.lastName}\n            className={hasError('lastName')}\n          />\n        </div>\n\n        <div className='row'>\n          <div className='col-sm-6 col-12'>\n            <div className='form-group'>\n              <AutoComplete\n                filterOption\n                options={roles}\n                placeholder='Speciality'\n                onSelect={handleRoleSelect}\n                onBlur={handleBlur}\n                className={hasError('role')}\n              />\n            </div>\n          </div>\n\n          <div className='col-sm-6 col-12'>\n            <div className='form-group'>\n              <Select\n                placeholder='Gender'\n                onChange={handleGenderSelect}\n                defaultValue={values.gender}\n                className={hasError('gender')}\n                onBlur={() => setFieldTouched('gender')}\n              >\n                <Select.Option value='Male'>Male</Select.Option>\n                <Select.Option value='Female'>Female</Select.Option>\n              </Select>\n            </div>\n          </div>\n        </div>\n\n        <TextArea\n          rows={3}\n          name='address'\n          placeholder='Address'\n          onBlur={handleBlur}\n          onChange={handleChange}\n          defaultValue={values.address}\n          className={hasError('address')}\n        />\n\n        <Divider />\n\n        <Socials links={values.social} />\n\n        <div className='d-flex justify-content-between buttons-list settings-actions mt-4'>\n          <Button danger onClick={handleCancel}>\n            Cancel\n          </Button>\n\n          <Button disabled={!isValid} onClick={handleSubmit} htmlType='submit' type='primary'>\n            Add Doctor\n          </Button>\n        </div>\n      </Form>\n    </>\n  );\n};\n\nexport default DoctorForm;\n"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,SAAT,QAA0B,QAA1B;AAEA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AAEA,OAAOC,OAAP,MAAoB,4CAApB;AACA,OAAOC,WAAP,MAAwB,iDAAxB;AAEA,SAASC,eAAT,QAAgC,yBAAhC;AACA,SAASC,QAAT,QAAyB,yBAAzB;AAGA,MAAM;EAAEC;AAAF,UAAN;AAOA,MAAMC,YAAY,GAAGN,GAAG,CAACO,MAAJ,CAAW;EAC9BC,IAAI,EAAER,GAAG,CAACS,MAAJ,GAAaC,QAAb,EADwB;EAE9BC,IAAI,EAAEX,GAAG,CAACS,MAAJ,GAAaC,QAAb,EAFwB;EAG9BE,QAAQ,EAAEZ,GAAG,CAACS,MAAJ,GAAaC,QAAb,EAHoB;EAI9BG,GAAG,EAAEb,GAAG,CAACS,MAAJ,GAAaC,QAAb,EAJyB;EAK9BI,MAAM,EAAEd,GAAG,CAACS,MAAJ,GAAaC,QAAb,EALsB;EAM9BK,OAAO,EAAEf,GAAG,CAACS,MAAJ,GAAaC,QAAb;AANqB,CAAX,CAArB;AASA,MAAMM,aAAa,GAAG;EACpBR,IAAI,EAAE,IADc;EAEpBG,IAAI,EAAE,IAFc;EAGpBC,QAAQ,EAAE,IAHU;EAIpBC,GAAG,EAAE,IAJe;EAKpBC,MAAM,EAAE,IALY;EAMpBC,OAAO,EAAE,IANW;EAOpBE,MAAM,EAAE,CACN;IACEC,IAAI,EAAE,mBADR;IAEEC,IAAI,EAAE;EAFR,CADM,EAKN;IACED,IAAI,EAAE,kBADR;IAEEC,IAAI,EAAE;EAFR,CALM,EASN;IACED,IAAI,EAAE,iBADR;IAEEC,IAAI,EAAE;EAFR,CATM;AAPY,CAAtB;;AAuBA,MAAMC,UAAU,GAAG,QAAmC;EAAA,IAAlC;IAAEC,QAAF;IAAYC;EAAZ,CAAkC;EACpD,MAAM,CAACC,KAAD,IAAUnB,QAAQ,CAAsB,iCAAtB,EAAyD,EAAzD,CAAxB;EACA,MAAM;IACJoB,eADI;IAEJC,YAFI;IAGJC,UAHI;IAIJC,MAJI;IAKJC,SALI;IAMJC,OANI;IAOJC,MAPI;IAQJC;EARI,IASFhC,SAAS,CAAC;IACZiB,aADY;IAEZgB,gBAAgB,EAAE1B,YAFN;IAGZ2B,eAAe,EAAE,IAHL;IAIZC,aAAa,EAAE;MAAEvB,IAAI,EAAE;IAAR,CAJH;IAKZU,QAAQ,EAAGM,MAAD,IAAY;MACpBN,QAAQ,CAACM,MAAD,CAAR;IACD;EAPW,CAAD,CATb;;EAmBA,MAAMQ,kBAAkB,GAAIrB,MAAD,IAAY;IACrCc,SAAS,CAAC,EAAE,GAAGD,MAAL;MAAab;IAAb,CAAD,CAAT;EACD,CAFD;;EAIA,MAAMsB,gBAAgB,GAAI5B,IAAD,IAAU;IACjCoB,SAAS,CAAC,EAAE,GAAGD,MAAL;MAAanB;IAAb,CAAD,CAAT;EACD,CAFD;;EAIA,MAAM6B,aAAa,GAAIxB,GAAD,IAAS;IAC7Be,SAAS,CAAC,EAAE,GAAGD,MAAL;MAAad;IAAb,CAAD,CAAT;EACD,CAFD;;EAIA,MAAMyB,YAAY,GAAG,MAAM;IACzBhB,QAAQ;EACT,CAFD;;EAIA,MAAMiB,YAAY,GAAG,MAAM;IACzB,IAAI,CAACV,OAAL,EAAc;IAEdR,QAAQ,CAACM,MAAD,CAAR;IACAL,QAAQ;EACT,CALD;;EAOA,MAAMkB,QAAQ,GAAGrC,eAAe,CAAC4B,OAAD,EAAUD,MAAV,CAAhC;EAEA,oBACE,uDACE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAK,SAAS,EAAC,YAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,WAAD;IAAa,MAAM,EAAEO,aAArB;IAAoC,GAAG,EAAEV,MAAM,CAACd,GAAhD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CADF,eAKE;IAAK,SAAS,EAAC,YAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IACE,IAAI,EAAC,MADP;IAEE,IAAI,EAAC,MAFP;IAGE,WAAW,EAAC,YAHd;IAIE,QAAQ,EAAEY,YAJZ;IAKE,MAAM,EAAEC,UALV;IAME,YAAY,EAAEC,MAAM,CAAChB,IANvB;IAOE,SAAS,EAAE6B,QAAQ,CAAC,MAAD,CAPrB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CALF,eAiBE;IAAK,SAAS,EAAC,YAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IACE,IAAI,EAAC,MADP;IAEE,IAAI,EAAC,UAFP;IAGE,WAAW,EAAC,WAHd;IAIE,QAAQ,EAAEf,YAJZ;IAKE,MAAM,EAAEC,UALV;IAME,YAAY,EAAEC,MAAM,CAACf,QANvB;IAOE,SAAS,EAAE4B,QAAQ,CAAC,UAAD,CAPrB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CAjBF,eA6BE;IAAK,SAAS,EAAC,KAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAK,SAAS,EAAC,iBAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAK,SAAS,EAAC,YAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IACE,YAAY,MADd;IAEE,OAAO,EAAEjB,KAFX;IAGE,WAAW,EAAC,YAHd;IAIE,QAAQ,EAAEa,gBAJZ;IAKE,MAAM,EAAEV,UALV;IAME,SAAS,EAAEc,QAAQ,CAAC,MAAD,CANrB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,CADF,CADF,eAcE;IAAK,SAAS,EAAC,iBAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAK,SAAS,EAAC,YAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IACE,WAAW,EAAC,QADd;IAEE,QAAQ,EAAEL,kBAFZ;IAGE,YAAY,EAAER,MAAM,CAACb,MAHvB;IAIE,SAAS,EAAE0B,QAAQ,CAAC,QAAD,CAJrB;IAKE,MAAM,EAAE,MAAMhB,eAAe,CAAC,QAAD,CAL/B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAOE,4BAAQ,MAAR;IAAe,KAAK,EAAC,MAArB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,UAPF,eAQE,4BAAQ,MAAR;IAAe,KAAK,EAAC,QAArB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,YARF,CADF,CADF,CAdF,CA7BF,eA2DE,oBAAC,QAAD;IACE,IAAI,EAAE,CADR;IAEE,IAAI,EAAC,SAFP;IAGE,WAAW,EAAC,SAHd;IAIE,MAAM,EAAEE,UAJV;IAKE,QAAQ,EAAED,YALZ;IAME,YAAY,EAAEE,MAAM,CAACZ,OANvB;IAOE,SAAS,EAAEyB,QAAQ,CAAC,SAAD,CAPrB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EA3DF,eAqEE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EArEF,eAuEE,oBAAC,OAAD;IAAS,KAAK,EAAEb,MAAM,CAACV,MAAvB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAvEF,eAyEE;IAAK,SAAS,EAAC,mEAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAQ,MAAM,MAAd;IAAe,OAAO,EAAEqB,YAAxB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,YADF,eAKE;IAAQ,QAAQ,EAAE,CAACT,OAAnB;IAA4B,OAAO,EAAEU,YAArC;IAAmD,QAAQ,EAAC,QAA5D;IAAqE,IAAI,EAAC,SAA1E;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBALF,CAzEF,CADF,CADF;AAuFD,CArID;;AAuIA,eAAenB,UAAf"},"metadata":{},"sourceType":"module"}