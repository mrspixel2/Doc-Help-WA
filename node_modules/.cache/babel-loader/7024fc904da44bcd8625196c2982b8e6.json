{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport hoistStatics from 'hoist-non-react-statics';\nimport warning from 'warning';\nimport { isMemo } from 'react-is';\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'WrappedComponent';\n}\n\nexport function argumentContainer(Container, WrappedComponent) {\n  /* eslint no-param-reassign:0 */\n  Container.displayName = 'Form(' + getDisplayName(WrappedComponent) + ')';\n  Container.WrappedComponent = WrappedComponent;\n  return hoistStatics(Container, WrappedComponent);\n}\nexport function identity(obj) {\n  return obj;\n}\nexport function flattenArray(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\nexport function treeTraverse() {\n  var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var tree = arguments[1];\n  var isLeafNode = arguments[2];\n  var errorMessage = arguments[3];\n  var callback = arguments[4];\n\n  if (isLeafNode(path, tree)) {\n    callback(path, tree);\n  } else if (tree === undefined || tree === null) {// Do nothing\n  } else if (Array.isArray(tree)) {\n    tree.forEach(function (subTree, index) {\n      return treeTraverse(path + '[' + index + ']', subTree, isLeafNode, errorMessage, callback);\n    });\n  } else {\n    // It's object and not a leaf node\n    if (typeof tree !== 'object') {\n      warning(false, errorMessage);\n      return;\n    }\n\n    Object.keys(tree).forEach(function (subTreeKey) {\n      var subTree = tree[subTreeKey];\n      treeTraverse('' + path + (path ? '.' : '') + subTreeKey, subTree, isLeafNode, errorMessage, callback);\n    });\n  }\n}\nexport function flattenFields(maybeNestedFields, isLeafNode, errorMessage) {\n  var fields = {};\n  treeTraverse(undefined, maybeNestedFields, isLeafNode, errorMessage, function (path, node) {\n    fields[path] = node;\n  });\n  return fields;\n}\nexport function normalizeValidateRules(validate, rules, validateTrigger) {\n  var validateRules = validate.map(function (item) {\n    var newItem = _extends({}, item, {\n      trigger: item.trigger || []\n    });\n\n    if (typeof newItem.trigger === 'string') {\n      newItem.trigger = [newItem.trigger];\n    }\n\n    return newItem;\n  });\n\n  if (rules) {\n    validateRules.push({\n      trigger: validateTrigger ? [].concat(validateTrigger) : [],\n      rules: rules\n    });\n  }\n\n  return validateRules;\n}\nexport function getValidateTriggers(validateRules) {\n  return validateRules.filter(function (item) {\n    return !!item.rules && item.rules.length;\n  }).map(function (item) {\n    return item.trigger;\n  }).reduce(function (pre, curr) {\n    return pre.concat(curr);\n  }, []);\n}\nexport function getValueFromEvent(e) {\n  // To support custom element\n  if (!e || !e.target) {\n    return e;\n  }\n\n  var target = e.target;\n  return target.type === 'checkbox' ? target.checked : target.value;\n}\nexport function getErrorStrs(errors) {\n  if (errors) {\n    return errors.map(function (e) {\n      if (e && e.message) {\n        return e.message;\n      }\n\n      return e;\n    });\n  }\n\n  return errors;\n}\nexport function getParams(ns, opt, cb) {\n  var names = ns;\n  var options = opt;\n  var callback = cb;\n\n  if (cb === undefined) {\n    if (typeof names === 'function') {\n      callback = names;\n      options = {};\n      names = undefined;\n    } else if (Array.isArray(names)) {\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      } else {\n        options = options || {};\n      }\n    } else {\n      callback = options;\n      options = names || {};\n      names = undefined;\n    }\n  }\n\n  return {\n    names: names,\n    options: options,\n    callback: callback\n  };\n}\nexport function isEmptyObject(obj) {\n  return Object.keys(obj).length === 0;\n}\nexport function hasRules(validate) {\n  if (validate) {\n    return validate.some(function (item) {\n      return item.rules && item.rules.length;\n    });\n  }\n\n  return false;\n}\nexport function startsWith(str, prefix) {\n  return str.lastIndexOf(prefix, 0) === 0;\n}\nexport function supportRef(nodeOrComponent) {\n  var type = isMemo(nodeOrComponent) ? nodeOrComponent.type.type : nodeOrComponent.type; // Function component node\n\n  if (typeof type === 'function' && !(type.prototype && type.prototype.render)) {\n    return false;\n  } // Class component\n\n\n  if (typeof nodeOrComponent === 'function' && !(nodeOrComponent.prototype && nodeOrComponent.prototype.render)) {\n    return false;\n  }\n\n  return true;\n}","map":{"version":3,"names":["_extends","hoistStatics","warning","isMemo","getDisplayName","WrappedComponent","displayName","name","argumentContainer","Container","identity","obj","flattenArray","arr","Array","prototype","concat","apply","treeTraverse","path","arguments","length","undefined","tree","isLeafNode","errorMessage","callback","isArray","forEach","subTree","index","Object","keys","subTreeKey","flattenFields","maybeNestedFields","fields","node","normalizeValidateRules","validate","rules","validateTrigger","validateRules","map","item","newItem","trigger","push","getValidateTriggers","filter","reduce","pre","curr","getValueFromEvent","e","target","type","checked","value","getErrorStrs","errors","message","getParams","ns","opt","cb","names","options","isEmptyObject","hasRules","some","startsWith","str","prefix","lastIndexOf","supportRef","nodeOrComponent","render"],"sources":["E:/Work/PFE/Project folder/DocHelp-WA/node_modules/rc-form/es/utils.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport hoistStatics from 'hoist-non-react-statics';\nimport warning from 'warning';\nimport { isMemo } from 'react-is';\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'WrappedComponent';\n}\n\nexport function argumentContainer(Container, WrappedComponent) {\n  /* eslint no-param-reassign:0 */\n  Container.displayName = 'Form(' + getDisplayName(WrappedComponent) + ')';\n  Container.WrappedComponent = WrappedComponent;\n  return hoistStatics(Container, WrappedComponent);\n}\n\nexport function identity(obj) {\n  return obj;\n}\n\nexport function flattenArray(arr) {\n  return Array.prototype.concat.apply([], arr);\n}\n\nexport function treeTraverse() {\n  var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var tree = arguments[1];\n  var isLeafNode = arguments[2];\n  var errorMessage = arguments[3];\n  var callback = arguments[4];\n\n  if (isLeafNode(path, tree)) {\n    callback(path, tree);\n  } else if (tree === undefined || tree === null) {\n    // Do nothing\n  } else if (Array.isArray(tree)) {\n    tree.forEach(function (subTree, index) {\n      return treeTraverse(path + '[' + index + ']', subTree, isLeafNode, errorMessage, callback);\n    });\n  } else {\n    // It's object and not a leaf node\n    if (typeof tree !== 'object') {\n      warning(false, errorMessage);\n      return;\n    }\n    Object.keys(tree).forEach(function (subTreeKey) {\n      var subTree = tree[subTreeKey];\n      treeTraverse('' + path + (path ? '.' : '') + subTreeKey, subTree, isLeafNode, errorMessage, callback);\n    });\n  }\n}\n\nexport function flattenFields(maybeNestedFields, isLeafNode, errorMessage) {\n  var fields = {};\n  treeTraverse(undefined, maybeNestedFields, isLeafNode, errorMessage, function (path, node) {\n    fields[path] = node;\n  });\n  return fields;\n}\n\nexport function normalizeValidateRules(validate, rules, validateTrigger) {\n  var validateRules = validate.map(function (item) {\n    var newItem = _extends({}, item, {\n      trigger: item.trigger || []\n    });\n    if (typeof newItem.trigger === 'string') {\n      newItem.trigger = [newItem.trigger];\n    }\n    return newItem;\n  });\n  if (rules) {\n    validateRules.push({\n      trigger: validateTrigger ? [].concat(validateTrigger) : [],\n      rules: rules\n    });\n  }\n  return validateRules;\n}\n\nexport function getValidateTriggers(validateRules) {\n  return validateRules.filter(function (item) {\n    return !!item.rules && item.rules.length;\n  }).map(function (item) {\n    return item.trigger;\n  }).reduce(function (pre, curr) {\n    return pre.concat(curr);\n  }, []);\n}\n\nexport function getValueFromEvent(e) {\n  // To support custom element\n  if (!e || !e.target) {\n    return e;\n  }\n  var target = e.target;\n\n  return target.type === 'checkbox' ? target.checked : target.value;\n}\n\nexport function getErrorStrs(errors) {\n  if (errors) {\n    return errors.map(function (e) {\n      if (e && e.message) {\n        return e.message;\n      }\n      return e;\n    });\n  }\n  return errors;\n}\n\nexport function getParams(ns, opt, cb) {\n  var names = ns;\n  var options = opt;\n  var callback = cb;\n  if (cb === undefined) {\n    if (typeof names === 'function') {\n      callback = names;\n      options = {};\n      names = undefined;\n    } else if (Array.isArray(names)) {\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      } else {\n        options = options || {};\n      }\n    } else {\n      callback = options;\n      options = names || {};\n      names = undefined;\n    }\n  }\n  return {\n    names: names,\n    options: options,\n    callback: callback\n  };\n}\n\nexport function isEmptyObject(obj) {\n  return Object.keys(obj).length === 0;\n}\n\nexport function hasRules(validate) {\n  if (validate) {\n    return validate.some(function (item) {\n      return item.rules && item.rules.length;\n    });\n  }\n  return false;\n}\n\nexport function startsWith(str, prefix) {\n  return str.lastIndexOf(prefix, 0) === 0;\n}\n\nexport function supportRef(nodeOrComponent) {\n  var type = isMemo(nodeOrComponent) ? nodeOrComponent.type.type : nodeOrComponent.type;\n\n  // Function component node\n  if (typeof type === 'function' && !(type.prototype && type.prototype.render)) {\n    return false;\n  }\n\n  // Class component\n  if (typeof nodeOrComponent === 'function' && !(nodeOrComponent.prototype && nodeOrComponent.prototype.render)) {\n    return false;\n  }\n\n  return true;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}