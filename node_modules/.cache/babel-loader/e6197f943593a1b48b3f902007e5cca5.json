{"ast":null,"code":"import { spring, tween, action, pointer, transform, decay, keyframes, physics, value, chain, delay, listen, styler } from 'popmotion';\nimport { linear, easeIn, easeOut, easeInOut, circIn, circOut, circInOut, backIn, backOut, backInOut, anticipate, cubicBezier } from '@popmotion/easing';\nimport { percent, number, degrees, px, vw, vh } from 'style-value-types';\nimport poseFactory from 'pose-core';\nimport { invariant } from 'hey-listen';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nvar BoundingBoxDimension;\n\n(function (BoundingBoxDimension) {\n  BoundingBoxDimension[\"width\"] = \"width\";\n  BoundingBoxDimension[\"height\"] = \"height\";\n  BoundingBoxDimension[\"left\"] = \"left\";\n  BoundingBoxDimension[\"right\"] = \"right\";\n  BoundingBoxDimension[\"top\"] = \"top\";\n  BoundingBoxDimension[\"bottom\"] = \"bottom\";\n})(BoundingBoxDimension || (BoundingBoxDimension = {}));\n\nvar measureWithoutTransform = function (element) {\n  var transform$$1 = element.style.transform;\n  element.style.transform = '';\n  var bbox = element.getBoundingClientRect();\n  element.style.transform = transform$$1;\n  return bbox;\n};\n\nvar resolveProp = function (target, props) {\n  return typeof target === 'function' ? target(props) : target;\n};\n\nvar interpolate = transform.interpolate;\n\nvar singleAxisPointer = function (axis) {\n  return function (from) {\n    var _a;\n\n    return pointer((_a = {}, _a[axis] = typeof from === 'string' ? parseFloat(from) : from, _a)).pipe(function (v) {\n      return v[axis];\n    });\n  };\n};\n\nvar pointerX = /*#__PURE__*/singleAxisPointer('x');\nvar pointerY = /*#__PURE__*/singleAxisPointer('y');\n\nvar createPointer = function (axisPointerCreator, min, max, measurement) {\n  return function (transitionProps) {\n    var from = transitionProps.from,\n        type = transitionProps.type,\n        dimensions = transitionProps.dimensions,\n        dragBounds = transitionProps.dragBounds;\n    var axisPointer = axisPointerCreator(dimensions.measurementAsPixels(measurement, from, type));\n    var transformQueue = [];\n\n    if (dragBounds) {\n      var resolvedDragBounds_1 = resolveProp(dragBounds, transitionProps);\n\n      if (resolvedDragBounds_1[min] !== undefined) {\n        transformQueue.push(function (v) {\n          return Math.max(v, dimensions.measurementAsPixels(measurement, resolvedDragBounds_1[min], type));\n        });\n      }\n\n      if (resolvedDragBounds_1[max] !== undefined) {\n        transformQueue.push(function (v) {\n          return Math.min(v, dimensions.measurementAsPixels(measurement, resolvedDragBounds_1[max], type));\n        });\n      }\n    }\n\n    if (type === percent) {\n      transformQueue.push(interpolate([0, dimensions.get(measurement)], [0, 100], {\n        clamp: false\n      }), function (v) {\n        return v + '%';\n      });\n    }\n\n    return transformQueue.length ? axisPointer.pipe.apply(axisPointer, transformQueue) : axisPointer;\n  };\n};\n\nvar just = function (from) {\n  return action(function (_a) {\n    var update = _a.update,\n        complete = _a.complete;\n    update(from);\n    complete();\n  });\n};\n\nvar underDampedSpring = function (_a) {\n  var from = _a.from,\n      velocity = _a.velocity,\n      to = _a.to;\n  return spring({\n    from: from,\n    to: to,\n    velocity: velocity,\n    stiffness: 500,\n    damping: 25,\n    restDelta: 0.5,\n    restSpeed: 10\n  });\n};\n\nvar overDampedSpring = function (_a) {\n  var from = _a.from,\n      velocity = _a.velocity,\n      to = _a.to;\n  return spring({\n    from: from,\n    to: to,\n    velocity: velocity,\n    stiffness: 700,\n    damping: to === 0 ? 100 : 35\n  });\n};\n\nvar linearTween = function (_a) {\n  var from = _a.from,\n      to = _a.to;\n  return tween({\n    from: from,\n    to: to,\n    ease: linear\n  });\n};\n\nvar intelligentTransition = {\n  x: underDampedSpring,\n  y: underDampedSpring,\n  z: underDampedSpring,\n  rotate: underDampedSpring,\n  rotateX: underDampedSpring,\n  rotateY: underDampedSpring,\n  rotateZ: underDampedSpring,\n  scaleX: overDampedSpring,\n  scaleY: overDampedSpring,\n  scale: overDampedSpring,\n  opacity: linearTween,\n  default: tween\n};\n\nvar dragAction = /*#__PURE__*/__assign( /*#__PURE__*/__assign({}, intelligentTransition), {\n  x: /*#__PURE__*/createPointer(pointerX, 'left', 'right', BoundingBoxDimension.width),\n  y: /*#__PURE__*/createPointer(pointerY, 'top', 'bottom', BoundingBoxDimension.height)\n});\n\nvar justAxis = function (_a) {\n  var from = _a.from;\n  return just(from);\n};\n\nvar intelligentDragEnd = /*#__PURE__*/__assign( /*#__PURE__*/__assign({}, intelligentTransition), {\n  x: justAxis,\n  y: justAxis\n});\n\nvar defaultTransitions = /*#__PURE__*/new Map([['default', intelligentTransition], ['drag', dragAction], ['dragEnd', intelligentDragEnd]]);\nvar animationLookup = {\n  tween: tween,\n  spring: spring,\n  decay: decay,\n  keyframes: keyframes,\n  physics: physics\n};\nvar easingLookup = {\n  linear: linear,\n  easeIn: easeIn,\n  easeOut: easeOut,\n  easeInOut: easeInOut,\n  circIn: circIn,\n  circOut: circOut,\n  circInOut: circInOut,\n  backIn: backIn,\n  backOut: backOut,\n  backInOut: backInOut,\n  anticipate: anticipate\n};\nvar auto = {\n  test: function (v) {\n    return v === 'auto';\n  },\n  parse: function (v) {\n    return v;\n  }\n};\nvar valueTypeTests = [number, degrees, percent, px, vw, vh, auto];\n\nvar testValueType = function (v) {\n  return function (type) {\n    return type.test(v);\n  };\n};\n\nvar getValueType = function (v) {\n  return valueTypeTests.find(testValueType(v));\n};\n\nvar createPassiveValue = function (init, parent, transform$$1) {\n  var raw = value(transform$$1(init));\n  parent.raw.subscribe(function (v) {\n    return raw.update(transform$$1(v));\n  });\n  return {\n    raw: raw\n  };\n};\n\nvar createValue = function (init) {\n  var type = getValueType(init);\n  var raw = value(init);\n  return {\n    raw: raw,\n    type: type\n  };\n};\n\nvar addActionDelay = function (delay$$1, transition) {\n  if (delay$$1 === void 0) {\n    delay$$1 = 0;\n  }\n\n  return chain(delay(delay$$1), transition);\n};\n\nvar isCubicBezierArgs = function (args) {\n  return typeof args[0] === 'number';\n};\n\nvar getAction = function (v, _a, _b) {\n  var from = _b.from,\n      to = _b.to,\n      velocity = _b.velocity;\n\n  var _c = _a.type,\n      type = _c === void 0 ? 'tween' : _c,\n      definedEase = _a.ease,\n      def = __rest(_a, [\"type\", \"ease\"]);\n\n  invariant(animationLookup[type] !== undefined, \"Invalid transition type '\" + type + \"'. Valid transition types are: tween, spring, decay, physics and keyframes.\");\n  var ease;\n\n  if (type === 'tween') {\n    if (typeof definedEase !== 'function') {\n      if (typeof definedEase === 'string') {\n        invariant(easingLookup[definedEase] !== undefined, \"Invalid easing type '\" + definedEase + \"'. popmotion.io/pose/api/config\");\n        ease = easingLookup[definedEase];\n      } else if (Array.isArray(definedEase) && isCubicBezierArgs(definedEase)) {\n        invariant(definedEase.length === 4, \"Cubic bezier arrays must contain four numerical values.\");\n        var x1 = definedEase[0],\n            y1 = definedEase[1],\n            x2 = definedEase[2],\n            y2 = definedEase[3];\n        ease = cubicBezier(x1, y1, x2, y2);\n      }\n    }\n  }\n\n  ease = ease || definedEase;\n  var baseProps = type !== 'keyframes' ? {\n    from: from,\n    to: to,\n    velocity: velocity,\n    ease: ease\n  } : {\n    ease: ease\n  };\n  return animationLookup[type](__assign(__assign({}, baseProps), def));\n};\n\nvar isAction = function (action$$1) {\n  return typeof action$$1.start !== 'undefined';\n};\n\nvar pose = function (_a) {\n  var transformPose = _a.transformPose,\n      addListenerToValue = _a.addListenerToValue,\n      extendAPI = _a.extendAPI,\n      readValueFromSource = _a.readValueFromSource,\n      posePriority = _a.posePriority,\n      setValueNative = _a.setValueNative;\n  return poseFactory({\n    bindOnChange: function (values, onChange) {\n      return function (key) {\n        if (!values.has(key)) return;\n        var raw = values.get(key).raw;\n        raw.subscribe(onChange[key]);\n      };\n    },\n    readValue: function (_a) {\n      var raw = _a.raw;\n      return raw.get();\n    },\n    setValue: function (_a, to) {\n      var raw = _a.raw;\n      return raw.update(to);\n    },\n    createValue: function (init, key, _a, _b) {\n      var elementStyler = _a.elementStyler;\n\n      var _c = _b === void 0 ? {} : _b,\n          passiveParent = _c.passiveParent,\n          passiveProps = _c.passiveProps;\n\n      var val = passiveParent ? createPassiveValue(init, passiveParent, passiveProps) : createValue(init);\n      val.raw.subscribe(addListenerToValue(key, elementStyler));\n      return val;\n    },\n    convertValue: function (raw, key, _a) {\n      var elementStyler = _a.elementStyler;\n      raw.subscribe(addListenerToValue(key, elementStyler));\n      return {\n        raw: raw,\n        type: getValueType(raw.get())\n      };\n    },\n    getTransitionProps: function (_a, to) {\n      var raw = _a.raw,\n          type = _a.type;\n      return {\n        from: raw.get(),\n        velocity: raw.getVelocity(),\n        to: to,\n        type: type\n      };\n    },\n    resolveTarget: function (_, to) {\n      return to;\n    },\n    selectValueToRead: function (_a) {\n      var raw = _a.raw;\n      return raw;\n    },\n    startAction: function (_a, action$$1, complete) {\n      var raw = _a.raw;\n      var reaction = {\n        update: function (v) {\n          return raw.update(v);\n        },\n        complete: complete\n      };\n      return action$$1.start(reaction);\n    },\n    stopAction: function (action$$1) {\n      return action$$1.stop();\n    },\n    getInstantTransition: function (_, _a) {\n      var to = _a.to;\n      return just(to);\n    },\n    convertTransitionDefinition: function (val, def, props) {\n      if (isAction(def)) return def;\n\n      var delay$$1 = def.delay,\n          min = def.min,\n          max = def.max,\n          round = def.round,\n          remainingDef = __rest(def, [\"delay\", \"min\", \"max\", \"round\"]);\n\n      var action$$1 = getAction(val, remainingDef, props);\n      var outputPipe = [];\n      if (delay$$1) action$$1 = addActionDelay(delay$$1, action$$1);\n      if (min !== undefined) outputPipe.push(function (v) {\n        return Math.max(v, min);\n      });\n      if (max !== undefined) outputPipe.push(function (v) {\n        return Math.min(v, max);\n      });\n      if (round) outputPipe.push(Math.round);\n      return outputPipe.length ? action$$1.pipe.apply(action$$1, outputPipe) : action$$1;\n    },\n    setValueNative: setValueNative,\n    addActionDelay: addActionDelay,\n    defaultTransitions: defaultTransitions,\n    transformPose: transformPose,\n    readValueFromSource: readValueFromSource,\n    posePriority: posePriority,\n    extendAPI: extendAPI\n  });\n};\n\nvar createDimensions = function (element) {\n  var hasMeasured = false;\n  var current = {\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0\n  };\n  return {\n    get: function (measurement) {\n      return measurement ? current[measurement] : current;\n    },\n    measure: function () {\n      current = element.getBoundingClientRect();\n      hasMeasured = true;\n      return current;\n    },\n    measurementAsPixels: function (measurement, value$$1, type) {\n      return type === percent ? (typeof value$$1 === 'string' ? parseFloat(value$$1) : value$$1) / 100 * current[measurement] : value$$1;\n    },\n    has: function () {\n      return hasMeasured;\n    }\n  };\n};\n\nvar makeUIEventApplicator = function (_a) {\n  var startEvents = _a.startEvents,\n      endEvents = _a.endEvents,\n      startPose = _a.startPose,\n      endPose = _a.endPose,\n      startCallback = _a.startCallback,\n      endCallback = _a.endCallback,\n      useDocumentToEnd = _a.useDocumentToEnd,\n      preventScroll = _a.preventScroll;\n  return function (element, activeActions, poser, config) {\n    var startListener = startPose + 'Start';\n    var endListener = startPose + 'End';\n    var moveListener = startPose + 'Move';\n\n    if (preventScroll) {\n      var touchMoveListener = listen(element, 'touchmove', {\n        passive: false\n      }).start(function (e) {\n        e.preventDefault();\n      });\n      activeActions.set(moveListener, touchMoveListener);\n    }\n\n    var eventStartListener = listen(element, startEvents).start(function (startEvent) {\n      poser.unset(endPose);\n      poser.set(startPose);\n      if (startCallback && config[startCallback]) config[startCallback](startEvent);\n      var eventEndListener = listen(useDocumentToEnd ? document.documentElement : element, endEvents + (useDocumentToEnd ? ' mouseenter' : '')).start(function (endEvent) {\n        if (useDocumentToEnd && endEvent.type === 'mouseenter' && endEvent.buttons === 1) {\n          return;\n        }\n\n        activeActions.get(endListener).stop();\n        poser.unset(startPose);\n        poser.set(endPose);\n        if (endCallback && config[endCallback]) config[endCallback](endEvent);\n      });\n      activeActions.set(endListener, eventEndListener);\n    });\n    activeActions.set(startListener, eventStartListener);\n  };\n};\n\nvar events = {\n  draggable: /*#__PURE__*/makeUIEventApplicator({\n    startEvents: 'mousedown touchstart',\n    endEvents: 'mouseup touchend',\n    startPose: 'drag',\n    endPose: 'dragEnd',\n    startCallback: 'onDragStart',\n    endCallback: 'onDragEnd',\n    useDocumentToEnd: true,\n    preventScroll: true\n  }),\n  hoverable: /*#__PURE__*/makeUIEventApplicator({\n    startEvents: 'mouseenter',\n    endEvents: 'mouseleave',\n    startPose: 'hover',\n    endPose: 'hoverEnd'\n  }),\n  focusable: /*#__PURE__*/makeUIEventApplicator({\n    startEvents: 'focus',\n    endEvents: 'blur',\n    startPose: 'focus',\n    endPose: 'blur'\n  }),\n  pressable: /*#__PURE__*/makeUIEventApplicator({\n    startEvents: 'mousedown touchstart',\n    endEvents: 'mouseup touchend',\n    startPose: 'press',\n    endPose: 'pressEnd',\n    startCallback: 'onPressStart',\n    endCallback: 'onPressEnd',\n    useDocumentToEnd: true\n  })\n};\nvar eventKeys = /*#__PURE__*/Object.keys(events);\n\nvar appendEventListeners = function (element, activeActions, poser, _a) {\n  var props = _a.props;\n  return eventKeys.forEach(function (key) {\n    if (props[key]) events[key](element, activeActions, poser, props);\n  });\n};\n\nvar ORIGIN_START = 0;\nvar ORIGIN_CENTER = '50%';\nvar ORIGIN_END = '100%';\n\nvar findCenter = function (_a) {\n  var top = _a.top,\n      right = _a.right,\n      bottom = _a.bottom,\n      left = _a.left;\n  return {\n    x: (left + right) / 2,\n    y: (top + bottom) / 2\n  };\n};\n\nvar positionalProps = ['width', 'height', 'top', 'left', 'bottom', 'right'];\nvar positionalPropsDict = /*#__PURE__*/new Set(positionalProps);\n\nvar checkPositionalProp = function (key) {\n  return positionalPropsDict.has(key);\n};\n\nvar hasPositionalProps = function (pose) {\n  return Object.keys(pose).some(checkPositionalProp);\n};\n\nvar isFlipPose = function (flip, key, state) {\n  return state.props.element instanceof HTMLElement && (flip === true || key === 'flip');\n};\n\nvar setValue = function (_a, key, to) {\n  var values = _a.values,\n      props = _a.props;\n\n  if (values.has(key)) {\n    var raw = values.get(key).raw;\n    raw.update(to);\n    raw.update(to);\n  } else {\n    values.set(key, {\n      raw: value(to, function (v) {\n        return props.elementStyler.set(key, v);\n      })\n    });\n  }\n};\n\nvar explicitlyFlipPose = function (state, nextPose) {\n  var _a = state.props,\n      dimensions = _a.dimensions,\n      elementStyler = _a.elementStyler;\n  dimensions.measure();\n\n  var width = nextPose.width,\n      height = nextPose.height,\n      top = nextPose.top,\n      left = nextPose.left,\n      bottom = nextPose.bottom,\n      right = nextPose.right,\n      position = nextPose.position,\n      remainingPose = __rest(nextPose, [\"width\", \"height\", \"top\", \"left\", \"bottom\", \"right\", \"position\"]);\n\n  var propsToSet = positionalProps.concat('position').reduce(function (acc, key) {\n    if (nextPose[key] !== undefined) {\n      acc[key] = resolveProp(nextPose[key], state.props);\n    }\n\n    return acc;\n  }, {});\n  elementStyler.set(propsToSet).render();\n  return implicitlyFlipPose(state, remainingPose);\n};\n\nvar implicitlyFlipPose = function (state, nextPose) {\n  var _a = state.props,\n      dimensions = _a.dimensions,\n      element = _a.element,\n      elementStyler = _a.elementStyler;\n  if (!dimensions.has()) return {};\n  var prev = dimensions.get();\n  var next = measureWithoutTransform(element);\n  var originX = prev.left === next.left ? ORIGIN_START : prev.right === next.right ? ORIGIN_END : ORIGIN_CENTER;\n  var originY = prev.top === next.top ? ORIGIN_START : prev.bottom === next.bottom ? ORIGIN_END : ORIGIN_CENTER;\n  elementStyler.set({\n    originX: originX,\n    originY: originY\n  });\n\n  if (prev.width !== next.width) {\n    setValue(state, 'scaleX', prev.width / next.width);\n    nextPose.scaleX = 1;\n  }\n\n  if (prev.height !== next.height) {\n    setValue(state, 'scaleY', prev.height / next.height);\n    nextPose.scaleY = 1;\n  }\n\n  var prevCenter = findCenter(prev);\n  var nextCenter = findCenter(next);\n\n  if (originX === ORIGIN_CENTER) {\n    setValue(state, 'x', prevCenter.x - nextCenter.x);\n    nextPose.x = 0;\n  }\n\n  if (originY === ORIGIN_CENTER) {\n    setValue(state, 'y', prevCenter.y - nextCenter.y);\n    nextPose.y = 0;\n  }\n\n  elementStyler.render();\n  return nextPose;\n};\n\nvar flipPose = function (props, nextPose) {\n  return hasPositionalProps(nextPose) ? explicitlyFlipPose(props, nextPose) : implicitlyFlipPose(props, nextPose);\n};\n\nvar getPosFromMatrix = function (matrix, pos) {\n  return parseFloat(matrix.split(', ')[pos]);\n};\n\nvar getTranslateFromMatrix = function (pos2, pos3) {\n  return function (element, bbox, _a) {\n    var transform$$1 = _a.transform;\n    if (!transform$$1 || transform$$1 === 'none') return 0;\n    var matrix3d = transform$$1.match(/^matrix3d\\((.+)\\)$/);\n    if (matrix3d) return getPosFromMatrix(matrix3d[1], pos3);\n    return getPosFromMatrix(transform$$1.match(/^matrix\\((.+)\\)$/)[1], pos2);\n  };\n};\n\nvar positionalValues = {\n  width: function (element, _a) {\n    var width = _a.width;\n    return width;\n  },\n  height: function (element, _a) {\n    var height = _a.height;\n    return height;\n  },\n  top: function (element, bbox, _a) {\n    var top = _a.top;\n    return parseFloat(top);\n  },\n  left: function (element, bbox, _a) {\n    var left = _a.left;\n    return parseFloat(left);\n  },\n  bottom: function (element, _a, _b) {\n    var height = _a.height;\n    var top = _b.top;\n    return parseFloat(top) + height;\n  },\n  right: function (element, _a, _b) {\n    var width = _a.width;\n    var left = _b.left;\n    return parseFloat(left) + width;\n  },\n  x: /*#__PURE__*/getTranslateFromMatrix(4, 13),\n  y: /*#__PURE__*/getTranslateFromMatrix(5, 14)\n};\n\nvar isPositionalKey = function (v) {\n  return positionalValues[v] !== undefined;\n};\n\nvar isPositional = function (pose) {\n  return Object.keys(pose).some(isPositionalKey);\n};\n\nvar convertPositionalUnits = function (state, nextPose) {\n  var values = state.values,\n      props = state.props;\n  var element = props.element,\n      elementStyler = props.elementStyler;\n  var positionalPoseKeys = Object.keys(nextPose).filter(isPositionalKey);\n  var changedPositionalKeys = [];\n  var elementComputedStyle = getComputedStyle(element);\n  var applyAtEndHasBeenCopied = false;\n  positionalPoseKeys.forEach(function (key) {\n    var value$$1 = values.get(key);\n    var fromValueType = getValueType(value$$1.raw.get());\n    var to = resolveProp(nextPose[key], props);\n    var toValueType = getValueType(to);\n\n    if (fromValueType !== toValueType) {\n      changedPositionalKeys.push(key);\n\n      if (!applyAtEndHasBeenCopied) {\n        applyAtEndHasBeenCopied = true;\n        nextPose.applyAtEnd = nextPose.applyAtEnd ? __assign({}, nextPose.applyAtEnd) : {};\n      }\n\n      nextPose.applyAtEnd[key] = nextPose.applyAtEnd[key] || nextPose[key];\n      setValue(state, key, to);\n    }\n  });\n  if (!changedPositionalKeys.length) return nextPose;\n  var originBbox = element.getBoundingClientRect();\n  var top = elementComputedStyle.top,\n      left = elementComputedStyle.left,\n      bottom = elementComputedStyle.bottom,\n      right = elementComputedStyle.right,\n      transform$$1 = elementComputedStyle.transform;\n  var originComputedStyle = {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    transform: transform$$1\n  };\n  elementStyler.render();\n  var targetBbox = element.getBoundingClientRect();\n  changedPositionalKeys.forEach(function (key) {\n    setValue(state, key, positionalValues[key](element, originBbox, originComputedStyle));\n    nextPose[key] = positionalValues[key](element, targetBbox, elementComputedStyle);\n  });\n  elementStyler.render();\n  return nextPose;\n};\n\nvar getCurrent = function (prop) {\n  return function (_a) {\n    var elementStyler = _a.elementStyler;\n    return elementStyler.get(prop);\n  };\n};\n\nvar dragPoses = function (draggable) {\n  var drag = {\n    preTransition: function (_a) {\n      var dimensions = _a.dimensions;\n      return dimensions.measure();\n    }\n  };\n  var dragEnd = {};\n\n  if (draggable === true || draggable === 'x') {\n    drag.x = dragEnd.x = getCurrent('x');\n  }\n\n  if (draggable === true || draggable === 'y') {\n    drag.y = dragEnd.y = getCurrent('y');\n  }\n\n  return {\n    drag: drag,\n    dragEnd: dragEnd\n  };\n};\n\nvar createPoseConfig = function (element, _a) {\n  var onDragStart = _a.onDragStart,\n      onDragEnd = _a.onDragEnd,\n      onPressStart = _a.onPressStart,\n      onPressEnd = _a.onPressEnd,\n      draggable = _a.draggable,\n      hoverable = _a.hoverable,\n      focusable = _a.focusable,\n      pressable = _a.pressable,\n      dragBounds = _a.dragBounds,\n      config = __rest(_a, [\"onDragStart\", \"onDragEnd\", \"onPressStart\", \"onPressEnd\", \"draggable\", \"hoverable\", \"focusable\", \"pressable\", \"dragBounds\"]);\n\n  var poseConfig = __assign(__assign({\n    flip: {}\n  }, config), {\n    props: __assign(__assign({}, config.props), {\n      onDragStart: onDragStart,\n      onDragEnd: onDragEnd,\n      onPressStart: onPressStart,\n      onPressEnd: onPressEnd,\n      dragBounds: dragBounds,\n      draggable: draggable,\n      hoverable: hoverable,\n      focusable: focusable,\n      pressable: pressable,\n      element: element,\n      elementStyler: styler(element, {\n        preparseOutput: false\n      }),\n      dimensions: createDimensions(element)\n    })\n  });\n\n  if (draggable) {\n    var _b = dragPoses(draggable),\n        drag = _b.drag,\n        dragEnd = _b.dragEnd;\n\n    poseConfig.drag = __assign(__assign({}, drag), poseConfig.drag);\n    poseConfig.dragEnd = __assign(__assign({}, dragEnd), poseConfig.dragEnd);\n  }\n\n  return poseConfig;\n};\n\nvar domPose = /*#__PURE__*/pose({\n  posePriority: ['drag', 'press', 'focus', 'hover'],\n  transformPose: function (_a, name, state) {\n    var flip = _a.flip,\n        pose$$1 = __rest(_a, [\"flip\"]);\n\n    if (isFlipPose(flip, name, state)) {\n      return flipPose(state, pose$$1);\n    } else if (isPositional(pose$$1)) {\n      return convertPositionalUnits(state, pose$$1);\n    }\n\n    return pose$$1;\n  },\n  forceRender: function (_a) {\n    var elementStyler = _a.elementStyler;\n    elementStyler.render();\n  },\n  addListenerToValue: function (key, elementStyler) {\n    return function (v) {\n      return elementStyler.set(key, v);\n    };\n  },\n  readValueFromSource: function (key, _a) {\n    var elementStyler = _a.elementStyler,\n        dragBounds = _a.dragBounds;\n    var value$$1 = elementStyler.get(key);\n\n    if (dragBounds && (key === 'x' || key === 'y')) {\n      var bound = key === 'x' ? dragBounds.left || dragBounds.right : dragBounds.top || dragBounds.bottom;\n\n      if (bound) {\n        var boundType = getValueType(bound);\n        value$$1 = boundType.transform(value$$1);\n      }\n    }\n\n    return isNaN(value$$1) ? value$$1 : parseFloat(value$$1);\n  },\n  setValueNative: function (key, to, _a) {\n    var elementStyler = _a.elementStyler;\n    return elementStyler.set(key, to);\n  },\n  extendAPI: function (api, _a, config) {\n    var props = _a.props,\n        activeActions = _a.activeActions;\n    var measure = props.dimensions.measure;\n\n    var poserApi = __assign(__assign({}, api), {\n      addChild: function (element, childConfig) {\n        return api._addChild(createPoseConfig(element, childConfig), domPose);\n      },\n      measure: measure,\n      flip: function (op) {\n        if (op) {\n          measure();\n          op();\n        }\n\n        return api.set('flip');\n      }\n    });\n\n    props.elementStyler.render();\n    appendEventListeners(props.element, activeActions, poserApi, config);\n    return poserApi;\n  }\n});\n\nvar domPose$1 = function (element, config) {\n  return domPose(createPoseConfig(element, config));\n};\n\nexport default domPose$1;","map":{"version":3,"names":["spring","tween","action","pointer","transform","decay","keyframes","physics","value","chain","delay","listen","styler","linear","easeIn","easeOut","easeInOut","circIn","circOut","circInOut","backIn","backOut","backInOut","anticipate","cubicBezier","percent","number","degrees","px","vw","vh","poseFactory","invariant","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","BoundingBoxDimension","measureWithoutTransform","element","transform$$1","style","bbox","getBoundingClientRect","resolveProp","target","props","interpolate","singleAxisPointer","axis","from","_a","parseFloat","pipe","v","pointerX","pointerY","createPointer","axisPointerCreator","min","max","measurement","transitionProps","type","dimensions","dragBounds","axisPointer","measurementAsPixels","transformQueue","resolvedDragBounds_1","undefined","push","Math","get","clamp","just","update","complete","underDampedSpring","velocity","to","stiffness","damping","restDelta","restSpeed","overDampedSpring","linearTween","ease","intelligentTransition","x","y","z","rotate","rotateX","rotateY","rotateZ","scaleX","scaleY","scale","opacity","default","dragAction","width","height","justAxis","intelligentDragEnd","defaultTransitions","Map","animationLookup","easingLookup","auto","test","parse","valueTypeTests","testValueType","getValueType","find","createPassiveValue","init","parent","raw","subscribe","createValue","addActionDelay","delay$$1","transition","isCubicBezierArgs","args","getAction","_b","_c","definedEase","def","Array","isArray","x1","y1","x2","y2","baseProps","isAction","action$$1","start","pose","transformPose","addListenerToValue","extendAPI","readValueFromSource","posePriority","setValueNative","bindOnChange","values","onChange","key","has","readValue","setValue","elementStyler","passiveParent","passiveProps","val","convertValue","getTransitionProps","getVelocity","resolveTarget","_","selectValueToRead","startAction","reaction","stopAction","stop","getInstantTransition","convertTransitionDefinition","round","remainingDef","outputPipe","createDimensions","hasMeasured","current","top","left","bottom","right","measure","value$$1","makeUIEventApplicator","startEvents","endEvents","startPose","endPose","startCallback","endCallback","useDocumentToEnd","preventScroll","activeActions","poser","config","startListener","endListener","moveListener","touchMoveListener","passive","preventDefault","set","eventStartListener","startEvent","unset","eventEndListener","document","documentElement","endEvent","buttons","events","draggable","hoverable","focusable","pressable","eventKeys","keys","appendEventListeners","forEach","ORIGIN_START","ORIGIN_CENTER","ORIGIN_END","findCenter","positionalProps","positionalPropsDict","Set","checkPositionalProp","hasPositionalProps","some","isFlipPose","flip","state","HTMLElement","explicitlyFlipPose","nextPose","position","remainingPose","propsToSet","concat","reduce","acc","render","implicitlyFlipPose","prev","next","originX","originY","prevCenter","nextCenter","flipPose","getPosFromMatrix","matrix","pos","split","getTranslateFromMatrix","pos2","pos3","matrix3d","match","positionalValues","isPositionalKey","isPositional","convertPositionalUnits","positionalPoseKeys","filter","changedPositionalKeys","elementComputedStyle","getComputedStyle","applyAtEndHasBeenCopied","fromValueType","toValueType","applyAtEnd","originBbox","originComputedStyle","targetBbox","getCurrent","prop","dragPoses","drag","preTransition","dragEnd","createPoseConfig","onDragStart","onDragEnd","onPressStart","onPressEnd","poseConfig","preparseOutput","domPose","name","pose$$1","forceRender","bound","boundType","isNaN","api","poserApi","addChild","childConfig","_addChild","op","domPose$1"],"sources":["E:/Work/PFE/Project folder/DocHelp-WA/node_modules/popmotion-pose/dist/popmotion-pose.es.js"],"sourcesContent":["import { spring, tween, action, pointer, transform, decay, keyframes, physics, value, chain, delay, listen, styler } from 'popmotion';\nimport { linear, easeIn, easeOut, easeInOut, circIn, circOut, circInOut, backIn, backOut, backInOut, anticipate, cubicBezier } from '@popmotion/easing';\nimport { percent, number, degrees, px, vw, vh } from 'style-value-types';\nimport poseFactory from 'pose-core';\nimport { invariant } from 'hey-listen';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\nvar __assign = function () {\n    __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n    }\n    return t;\n}\n\nvar BoundingBoxDimension;\n(function (BoundingBoxDimension) {\n    BoundingBoxDimension[\"width\"] = \"width\";\n    BoundingBoxDimension[\"height\"] = \"height\";\n    BoundingBoxDimension[\"left\"] = \"left\";\n    BoundingBoxDimension[\"right\"] = \"right\";\n    BoundingBoxDimension[\"top\"] = \"top\";\n    BoundingBoxDimension[\"bottom\"] = \"bottom\";\n})(BoundingBoxDimension || (BoundingBoxDimension = {}));\n\nvar measureWithoutTransform = function (element) {\n    var transform$$1 = element.style.transform;\n    element.style.transform = '';\n    var bbox = element.getBoundingClientRect();\n    element.style.transform = transform$$1;\n    return bbox;\n};\nvar resolveProp = function (target, props) {\n    return typeof target === 'function' ? target(props) : target;\n};\n\nvar interpolate = transform.interpolate;\nvar singleAxisPointer = function (axis) {\n    return function (from) {\n        var _a;\n        return pointer((_a = {}, _a[axis] = typeof from === 'string' ? parseFloat(from) : from, _a)).pipe(function (v) {\n            return v[axis];\n        });\n    };\n};\nvar pointerX = /*#__PURE__*/singleAxisPointer('x');\nvar pointerY = /*#__PURE__*/singleAxisPointer('y');\nvar createPointer = function (axisPointerCreator, min, max, measurement) {\n    return function (transitionProps) {\n        var from = transitionProps.from,\n            type = transitionProps.type,\n            dimensions = transitionProps.dimensions,\n            dragBounds = transitionProps.dragBounds;\n        var axisPointer = axisPointerCreator(dimensions.measurementAsPixels(measurement, from, type));\n        var transformQueue = [];\n        if (dragBounds) {\n            var resolvedDragBounds_1 = resolveProp(dragBounds, transitionProps);\n            if (resolvedDragBounds_1[min] !== undefined) {\n                transformQueue.push(function (v) {\n                    return Math.max(v, dimensions.measurementAsPixels(measurement, resolvedDragBounds_1[min], type));\n                });\n            }\n            if (resolvedDragBounds_1[max] !== undefined) {\n                transformQueue.push(function (v) {\n                    return Math.min(v, dimensions.measurementAsPixels(measurement, resolvedDragBounds_1[max], type));\n                });\n            }\n        }\n        if (type === percent) {\n            transformQueue.push(interpolate([0, dimensions.get(measurement)], [0, 100], { clamp: false }), function (v) {\n                return v + '%';\n            });\n        }\n        return transformQueue.length ? axisPointer.pipe.apply(axisPointer, transformQueue) : axisPointer;\n    };\n};\nvar just = function (from) {\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        update(from);\n        complete();\n    });\n};\nvar underDampedSpring = function (_a) {\n    var from = _a.from,\n        velocity = _a.velocity,\n        to = _a.to;\n    return spring({\n        from: from,\n        to: to,\n        velocity: velocity,\n        stiffness: 500,\n        damping: 25,\n        restDelta: 0.5,\n        restSpeed: 10\n    });\n};\nvar overDampedSpring = function (_a) {\n    var from = _a.from,\n        velocity = _a.velocity,\n        to = _a.to;\n    return spring({ from: from, to: to, velocity: velocity, stiffness: 700, damping: to === 0 ? 100 : 35 });\n};\nvar linearTween = function (_a) {\n    var from = _a.from,\n        to = _a.to;\n    return tween({ from: from, to: to, ease: linear });\n};\nvar intelligentTransition = {\n    x: underDampedSpring,\n    y: underDampedSpring,\n    z: underDampedSpring,\n    rotate: underDampedSpring,\n    rotateX: underDampedSpring,\n    rotateY: underDampedSpring,\n    rotateZ: underDampedSpring,\n    scaleX: overDampedSpring,\n    scaleY: overDampedSpring,\n    scale: overDampedSpring,\n    opacity: linearTween,\n    default: tween\n};\nvar dragAction = /*#__PURE__*/__assign( /*#__PURE__*/__assign({}, intelligentTransition), { x: /*#__PURE__*/createPointer(pointerX, 'left', 'right', BoundingBoxDimension.width), y: /*#__PURE__*/createPointer(pointerY, 'top', 'bottom', BoundingBoxDimension.height) });\nvar justAxis = function (_a) {\n    var from = _a.from;\n    return just(from);\n};\nvar intelligentDragEnd = /*#__PURE__*/__assign( /*#__PURE__*/__assign({}, intelligentTransition), { x: justAxis, y: justAxis });\nvar defaultTransitions = /*#__PURE__*/new Map([['default', intelligentTransition], ['drag', dragAction], ['dragEnd', intelligentDragEnd]]);\n\nvar animationLookup = {\n    tween: tween,\n    spring: spring,\n    decay: decay,\n    keyframes: keyframes,\n    physics: physics\n};\nvar easingLookup = {\n    linear: linear,\n    easeIn: easeIn,\n    easeOut: easeOut,\n    easeInOut: easeInOut,\n    circIn: circIn,\n    circOut: circOut,\n    circInOut: circInOut,\n    backIn: backIn,\n    backOut: backOut,\n    backInOut: backInOut,\n    anticipate: anticipate\n};\n\nvar auto = {\n    test: function (v) {\n        return v === 'auto';\n    },\n    parse: function (v) {\n        return v;\n    }\n};\nvar valueTypeTests = [number, degrees, percent, px, vw, vh, auto];\nvar testValueType = function (v) {\n    return function (type) {\n        return type.test(v);\n    };\n};\nvar getValueType = function (v) {\n    return valueTypeTests.find(testValueType(v));\n};\n\nvar createPassiveValue = function (init, parent, transform$$1) {\n    var raw = value(transform$$1(init));\n    parent.raw.subscribe(function (v) {\n        return raw.update(transform$$1(v));\n    });\n    return { raw: raw };\n};\nvar createValue = function (init) {\n    var type = getValueType(init);\n    var raw = value(init);\n    return { raw: raw, type: type };\n};\nvar addActionDelay = function (delay$$1, transition) {\n    if (delay$$1 === void 0) {\n        delay$$1 = 0;\n    }\n    return chain(delay(delay$$1), transition);\n};\nvar isCubicBezierArgs = function (args) {\n    return typeof args[0] === 'number';\n};\nvar getAction = function (v, _a, _b) {\n    var from = _b.from,\n        to = _b.to,\n        velocity = _b.velocity;\n    var _c = _a.type,\n        type = _c === void 0 ? 'tween' : _c,\n        definedEase = _a.ease,\n        def = __rest(_a, [\"type\", \"ease\"]);\n    invariant(animationLookup[type] !== undefined, \"Invalid transition type '\" + type + \"'. Valid transition types are: tween, spring, decay, physics and keyframes.\");\n    var ease;\n    if (type === 'tween') {\n        if (typeof definedEase !== 'function') {\n            if (typeof definedEase === 'string') {\n                invariant(easingLookup[definedEase] !== undefined, \"Invalid easing type '\" + definedEase + \"'. popmotion.io/pose/api/config\");\n                ease = easingLookup[definedEase];\n            } else if (Array.isArray(definedEase) && isCubicBezierArgs(definedEase)) {\n                invariant(definedEase.length === 4, \"Cubic bezier arrays must contain four numerical values.\");\n                var x1 = definedEase[0],\n                    y1 = definedEase[1],\n                    x2 = definedEase[2],\n                    y2 = definedEase[3];\n                ease = cubicBezier(x1, y1, x2, y2);\n            }\n        }\n    }\n    ease = ease || definedEase;\n    var baseProps = type !== 'keyframes' ? {\n        from: from,\n        to: to,\n        velocity: velocity,\n        ease: ease\n    } : { ease: ease };\n    return animationLookup[type](__assign(__assign({}, baseProps), def));\n};\nvar isAction = function (action$$1) {\n    return typeof action$$1.start !== 'undefined';\n};\nvar pose = function (_a) {\n    var transformPose = _a.transformPose,\n        addListenerToValue = _a.addListenerToValue,\n        extendAPI = _a.extendAPI,\n        readValueFromSource = _a.readValueFromSource,\n        posePriority = _a.posePriority,\n        setValueNative = _a.setValueNative;\n    return poseFactory({\n        bindOnChange: function (values, onChange) {\n            return function (key) {\n                if (!values.has(key)) return;\n                var raw = values.get(key).raw;\n                raw.subscribe(onChange[key]);\n            };\n        },\n        readValue: function (_a) {\n            var raw = _a.raw;\n            return raw.get();\n        },\n        setValue: function (_a, to) {\n            var raw = _a.raw;\n            return raw.update(to);\n        },\n        createValue: function (init, key, _a, _b) {\n            var elementStyler = _a.elementStyler;\n            var _c = _b === void 0 ? {} : _b,\n                passiveParent = _c.passiveParent,\n                passiveProps = _c.passiveProps;\n            var val = passiveParent ? createPassiveValue(init, passiveParent, passiveProps) : createValue(init);\n            val.raw.subscribe(addListenerToValue(key, elementStyler));\n            return val;\n        },\n        convertValue: function (raw, key, _a) {\n            var elementStyler = _a.elementStyler;\n            raw.subscribe(addListenerToValue(key, elementStyler));\n            return {\n                raw: raw,\n                type: getValueType(raw.get())\n            };\n        },\n        getTransitionProps: function (_a, to) {\n            var raw = _a.raw,\n                type = _a.type;\n            return {\n                from: raw.get(),\n                velocity: raw.getVelocity(),\n                to: to,\n                type: type\n            };\n        },\n        resolveTarget: function (_, to) {\n            return to;\n        },\n        selectValueToRead: function (_a) {\n            var raw = _a.raw;\n            return raw;\n        },\n        startAction: function (_a, action$$1, complete) {\n            var raw = _a.raw;\n            var reaction = {\n                update: function (v) {\n                    return raw.update(v);\n                },\n                complete: complete\n            };\n            return action$$1.start(reaction);\n        },\n        stopAction: function (action$$1) {\n            return action$$1.stop();\n        },\n        getInstantTransition: function (_, _a) {\n            var to = _a.to;\n            return just(to);\n        },\n        convertTransitionDefinition: function (val, def, props) {\n            if (isAction(def)) return def;\n            var delay$$1 = def.delay,\n                min = def.min,\n                max = def.max,\n                round = def.round,\n                remainingDef = __rest(def, [\"delay\", \"min\", \"max\", \"round\"]);\n            var action$$1 = getAction(val, remainingDef, props);\n            var outputPipe = [];\n            if (delay$$1) action$$1 = addActionDelay(delay$$1, action$$1);\n            if (min !== undefined) outputPipe.push(function (v) {\n                return Math.max(v, min);\n            });\n            if (max !== undefined) outputPipe.push(function (v) {\n                return Math.min(v, max);\n            });\n            if (round) outputPipe.push(Math.round);\n            return outputPipe.length ? action$$1.pipe.apply(action$$1, outputPipe) : action$$1;\n        },\n        setValueNative: setValueNative,\n        addActionDelay: addActionDelay,\n        defaultTransitions: defaultTransitions,\n        transformPose: transformPose,\n        readValueFromSource: readValueFromSource,\n        posePriority: posePriority,\n        extendAPI: extendAPI\n    });\n};\n\nvar createDimensions = function (element) {\n    var hasMeasured = false;\n    var current = {\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0,\n        bottom: 0,\n        right: 0\n    };\n    return {\n        get: function (measurement) {\n            return measurement ? current[measurement] : current;\n        },\n        measure: function () {\n            current = element.getBoundingClientRect();\n            hasMeasured = true;\n            return current;\n        },\n        measurementAsPixels: function (measurement, value$$1, type) {\n            return type === percent ? (typeof value$$1 === 'string' ? parseFloat(value$$1) : value$$1) / 100 * current[measurement] : value$$1;\n        },\n        has: function () {\n            return hasMeasured;\n        }\n    };\n};\n\nvar makeUIEventApplicator = function (_a) {\n    var startEvents = _a.startEvents,\n        endEvents = _a.endEvents,\n        startPose = _a.startPose,\n        endPose = _a.endPose,\n        startCallback = _a.startCallback,\n        endCallback = _a.endCallback,\n        useDocumentToEnd = _a.useDocumentToEnd,\n        preventScroll = _a.preventScroll;\n    return function (element, activeActions, poser, config) {\n        var startListener = startPose + 'Start';\n        var endListener = startPose + 'End';\n        var moveListener = startPose + 'Move';\n        if (preventScroll) {\n            var touchMoveListener = listen(element, 'touchmove', {\n                passive: false\n            }).start(function (e) {\n                e.preventDefault();\n            });\n            activeActions.set(moveListener, touchMoveListener);\n        }\n        var eventStartListener = listen(element, startEvents).start(function (startEvent) {\n            poser.unset(endPose);\n            poser.set(startPose);\n            if (startCallback && config[startCallback]) config[startCallback](startEvent);\n            var eventEndListener = listen(useDocumentToEnd ? document.documentElement : element, endEvents + (useDocumentToEnd ? ' mouseenter' : '')).start(function (endEvent) {\n                if (useDocumentToEnd && endEvent.type === 'mouseenter' && endEvent.buttons === 1) {\n                    return;\n                }\n                activeActions.get(endListener).stop();\n                poser.unset(startPose);\n                poser.set(endPose);\n                if (endCallback && config[endCallback]) config[endCallback](endEvent);\n            });\n            activeActions.set(endListener, eventEndListener);\n        });\n        activeActions.set(startListener, eventStartListener);\n    };\n};\nvar events = {\n    draggable: /*#__PURE__*/makeUIEventApplicator({\n        startEvents: 'mousedown touchstart',\n        endEvents: 'mouseup touchend',\n        startPose: 'drag',\n        endPose: 'dragEnd',\n        startCallback: 'onDragStart',\n        endCallback: 'onDragEnd',\n        useDocumentToEnd: true,\n        preventScroll: true\n    }),\n    hoverable: /*#__PURE__*/makeUIEventApplicator({\n        startEvents: 'mouseenter',\n        endEvents: 'mouseleave',\n        startPose: 'hover',\n        endPose: 'hoverEnd'\n    }),\n    focusable: /*#__PURE__*/makeUIEventApplicator({\n        startEvents: 'focus',\n        endEvents: 'blur',\n        startPose: 'focus',\n        endPose: 'blur'\n    }),\n    pressable: /*#__PURE__*/makeUIEventApplicator({\n        startEvents: 'mousedown touchstart',\n        endEvents: 'mouseup touchend',\n        startPose: 'press',\n        endPose: 'pressEnd',\n        startCallback: 'onPressStart',\n        endCallback: 'onPressEnd',\n        useDocumentToEnd: true\n    })\n};\nvar eventKeys = /*#__PURE__*/Object.keys(events);\nvar appendEventListeners = function (element, activeActions, poser, _a) {\n    var props = _a.props;\n    return eventKeys.forEach(function (key) {\n        if (props[key]) events[key](element, activeActions, poser, props);\n    });\n};\n\nvar ORIGIN_START = 0;\nvar ORIGIN_CENTER = '50%';\nvar ORIGIN_END = '100%';\nvar findCenter = function (_a) {\n    var top = _a.top,\n        right = _a.right,\n        bottom = _a.bottom,\n        left = _a.left;\n    return {\n        x: (left + right) / 2,\n        y: (top + bottom) / 2\n    };\n};\nvar positionalProps = ['width', 'height', 'top', 'left', 'bottom', 'right'];\nvar positionalPropsDict = /*#__PURE__*/new Set(positionalProps);\nvar checkPositionalProp = function (key) {\n    return positionalPropsDict.has(key);\n};\nvar hasPositionalProps = function (pose) {\n    return Object.keys(pose).some(checkPositionalProp);\n};\nvar isFlipPose = function (flip, key, state) {\n    return state.props.element instanceof HTMLElement && (flip === true || key === 'flip');\n};\nvar setValue = function (_a, key, to) {\n    var values = _a.values,\n        props = _a.props;\n    if (values.has(key)) {\n        var raw = values.get(key).raw;\n        raw.update(to);\n        raw.update(to);\n    } else {\n        values.set(key, {\n            raw: value(to, function (v) {\n                return props.elementStyler.set(key, v);\n            })\n        });\n    }\n};\nvar explicitlyFlipPose = function (state, nextPose) {\n    var _a = state.props,\n        dimensions = _a.dimensions,\n        elementStyler = _a.elementStyler;\n    dimensions.measure();\n    var width = nextPose.width,\n        height = nextPose.height,\n        top = nextPose.top,\n        left = nextPose.left,\n        bottom = nextPose.bottom,\n        right = nextPose.right,\n        position = nextPose.position,\n        remainingPose = __rest(nextPose, [\"width\", \"height\", \"top\", \"left\", \"bottom\", \"right\", \"position\"]);\n    var propsToSet = positionalProps.concat('position').reduce(function (acc, key) {\n        if (nextPose[key] !== undefined) {\n            acc[key] = resolveProp(nextPose[key], state.props);\n        }\n        return acc;\n    }, {});\n    elementStyler.set(propsToSet).render();\n    return implicitlyFlipPose(state, remainingPose);\n};\nvar implicitlyFlipPose = function (state, nextPose) {\n    var _a = state.props,\n        dimensions = _a.dimensions,\n        element = _a.element,\n        elementStyler = _a.elementStyler;\n    if (!dimensions.has()) return {};\n    var prev = dimensions.get();\n    var next = measureWithoutTransform(element);\n    var originX = prev.left === next.left ? ORIGIN_START : prev.right === next.right ? ORIGIN_END : ORIGIN_CENTER;\n    var originY = prev.top === next.top ? ORIGIN_START : prev.bottom === next.bottom ? ORIGIN_END : ORIGIN_CENTER;\n    elementStyler.set({ originX: originX, originY: originY });\n    if (prev.width !== next.width) {\n        setValue(state, 'scaleX', prev.width / next.width);\n        nextPose.scaleX = 1;\n    }\n    if (prev.height !== next.height) {\n        setValue(state, 'scaleY', prev.height / next.height);\n        nextPose.scaleY = 1;\n    }\n    var prevCenter = findCenter(prev);\n    var nextCenter = findCenter(next);\n    if (originX === ORIGIN_CENTER) {\n        setValue(state, 'x', prevCenter.x - nextCenter.x);\n        nextPose.x = 0;\n    }\n    if (originY === ORIGIN_CENTER) {\n        setValue(state, 'y', prevCenter.y - nextCenter.y);\n        nextPose.y = 0;\n    }\n    elementStyler.render();\n    return nextPose;\n};\nvar flipPose = function (props, nextPose) {\n    return hasPositionalProps(nextPose) ? explicitlyFlipPose(props, nextPose) : implicitlyFlipPose(props, nextPose);\n};\n\nvar getPosFromMatrix = function (matrix, pos) {\n    return parseFloat(matrix.split(', ')[pos]);\n};\nvar getTranslateFromMatrix = function (pos2, pos3) {\n    return function (element, bbox, _a) {\n        var transform$$1 = _a.transform;\n        if (!transform$$1 || transform$$1 === 'none') return 0;\n        var matrix3d = transform$$1.match(/^matrix3d\\((.+)\\)$/);\n        if (matrix3d) return getPosFromMatrix(matrix3d[1], pos3);\n        return getPosFromMatrix(transform$$1.match(/^matrix\\((.+)\\)$/)[1], pos2);\n    };\n};\nvar positionalValues = {\n    width: function (element, _a) {\n        var width = _a.width;\n        return width;\n    },\n    height: function (element, _a) {\n        var height = _a.height;\n        return height;\n    },\n    top: function (element, bbox, _a) {\n        var top = _a.top;\n        return parseFloat(top);\n    },\n    left: function (element, bbox, _a) {\n        var left = _a.left;\n        return parseFloat(left);\n    },\n    bottom: function (element, _a, _b) {\n        var height = _a.height;\n        var top = _b.top;\n        return parseFloat(top) + height;\n    },\n    right: function (element, _a, _b) {\n        var width = _a.width;\n        var left = _b.left;\n        return parseFloat(left) + width;\n    },\n    x: /*#__PURE__*/getTranslateFromMatrix(4, 13),\n    y: /*#__PURE__*/getTranslateFromMatrix(5, 14)\n};\nvar isPositionalKey = function (v) {\n    return positionalValues[v] !== undefined;\n};\nvar isPositional = function (pose) {\n    return Object.keys(pose).some(isPositionalKey);\n};\nvar convertPositionalUnits = function (state, nextPose) {\n    var values = state.values,\n        props = state.props;\n    var element = props.element,\n        elementStyler = props.elementStyler;\n    var positionalPoseKeys = Object.keys(nextPose).filter(isPositionalKey);\n    var changedPositionalKeys = [];\n    var elementComputedStyle = getComputedStyle(element);\n    var applyAtEndHasBeenCopied = false;\n    positionalPoseKeys.forEach(function (key) {\n        var value$$1 = values.get(key);\n        var fromValueType = getValueType(value$$1.raw.get());\n        var to = resolveProp(nextPose[key], props);\n        var toValueType = getValueType(to);\n        if (fromValueType !== toValueType) {\n            changedPositionalKeys.push(key);\n            if (!applyAtEndHasBeenCopied) {\n                applyAtEndHasBeenCopied = true;\n                nextPose.applyAtEnd = nextPose.applyAtEnd ? __assign({}, nextPose.applyAtEnd) : {};\n            }\n            nextPose.applyAtEnd[key] = nextPose.applyAtEnd[key] || nextPose[key];\n            setValue(state, key, to);\n        }\n    });\n    if (!changedPositionalKeys.length) return nextPose;\n    var originBbox = element.getBoundingClientRect();\n    var top = elementComputedStyle.top,\n        left = elementComputedStyle.left,\n        bottom = elementComputedStyle.bottom,\n        right = elementComputedStyle.right,\n        transform$$1 = elementComputedStyle.transform;\n    var originComputedStyle = { top: top, left: left, bottom: bottom, right: right, transform: transform$$1 };\n    elementStyler.render();\n    var targetBbox = element.getBoundingClientRect();\n    changedPositionalKeys.forEach(function (key) {\n        setValue(state, key, positionalValues[key](element, originBbox, originComputedStyle));\n        nextPose[key] = positionalValues[key](element, targetBbox, elementComputedStyle);\n    });\n    elementStyler.render();\n    return nextPose;\n};\n\nvar getCurrent = function (prop) {\n    return function (_a) {\n        var elementStyler = _a.elementStyler;\n        return elementStyler.get(prop);\n    };\n};\nvar dragPoses = function (draggable) {\n    var drag = {\n        preTransition: function (_a) {\n            var dimensions = _a.dimensions;\n            return dimensions.measure();\n        }\n    };\n    var dragEnd = {};\n    if (draggable === true || draggable === 'x') {\n        drag.x = dragEnd.x = getCurrent('x');\n    }\n    if (draggable === true || draggable === 'y') {\n        drag.y = dragEnd.y = getCurrent('y');\n    }\n    return { drag: drag, dragEnd: dragEnd };\n};\nvar createPoseConfig = function (element, _a) {\n    var onDragStart = _a.onDragStart,\n        onDragEnd = _a.onDragEnd,\n        onPressStart = _a.onPressStart,\n        onPressEnd = _a.onPressEnd,\n        draggable = _a.draggable,\n        hoverable = _a.hoverable,\n        focusable = _a.focusable,\n        pressable = _a.pressable,\n        dragBounds = _a.dragBounds,\n        config = __rest(_a, [\"onDragStart\", \"onDragEnd\", \"onPressStart\", \"onPressEnd\", \"draggable\", \"hoverable\", \"focusable\", \"pressable\", \"dragBounds\"]);\n    var poseConfig = __assign(__assign({ flip: {} }, config), { props: __assign(__assign({}, config.props), { onDragStart: onDragStart,\n            onDragEnd: onDragEnd,\n            onPressStart: onPressStart,\n            onPressEnd: onPressEnd,\n            dragBounds: dragBounds,\n            draggable: draggable,\n            hoverable: hoverable,\n            focusable: focusable,\n            pressable: pressable,\n            element: element, elementStyler: styler(element, { preparseOutput: false }), dimensions: createDimensions(element) }) });\n    if (draggable) {\n        var _b = dragPoses(draggable),\n            drag = _b.drag,\n            dragEnd = _b.dragEnd;\n        poseConfig.drag = __assign(__assign({}, drag), poseConfig.drag);\n        poseConfig.dragEnd = __assign(__assign({}, dragEnd), poseConfig.dragEnd);\n    }\n    return poseConfig;\n};\nvar domPose = /*#__PURE__*/pose({\n    posePriority: ['drag', 'press', 'focus', 'hover'],\n    transformPose: function (_a, name, state) {\n        var flip = _a.flip,\n            pose$$1 = __rest(_a, [\"flip\"]);\n        if (isFlipPose(flip, name, state)) {\n            return flipPose(state, pose$$1);\n        } else if (isPositional(pose$$1)) {\n            return convertPositionalUnits(state, pose$$1);\n        }\n        return pose$$1;\n    },\n    forceRender: function (_a) {\n        var elementStyler = _a.elementStyler;\n        elementStyler.render();\n    },\n    addListenerToValue: function (key, elementStyler) {\n        return function (v) {\n            return elementStyler.set(key, v);\n        };\n    },\n    readValueFromSource: function (key, _a) {\n        var elementStyler = _a.elementStyler,\n            dragBounds = _a.dragBounds;\n        var value$$1 = elementStyler.get(key);\n        if (dragBounds && (key === 'x' || key === 'y')) {\n            var bound = key === 'x' ? dragBounds.left || dragBounds.right : dragBounds.top || dragBounds.bottom;\n            if (bound) {\n                var boundType = getValueType(bound);\n                value$$1 = boundType.transform(value$$1);\n            }\n        }\n        return isNaN(value$$1) ? value$$1 : parseFloat(value$$1);\n    },\n    setValueNative: function (key, to, _a) {\n        var elementStyler = _a.elementStyler;\n        return elementStyler.set(key, to);\n    },\n    extendAPI: function (api, _a, config) {\n        var props = _a.props,\n            activeActions = _a.activeActions;\n        var measure = props.dimensions.measure;\n        var poserApi = __assign(__assign({}, api), { addChild: function (element, childConfig) {\n                return api._addChild(createPoseConfig(element, childConfig), domPose);\n            }, measure: measure, flip: function (op) {\n                if (op) {\n                    measure();\n                    op();\n                }\n                return api.set('flip');\n            } });\n        props.elementStyler.render();\n        appendEventListeners(props.element, activeActions, poserApi, config);\n        return poserApi;\n    }\n});\nvar domPose$1 = function (element, config) {\n    return domPose(createPoseConfig(element, config));\n};\n\nexport default domPose$1;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}