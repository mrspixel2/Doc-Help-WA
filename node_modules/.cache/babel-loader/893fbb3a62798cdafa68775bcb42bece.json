{"ast":null,"code":"import \"antd/es/table/style\";\nimport _Table from \"antd/es/table\";\nimport \"antd/es/tag/style\";\nimport _Tag from \"antd/es/tag\";\nvar _jsxFileName = \"E:\\\\Work\\\\PFE\\\\Project folder\\\\DocHelp\\\\src\\\\pages\\\\dashboards\\\\classifications\\\\ClassificationsTable.tsx\";\nimport Modal from 'antd/lib/modal/Modal';\nimport Axios from 'axios';\nimport React, { useEffect, useState } from 'react';\n\nconst ClassificationTable = props => {\n  var _modaldata$probs, _modaldata$symptoms;\n\n  const [state, setstate] = useState([]);\n  const [loading, setloading] = useState(true);\n  const [modaldata, setmodaldata] = useState([]);\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const showModal = record => {\n    console.log(record);\n    setmodaldata(record);\n    setIsModalVisible(true);\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  const valueSwitch = (param1, param2) => {\n    switch (param1) {\n      case 'Kidney':\n        switch (param2) {\n          case 0:\n            return 'Diagnosed with Cyst';\n\n          case 1:\n            return 'Normal';\n\n          case 2:\n            return 'Diagnosed with Stone';\n\n          case 3:\n            return 'Diagnosed with Tumor';\n        }\n\n      default:\n        switch (param2) {\n          case 0:\n            return 'Negative';\n\n          case 1:\n            return 'Positive';\n        }\n\n    }\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const getData = async () => {\n    await Axios.post('http://localhost:5000/predict/getAll_predictions').then(res => {\n      console.log(res.data);\n      setloading(false);\n      setstate(res.data.map(row => ({\n        key: row._id,\n        patient: row.patient,\n        desease: row.desease,\n        image_path: row.image_path,\n        symptoms: row.symptoms,\n        d_report: row.d_report,\n        result: row.result,\n        probs: row.probs,\n        status: row.prediction_status\n      })));\n    });\n  };\n\n  const columns = [{\n    title: 'Patient Name',\n    dataIndex: 'patient',\n    key: 'patient',\n    render: text => /*#__PURE__*/React.createElement(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 23\n      }\n    }, text)\n  }, {\n    title: 'Desease',\n    dataIndex: 'desease',\n    key: 'desease',\n    responsive: ['md']\n  }, {\n    title: 'Result',\n    dataIndex: 'result',\n    key: 'result',\n    responsive: ['sm'],\n    render: result => result == 0 ? \"Normal\" : \"Diagnosed\"\n  }, {\n    title: 'Status',\n    dataIndex: 'status',\n    key: 'status',\n    responsive: ['sm'],\n    render: status => /*#__PURE__*/React.createElement(_Tag, {\n      style: {\n        borderRadius: 15\n      },\n      color: status === 'success' ? '#b7ce63' : '#cec759',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }, status)\n  }];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Table, {\n    columns: columns,\n    dataSource: state,\n    onRow: record => ({\n      onClick: () => {\n        showModal(record);\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Modal, {\n    title: \"Diagnostic Informations\",\n    visible: isModalVisible,\n    onOk: handleOk,\n    onCancel: handleCancel,\n    width: 1000,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, \"Patient: \", modaldata['patient'], \"Desease : \", modaldata['desease'], \"Result : \", valueSwitch(modaldata['desease'], modaldata['result']), \"Probabilities :\", /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, (_modaldata$probs = modaldata['probs']) === null || _modaldata$probs === void 0 ? void 0 : _modaldata$probs.map(prob => /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }, prob))), \"Doctors report : \", modaldata['d_report'], \"Symptoms :\", /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, (_modaldata$symptoms = modaldata['symptoms']) === null || _modaldata$symptoms === void 0 ? void 0 : _modaldata$symptoms.map((symptom, index) => /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, symptom))), console.log(typeof modaldata['symptoms']), /*#__PURE__*/React.createElement(\"img\", {\n    width: \"400\",\n    src: modaldata['image_path'],\n    height: \"400\",\n    alt: \"avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default ClassificationTable;","map":{"version":3,"names":["Modal","Axios","React","useEffect","useState","ClassificationTable","props","state","setstate","loading","setloading","modaldata","setmodaldata","isModalVisible","setIsModalVisible","showModal","record","console","log","handleOk","handleCancel","valueSwitch","param1","param2","getData","post","then","res","data","map","row","key","_id","patient","desease","image_path","symptoms","d_report","result","probs","status","prediction_status","columns","title","dataIndex","render","text","responsive","borderRadius","onClick","prob","symptom","index"],"sources":["E:/Work/PFE/Project folder/DocHelp/src/pages/dashboards/classifications/ClassificationsTable.tsx"],"sourcesContent":["import { Table, Tag } from 'antd';\r\nimport type { ColumnsType } from 'antd/es/table';\r\nimport Modal from 'antd/lib/modal/Modal';\r\nimport Axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\n\r\nconst ClassificationTable = (props: any) => {\r\n  const [state, setstate] = useState([]);\r\n  const [loading, setloading] = useState(true);\r\n  const [modaldata, setmodaldata] = useState([]);\r\n\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n  const showModal = (record) => {\r\n    console.log(record);\r\n    setmodaldata(record);\r\n    setIsModalVisible(true);\r\n  };\r\n\r\n  const handleOk = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const valueSwitch = (param1, param2) => {\r\n    switch (param1) {\r\n      case 'Kidney':\r\n        switch (param2) {\r\n          case 0: return 'Diagnosed with Cyst';\r\n          case 1: return 'Normal';\r\n          case 2: return 'Diagnosed with Stone';\r\n          case 3: return 'Diagnosed with Tumor';\r\n        }\r\n      default:\r\n        switch (param2) {\r\n          case 0: return 'Negative';\r\n          case 1: return 'Positive';\r\n        }\r\n\r\n    }\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  const getData = async () => {\r\n    await Axios.post('http://localhost:5000/predict/getAll_predictions').then(\r\n      res => {\r\n        console.log(res.data);\r\n        setloading(false);\r\n        setstate(\r\n          res.data.map(row => ({\r\n            key: row._id,\r\n            patient: row.patient,\r\n            desease: row.desease,\r\n            image_path: row.image_path,\r\n            symptoms: row.symptoms,\r\n            d_report: row.d_report,\r\n            result: row.result,\r\n            probs: row.probs,\r\n            status: row.prediction_status\r\n\r\n          }))\r\n        );\r\n      }\r\n    );\r\n  };\r\n\r\n  const columns: ColumnsType = [\r\n    {\r\n      title: 'Patient Name',\r\n      dataIndex: 'patient',\r\n      key: 'patient',\r\n      render: text => <a>{text}</a>,\r\n    },\r\n    {\r\n      title: 'Desease',\r\n      dataIndex: 'desease',\r\n      key: 'desease',\r\n      responsive: ['md'],\r\n    },\r\n    {\r\n      title: 'Result',\r\n      dataIndex: 'result',\r\n      key: 'result',\r\n      responsive: ['sm'],\r\n      render: (result) => (\r\n        result == 0 ? \"Normal\" : \"Diagnosed\"\r\n      )\r\n    },\r\n    {\r\n      title: 'Status',\r\n      dataIndex: 'status',\r\n      key: 'status',\r\n      responsive: ['sm'],\r\n      render: (status) => (\r\n        <Tag style={{ borderRadius: 15 }} color={status === 'success' ? '#b7ce63' : '#cec759'}>\r\n          {status}\r\n        </Tag>\r\n      )\r\n    },\r\n  ];\r\n\r\n\r\n  return (\r\n    <>\r\n      <Table columns={columns}\r\n        dataSource={state}\r\n        onRow={(record) => ({\r\n          onClick: () => { showModal(record) }\r\n        })} />\r\n      <Modal title=\"Diagnostic Informations\"\r\n        visible={isModalVisible}\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n        width={1000}>\r\n        Patient: {modaldata['patient']}\r\n        Desease : {modaldata['desease']}\r\n        Result : {valueSwitch(modaldata['desease'], modaldata['result'])}\r\n        Probabilities :\r\n        <ul>\r\n          {modaldata['probs']?.map((prob) => (\r\n            <li>{prob}</li>\r\n          ))}\r\n        </ul>\r\n\r\n        Doctors report : {modaldata['d_report']}\r\n        Symptoms :\r\n          <ul>\r\n            {modaldata['symptoms']?.map((symptom, index) => (\r\n              <li>{symptom}</li>\r\n            ))}\r\n          </ul>\r\n          {console.log(typeof (modaldata['symptoms']))}\r\n        \r\n        <img width='400' src={modaldata['image_path'] as string} height='400' alt='avatar' />\r\n      </Modal>\r\n\r\n\r\n\r\n    </>)\r\n\r\n}\r\n\r\nexport default ClassificationTable;"],"mappings":"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"},"metadata":{},"sourceType":"module"}