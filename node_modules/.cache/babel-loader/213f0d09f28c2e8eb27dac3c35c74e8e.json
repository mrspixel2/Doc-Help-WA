{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useRef, useState, useEffect } from 'react';\nimport raf from 'raf';\nexport function useFrameState(defaultState) {\n  var stateRef = useRef(defaultState);\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      forceUpdate = _useState2[1];\n\n  var timeoutRef = useRef(null);\n  var updateBatchRef = useRef([]);\n\n  function setFrameState(updater) {\n    if (timeoutRef.current === null) {\n      updateBatchRef.current = [];\n      timeoutRef.current = raf(function () {\n        updateBatchRef.current.forEach(function (batchUpdater) {\n          stateRef.current = batchUpdater(stateRef.current);\n        });\n        timeoutRef.current = null;\n        forceUpdate({});\n      });\n    }\n\n    updateBatchRef.current.push(updater);\n  }\n\n  useEffect(function () {\n    return function () {\n      raf.cancel(timeoutRef.current);\n    };\n  }, []);\n  return [stateRef.current, setFrameState];\n}\n/** Lock frame, when frame pass reset the lock. */\n\nexport function useTimeoutLock(defaultState) {\n  var frameRef = useRef(defaultState);\n  var timeoutRef = useRef(null);\n\n  function cleanUp() {\n    window.clearTimeout(timeoutRef.current);\n  }\n\n  function setState(newState) {\n    frameRef.current = newState;\n    cleanUp();\n    timeoutRef.current = window.setTimeout(function () {\n      frameRef.current = null;\n      timeoutRef.current = null;\n    }, 100);\n  }\n\n  function getState() {\n    return frameRef.current;\n  }\n\n  useEffect(function () {\n    return cleanUp;\n  }, []);\n  return [setState, getState];\n}","map":{"version":3,"names":["_slicedToArray","useRef","useState","useEffect","raf","useFrameState","defaultState","stateRef","_useState","_useState2","forceUpdate","timeoutRef","updateBatchRef","setFrameState","updater","current","forEach","batchUpdater","push","cancel","useTimeoutLock","frameRef","cleanUp","window","clearTimeout","setState","newState","setTimeout","getState"],"sources":["E:/Work/PFE/Project folder/react/node_modules/rc-table/es/hooks/useFrame.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useRef, useState, useEffect } from 'react';\nimport raf from 'raf';\nexport function useFrameState(defaultState) {\n  var stateRef = useRef(defaultState);\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      forceUpdate = _useState2[1];\n\n  var timeoutRef = useRef(null);\n  var updateBatchRef = useRef([]);\n\n  function setFrameState(updater) {\n    if (timeoutRef.current === null) {\n      updateBatchRef.current = [];\n      timeoutRef.current = raf(function () {\n        updateBatchRef.current.forEach(function (batchUpdater) {\n          stateRef.current = batchUpdater(stateRef.current);\n        });\n        timeoutRef.current = null;\n        forceUpdate({});\n      });\n    }\n\n    updateBatchRef.current.push(updater);\n  }\n\n  useEffect(function () {\n    return function () {\n      raf.cancel(timeoutRef.current);\n    };\n  }, []);\n  return [stateRef.current, setFrameState];\n}\n/** Lock frame, when frame pass reset the lock. */\n\nexport function useTimeoutLock(defaultState) {\n  var frameRef = useRef(defaultState);\n  var timeoutRef = useRef(null);\n\n  function cleanUp() {\n    window.clearTimeout(timeoutRef.current);\n  }\n\n  function setState(newState) {\n    frameRef.current = newState;\n    cleanUp();\n    timeoutRef.current = window.setTimeout(function () {\n      frameRef.current = null;\n      timeoutRef.current = null;\n    }, 100);\n  }\n\n  function getState() {\n    return frameRef.current;\n  }\n\n  useEffect(function () {\n    return cleanUp;\n  }, []);\n  return [setState, getState];\n}"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,0CAA3B;AACA,SAASC,MAAT,EAAiBC,QAAjB,EAA2BC,SAA3B,QAA4C,OAA5C;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAO,SAASC,aAAT,CAAuBC,YAAvB,EAAqC;EAC1C,IAAIC,QAAQ,GAAGN,MAAM,CAACK,YAAD,CAArB;;EAEA,IAAIE,SAAS,GAAGN,QAAQ,CAAC,EAAD,CAAxB;EAAA,IACIO,UAAU,GAAGT,cAAc,CAACQ,SAAD,EAAY,CAAZ,CAD/B;EAAA,IAEIE,WAAW,GAAGD,UAAU,CAAC,CAAD,CAF5B;;EAIA,IAAIE,UAAU,GAAGV,MAAM,CAAC,IAAD,CAAvB;EACA,IAAIW,cAAc,GAAGX,MAAM,CAAC,EAAD,CAA3B;;EAEA,SAASY,aAAT,CAAuBC,OAAvB,EAAgC;IAC9B,IAAIH,UAAU,CAACI,OAAX,KAAuB,IAA3B,EAAiC;MAC/BH,cAAc,CAACG,OAAf,GAAyB,EAAzB;MACAJ,UAAU,CAACI,OAAX,GAAqBX,GAAG,CAAC,YAAY;QACnCQ,cAAc,CAACG,OAAf,CAAuBC,OAAvB,CAA+B,UAAUC,YAAV,EAAwB;UACrDV,QAAQ,CAACQ,OAAT,GAAmBE,YAAY,CAACV,QAAQ,CAACQ,OAAV,CAA/B;QACD,CAFD;QAGAJ,UAAU,CAACI,OAAX,GAAqB,IAArB;QACAL,WAAW,CAAC,EAAD,CAAX;MACD,CANuB,CAAxB;IAOD;;IAEDE,cAAc,CAACG,OAAf,CAAuBG,IAAvB,CAA4BJ,OAA5B;EACD;;EAEDX,SAAS,CAAC,YAAY;IACpB,OAAO,YAAY;MACjBC,GAAG,CAACe,MAAJ,CAAWR,UAAU,CAACI,OAAtB;IACD,CAFD;EAGD,CAJQ,EAIN,EAJM,CAAT;EAKA,OAAO,CAACR,QAAQ,CAACQ,OAAV,EAAmBF,aAAnB,CAAP;AACD;AACD;;AAEA,OAAO,SAASO,cAAT,CAAwBd,YAAxB,EAAsC;EAC3C,IAAIe,QAAQ,GAAGpB,MAAM,CAACK,YAAD,CAArB;EACA,IAAIK,UAAU,GAAGV,MAAM,CAAC,IAAD,CAAvB;;EAEA,SAASqB,OAAT,GAAmB;IACjBC,MAAM,CAACC,YAAP,CAAoBb,UAAU,CAACI,OAA/B;EACD;;EAED,SAASU,QAAT,CAAkBC,QAAlB,EAA4B;IAC1BL,QAAQ,CAACN,OAAT,GAAmBW,QAAnB;IACAJ,OAAO;IACPX,UAAU,CAACI,OAAX,GAAqBQ,MAAM,CAACI,UAAP,CAAkB,YAAY;MACjDN,QAAQ,CAACN,OAAT,GAAmB,IAAnB;MACAJ,UAAU,CAACI,OAAX,GAAqB,IAArB;IACD,CAHoB,EAGlB,GAHkB,CAArB;EAID;;EAED,SAASa,QAAT,GAAoB;IAClB,OAAOP,QAAQ,CAACN,OAAhB;EACD;;EAEDZ,SAAS,CAAC,YAAY;IACpB,OAAOmB,OAAP;EACD,CAFQ,EAEN,EAFM,CAAT;EAGA,OAAO,CAACG,QAAD,EAAWG,QAAX,CAAP;AACD"},"metadata":{},"sourceType":"module"}