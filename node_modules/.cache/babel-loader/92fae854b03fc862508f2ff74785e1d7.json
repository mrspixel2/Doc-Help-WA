{"ast":null,"code":"/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule encodeInlineStyleRanges\n * @format\n * \n */\n'use strict';\n\nvar UnicodeUtils = require('fbjs/lib/UnicodeUtils');\n\nvar findRangesImmutable = require('./findRangesImmutable');\n\nvar areEqual = function areEqual(a, b) {\n  return a === b;\n};\n\nvar isTruthy = function isTruthy(a) {\n  return !!a;\n};\n\nvar EMPTY_ARRAY = [];\n/**\n * Helper function for getting encoded styles for each inline style. Convert\n * to UTF-8 character counts for storage.\n */\n\nfunction getEncodedInlinesForType(block, styleList, styleToEncode) {\n  var ranges = []; // Obtain an array with ranges for only the specified style.\n\n  var filteredInlines = styleList.map(function (style) {\n    return style.has(styleToEncode);\n  }).toList();\n  findRangesImmutable(filteredInlines, areEqual, // We only want to keep ranges with nonzero style values.\n  isTruthy, function (start, end) {\n    var text = block.getText();\n    ranges.push({\n      offset: UnicodeUtils.strlen(text.slice(0, start)),\n      length: UnicodeUtils.strlen(text.slice(start, end)),\n      style: styleToEncode\n    });\n  });\n  return ranges;\n}\n/*\n * Retrieve the encoded arrays of inline styles, with each individual style\n * treated separately.\n */\n\n\nfunction encodeInlineStyleRanges(block) {\n  var styleList = block.getCharacterList().map(function (c) {\n    return c.getStyle();\n  }).toList();\n  var ranges = styleList.flatten().toSet().map(function (style) {\n    return getEncodedInlinesForType(block, styleList, style);\n  });\n  return Array.prototype.concat.apply(EMPTY_ARRAY, ranges.toJS());\n}\n\nmodule.exports = encodeInlineStyleRanges;","map":{"version":3,"names":["UnicodeUtils","require","findRangesImmutable","areEqual","a","b","isTruthy","EMPTY_ARRAY","getEncodedInlinesForType","block","styleList","styleToEncode","ranges","filteredInlines","map","style","has","toList","start","end","text","getText","push","offset","strlen","slice","length","encodeInlineStyleRanges","getCharacterList","c","getStyle","flatten","toSet","Array","prototype","concat","apply","toJS","module","exports"],"sources":["E:/Work/PFE/Project folder/react/node_modules/draft-js/lib/encodeInlineStyleRanges.js"],"sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule encodeInlineStyleRanges\n * @format\n * \n */\n\n'use strict';\n\nvar UnicodeUtils = require('fbjs/lib/UnicodeUtils');\n\nvar findRangesImmutable = require('./findRangesImmutable');\n\nvar areEqual = function areEqual(a, b) {\n  return a === b;\n};\nvar isTruthy = function isTruthy(a) {\n  return !!a;\n};\nvar EMPTY_ARRAY = [];\n\n/**\n * Helper function for getting encoded styles for each inline style. Convert\n * to UTF-8 character counts for storage.\n */\nfunction getEncodedInlinesForType(block, styleList, styleToEncode) {\n  var ranges = [];\n\n  // Obtain an array with ranges for only the specified style.\n  var filteredInlines = styleList.map(function (style) {\n    return style.has(styleToEncode);\n  }).toList();\n\n  findRangesImmutable(filteredInlines, areEqual,\n  // We only want to keep ranges with nonzero style values.\n  isTruthy, function (start, end) {\n    var text = block.getText();\n    ranges.push({\n      offset: UnicodeUtils.strlen(text.slice(0, start)),\n      length: UnicodeUtils.strlen(text.slice(start, end)),\n      style: styleToEncode\n    });\n  });\n\n  return ranges;\n}\n\n/*\n * Retrieve the encoded arrays of inline styles, with each individual style\n * treated separately.\n */\nfunction encodeInlineStyleRanges(block) {\n  var styleList = block.getCharacterList().map(function (c) {\n    return c.getStyle();\n  }).toList();\n  var ranges = styleList.flatten().toSet().map(function (style) {\n    return getEncodedInlinesForType(block, styleList, style);\n  });\n\n  return Array.prototype.concat.apply(EMPTY_ARRAY, ranges.toJS());\n}\n\nmodule.exports = encodeInlineStyleRanges;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,IAAIA,YAAY,GAAGC,OAAO,CAAC,uBAAD,CAA1B;;AAEA,IAAIC,mBAAmB,GAAGD,OAAO,CAAC,uBAAD,CAAjC;;AAEA,IAAIE,QAAQ,GAAG,SAASA,QAAT,CAAkBC,CAAlB,EAAqBC,CAArB,EAAwB;EACrC,OAAOD,CAAC,KAAKC,CAAb;AACD,CAFD;;AAGA,IAAIC,QAAQ,GAAG,SAASA,QAAT,CAAkBF,CAAlB,EAAqB;EAClC,OAAO,CAAC,CAACA,CAAT;AACD,CAFD;;AAGA,IAAIG,WAAW,GAAG,EAAlB;AAEA;AACA;AACA;AACA;;AACA,SAASC,wBAAT,CAAkCC,KAAlC,EAAyCC,SAAzC,EAAoDC,aAApD,EAAmE;EACjE,IAAIC,MAAM,GAAG,EAAb,CADiE,CAGjE;;EACA,IAAIC,eAAe,GAAGH,SAAS,CAACI,GAAV,CAAc,UAAUC,KAAV,EAAiB;IACnD,OAAOA,KAAK,CAACC,GAAN,CAAUL,aAAV,CAAP;EACD,CAFqB,EAEnBM,MAFmB,EAAtB;EAIAf,mBAAmB,CAACW,eAAD,EAAkBV,QAAlB,EACnB;EACAG,QAFmB,EAET,UAAUY,KAAV,EAAiBC,GAAjB,EAAsB;IAC9B,IAAIC,IAAI,GAAGX,KAAK,CAACY,OAAN,EAAX;IACAT,MAAM,CAACU,IAAP,CAAY;MACVC,MAAM,EAAEvB,YAAY,CAACwB,MAAb,CAAoBJ,IAAI,CAACK,KAAL,CAAW,CAAX,EAAcP,KAAd,CAApB,CADE;MAEVQ,MAAM,EAAE1B,YAAY,CAACwB,MAAb,CAAoBJ,IAAI,CAACK,KAAL,CAAWP,KAAX,EAAkBC,GAAlB,CAApB,CAFE;MAGVJ,KAAK,EAAEJ;IAHG,CAAZ;EAKD,CATkB,CAAnB;EAWA,OAAOC,MAAP;AACD;AAED;AACA;AACA;AACA;;;AACA,SAASe,uBAAT,CAAiClB,KAAjC,EAAwC;EACtC,IAAIC,SAAS,GAAGD,KAAK,CAACmB,gBAAN,GAAyBd,GAAzB,CAA6B,UAAUe,CAAV,EAAa;IACxD,OAAOA,CAAC,CAACC,QAAF,EAAP;EACD,CAFe,EAEbb,MAFa,EAAhB;EAGA,IAAIL,MAAM,GAAGF,SAAS,CAACqB,OAAV,GAAoBC,KAApB,GAA4BlB,GAA5B,CAAgC,UAAUC,KAAV,EAAiB;IAC5D,OAAOP,wBAAwB,CAACC,KAAD,EAAQC,SAAR,EAAmBK,KAAnB,CAA/B;EACD,CAFY,CAAb;EAIA,OAAOkB,KAAK,CAACC,SAAN,CAAgBC,MAAhB,CAAuBC,KAAvB,CAA6B7B,WAA7B,EAA0CK,MAAM,CAACyB,IAAP,EAA1C,CAAP;AACD;;AAEDC,MAAM,CAACC,OAAP,GAAiBZ,uBAAjB"},"metadata":{},"sourceType":"script"}