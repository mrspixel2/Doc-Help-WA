{"ast":null,"code":"import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport getOffset from '../utils/getOffset';\n\nvar SuggestionPortal = function (_React$Component) {\n  _inherits(SuggestionPortal, _React$Component);\n\n  function SuggestionPortal() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, SuggestionPortal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.matchDecorates = function (props) {\n      var callbacks = props.callbacks,\n          suggestionRegex = props.suggestionRegex,\n          decoratedText = props.decoratedText;\n      var matches = suggestionRegex.exec(decoratedText);\n      _this.trigger = matches[2];\n\n      _this.updatePortalPosition(_this.props);\n\n      callbacks.setEditorState(callbacks.getEditorState());\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  SuggestionPortal.prototype.componentWillMount = function componentWillMount() {\n    this.matchDecorates(this.props);\n  };\n\n  SuggestionPortal.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (nextProps.decoratedText !== this.props.decoratedText) {\n      this.matchDecorates(nextProps);\n    }\n\n    this.updatePortalPosition(nextProps);\n  };\n\n  SuggestionPortal.prototype.componentWillUnmount = function componentWillUnmount() {\n    var _props = this.props,\n        offsetKey = _props.offsetKey,\n        mentionStore = _props.mentionStore;\n    mentionStore.inActiveSuggestion({\n      offsetKey: offsetKey\n    });\n  };\n\n  SuggestionPortal.prototype.updatePortalPosition = function updatePortalPosition(props) {\n    var _this2 = this;\n\n    var offsetKey = props.offsetKey,\n        mentionStore = props.mentionStore;\n    mentionStore.updateSuggestion({\n      offsetKey: offsetKey,\n      trigger: this.trigger,\n      position: function position() {\n        var element = _this2.searchPortal;\n        var rect = getOffset(element);\n        return {\n          left: rect.left,\n          top: rect.top,\n          width: element.offsetWidth,\n          height: element.offsetHeight\n        };\n      }\n    });\n  };\n\n  SuggestionPortal.prototype.render = function render() {\n    var _this3 = this;\n\n    return React.createElement('span', {\n      ref: function ref(node) {\n        _this3.searchPortal = node;\n      },\n      style: this.props.style\n    }, this.props.children);\n  };\n\n  return SuggestionPortal;\n}(React.Component);\n\nSuggestionPortal.propTypes = {\n  offsetKey: PropTypes.any,\n  mentionStore: PropTypes.object,\n  decoratedText: PropTypes.string,\n  children: PropTypes.any,\n  callbacks: PropTypes.any,\n  suggestionRegex: PropTypes.any\n};\nexport default SuggestionPortal;","map":{"version":3,"names":["_classCallCheck","_possibleConstructorReturn","_inherits","React","PropTypes","getOffset","SuggestionPortal","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","call","apply","concat","matchDecorates","props","callbacks","suggestionRegex","decoratedText","matches","exec","trigger","updatePortalPosition","setEditorState","getEditorState","prototype","componentWillMount","componentWillReceiveProps","nextProps","componentWillUnmount","_props","offsetKey","mentionStore","inActiveSuggestion","_this2","updateSuggestion","position","element","searchPortal","rect","left","top","width","offsetWidth","height","offsetHeight","render","_this3","createElement","ref","node","style","children","Component","propTypes","any","object","string"],"sources":["E:/Work/PFE/Project folder/DocHelp/node_modules/rc-editor-mention/es/component/SuggestionPortal.react.js"],"sourcesContent":["import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport getOffset from '../utils/getOffset';\n\nvar SuggestionPortal = function (_React$Component) {\n  _inherits(SuggestionPortal, _React$Component);\n\n  function SuggestionPortal() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, SuggestionPortal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.matchDecorates = function (props) {\n      var callbacks = props.callbacks,\n          suggestionRegex = props.suggestionRegex,\n          decoratedText = props.decoratedText;\n\n      var matches = suggestionRegex.exec(decoratedText);\n      _this.trigger = matches[2];\n      _this.updatePortalPosition(_this.props);\n      callbacks.setEditorState(callbacks.getEditorState());\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  SuggestionPortal.prototype.componentWillMount = function componentWillMount() {\n    this.matchDecorates(this.props);\n  };\n\n  SuggestionPortal.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (nextProps.decoratedText !== this.props.decoratedText) {\n      this.matchDecorates(nextProps);\n    }\n    this.updatePortalPosition(nextProps);\n  };\n\n  SuggestionPortal.prototype.componentWillUnmount = function componentWillUnmount() {\n    var _props = this.props,\n        offsetKey = _props.offsetKey,\n        mentionStore = _props.mentionStore;\n\n    mentionStore.inActiveSuggestion({ offsetKey: offsetKey });\n  };\n\n  SuggestionPortal.prototype.updatePortalPosition = function updatePortalPosition(props) {\n    var _this2 = this;\n\n    var offsetKey = props.offsetKey,\n        mentionStore = props.mentionStore;\n\n    mentionStore.updateSuggestion({\n      offsetKey: offsetKey,\n      trigger: this.trigger,\n      position: function position() {\n        var element = _this2.searchPortal;\n        var rect = getOffset(element);\n        return {\n          left: rect.left,\n          top: rect.top,\n          width: element.offsetWidth,\n          height: element.offsetHeight\n        };\n      }\n    });\n  };\n\n  SuggestionPortal.prototype.render = function render() {\n    var _this3 = this;\n\n    return React.createElement(\n      'span',\n      { ref: function ref(node) {\n          _this3.searchPortal = node;\n        }, style: this.props.style },\n      this.props.children\n    );\n  };\n\n  return SuggestionPortal;\n}(React.Component);\n\nSuggestionPortal.propTypes = {\n  offsetKey: PropTypes.any,\n  mentionStore: PropTypes.object,\n  decoratedText: PropTypes.string,\n  children: PropTypes.any,\n  callbacks: PropTypes.any,\n  suggestionRegex: PropTypes.any\n};\nexport default SuggestionPortal;"],"mappings":"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"},"metadata":{},"sourceType":"module"}