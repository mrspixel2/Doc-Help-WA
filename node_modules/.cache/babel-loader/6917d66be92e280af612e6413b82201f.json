{"ast":null,"code":"/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule applyEntityToContentState\n * @format\n * \n */\n'use strict';\n\nvar Immutable = require('immutable');\n\nvar applyEntityToContentBlock = require('./applyEntityToContentBlock');\n\nfunction applyEntityToContentState(contentState, selectionState, entityKey) {\n  var blockMap = contentState.getBlockMap();\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n  var newBlocks = blockMap.skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).toOrderedMap().merge(Immutable.OrderedMap([[endKey, blockMap.get(endKey)]])).map(function (block, blockKey) {\n    var sliceStart = blockKey === startKey ? startOffset : 0;\n    var sliceEnd = blockKey === endKey ? endOffset : block.getLength();\n    return applyEntityToContentBlock(block, sliceStart, sliceEnd, entityKey);\n  });\n  return contentState.merge({\n    blockMap: blockMap.merge(newBlocks),\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n}\n\nmodule.exports = applyEntityToContentState;","map":{"version":3,"names":["Immutable","require","applyEntityToContentBlock","applyEntityToContentState","contentState","selectionState","entityKey","blockMap","getBlockMap","startKey","getStartKey","startOffset","getStartOffset","endKey","getEndKey","endOffset","getEndOffset","newBlocks","skipUntil","_","k","takeUntil","toOrderedMap","merge","OrderedMap","get","map","block","blockKey","sliceStart","sliceEnd","getLength","selectionBefore","selectionAfter","module","exports"],"sources":["E:/Work/PFE/Project folder/DocHelp-WA/node_modules/draft-js/lib/applyEntityToContentState.js"],"sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule applyEntityToContentState\n * @format\n * \n */\n\n'use strict';\n\nvar Immutable = require('immutable');\n\nvar applyEntityToContentBlock = require('./applyEntityToContentBlock');\n\nfunction applyEntityToContentState(contentState, selectionState, entityKey) {\n  var blockMap = contentState.getBlockMap();\n  var startKey = selectionState.getStartKey();\n  var startOffset = selectionState.getStartOffset();\n  var endKey = selectionState.getEndKey();\n  var endOffset = selectionState.getEndOffset();\n\n  var newBlocks = blockMap.skipUntil(function (_, k) {\n    return k === startKey;\n  }).takeUntil(function (_, k) {\n    return k === endKey;\n  }).toOrderedMap().merge(Immutable.OrderedMap([[endKey, blockMap.get(endKey)]])).map(function (block, blockKey) {\n    var sliceStart = blockKey === startKey ? startOffset : 0;\n    var sliceEnd = blockKey === endKey ? endOffset : block.getLength();\n    return applyEntityToContentBlock(block, sliceStart, sliceEnd, entityKey);\n  });\n\n  return contentState.merge({\n    blockMap: blockMap.merge(newBlocks),\n    selectionBefore: selectionState,\n    selectionAfter: selectionState\n  });\n}\n\nmodule.exports = applyEntityToContentState;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,IAAIA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAvB;;AAEA,IAAIC,yBAAyB,GAAGD,OAAO,CAAC,6BAAD,CAAvC;;AAEA,SAASE,yBAAT,CAAmCC,YAAnC,EAAiDC,cAAjD,EAAiEC,SAAjE,EAA4E;EAC1E,IAAIC,QAAQ,GAAGH,YAAY,CAACI,WAAb,EAAf;EACA,IAAIC,QAAQ,GAAGJ,cAAc,CAACK,WAAf,EAAf;EACA,IAAIC,WAAW,GAAGN,cAAc,CAACO,cAAf,EAAlB;EACA,IAAIC,MAAM,GAAGR,cAAc,CAACS,SAAf,EAAb;EACA,IAAIC,SAAS,GAAGV,cAAc,CAACW,YAAf,EAAhB;EAEA,IAAIC,SAAS,GAAGV,QAAQ,CAACW,SAAT,CAAmB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;IACjD,OAAOA,CAAC,KAAKX,QAAb;EACD,CAFe,EAEbY,SAFa,CAEH,UAAUF,CAAV,EAAaC,CAAb,EAAgB;IAC3B,OAAOA,CAAC,KAAKP,MAAb;EACD,CAJe,EAIbS,YAJa,GAIEC,KAJF,CAIQvB,SAAS,CAACwB,UAAV,CAAqB,CAAC,CAACX,MAAD,EAASN,QAAQ,CAACkB,GAAT,CAAaZ,MAAb,CAAT,CAAD,CAArB,CAJR,EAIgEa,GAJhE,CAIoE,UAAUC,KAAV,EAAiBC,QAAjB,EAA2B;IAC7G,IAAIC,UAAU,GAAGD,QAAQ,KAAKnB,QAAb,GAAwBE,WAAxB,GAAsC,CAAvD;IACA,IAAImB,QAAQ,GAAGF,QAAQ,KAAKf,MAAb,GAAsBE,SAAtB,GAAkCY,KAAK,CAACI,SAAN,EAAjD;IACA,OAAO7B,yBAAyB,CAACyB,KAAD,EAAQE,UAAR,EAAoBC,QAApB,EAA8BxB,SAA9B,CAAhC;EACD,CARe,CAAhB;EAUA,OAAOF,YAAY,CAACmB,KAAb,CAAmB;IACxBhB,QAAQ,EAAEA,QAAQ,CAACgB,KAAT,CAAeN,SAAf,CADc;IAExBe,eAAe,EAAE3B,cAFO;IAGxB4B,cAAc,EAAE5B;EAHQ,CAAnB,CAAP;AAKD;;AAED6B,MAAM,CAACC,OAAP,GAAiBhC,yBAAjB"},"metadata":{},"sourceType":"script"}