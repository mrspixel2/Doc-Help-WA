{"ast":null,"code":"import { __assign, __spreadArrays, __extends, __rest } from 'tslib';\nimport { pipe, angle, degreesToRadians, distance, isPoint3D, isPoint, mix, pointFromVector, progress, radiansToDegrees, smoothFrame, velocityPerFrame, velocityPerSecond, mixComplex, mixColor, clamp, applyOffset, conditional, interpolate, mixArray, smooth, snap, springForce, springForceExpo, springForceLinear, wrap } from '@popmotion/popcorn';\nimport sync, { getFrameData, cancelSync } from 'framesync';\nimport { color, complex, px, percent, degrees, vh, vw, number } from 'style-value-types';\nimport * as styleValueTypes from 'style-value-types';\nexport { styleValueTypes as valueTypes };\nimport { createReversedEasing, linear, easeOut, easeInOut } from '@popmotion/easing';\nimport * as easing from '@popmotion/easing';\nexport { easing };\nimport styler from 'stylefire';\nexport { default as styler } from 'stylefire';\nimport { warning } from 'hey-listen';\n\nvar Chainable = /*#__PURE__*/function () {\n  function Chainable(props) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    this.props = props;\n  }\n\n  Chainable.prototype.applyMiddleware = function (middleware) {\n    return this.create(__assign(__assign({}, this.props), {\n      middleware: this.props.middleware ? __spreadArrays([middleware], this.props.middleware) : [middleware]\n    }));\n  };\n\n  Chainable.prototype.pipe = function () {\n    var funcs = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      funcs[_i] = arguments[_i];\n    }\n\n    var pipedUpdate = funcs.length === 1 ? funcs[0] : pipe.apply(void 0, funcs);\n    return this.applyMiddleware(function (update) {\n      return function (v) {\n        return update(pipedUpdate(v));\n      };\n    });\n  };\n\n  Chainable.prototype.while = function (predicate) {\n    return this.applyMiddleware(function (update, complete) {\n      return function (v) {\n        return predicate(v) ? update(v) : complete();\n      };\n    });\n  };\n\n  Chainable.prototype.filter = function (predicate) {\n    return this.applyMiddleware(function (update) {\n      return function (v) {\n        return predicate(v) && update(v);\n      };\n    });\n  };\n\n  return Chainable;\n}();\n\nvar Observer = /*#__PURE__*/function () {\n  function Observer(_a, observer) {\n    var _this = this;\n\n    var middleware = _a.middleware,\n        onComplete = _a.onComplete;\n    this.isActive = true;\n\n    this.update = function (v) {\n      if (_this.observer.update) _this.updateObserver(v);\n    };\n\n    this.complete = function () {\n      if (_this.observer.complete && _this.isActive) _this.observer.complete();\n      if (_this.onComplete) _this.onComplete();\n      _this.isActive = false;\n    };\n\n    this.error = function (err) {\n      if (_this.observer.error && _this.isActive) _this.observer.error(err);\n      _this.isActive = false;\n    };\n\n    this.observer = observer;\n\n    this.updateObserver = function (v) {\n      return observer.update(v);\n    };\n\n    this.onComplete = onComplete;\n\n    if (observer.update && middleware && middleware.length) {\n      middleware.forEach(function (m) {\n        return _this.updateObserver = m(_this.updateObserver, _this.complete);\n      });\n    }\n  }\n\n  return Observer;\n}();\n\nvar createObserver = function (observerCandidate, _a, onComplete) {\n  var middleware = _a.middleware;\n\n  if (typeof observerCandidate === 'function') {\n    return new Observer({\n      middleware: middleware,\n      onComplete: onComplete\n    }, {\n      update: observerCandidate\n    });\n  } else {\n    return new Observer({\n      middleware: middleware,\n      onComplete: onComplete\n    }, observerCandidate);\n  }\n};\n\nvar Action = /*#__PURE__*/function (_super) {\n  __extends(Action, _super);\n\n  function Action() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Action.prototype.create = function (props) {\n    return new Action(props);\n  };\n\n  Action.prototype.start = function (observerCandidate) {\n    if (observerCandidate === void 0) {\n      observerCandidate = {};\n    }\n\n    var isComplete = false;\n    var subscription = {\n      stop: function () {\n        return undefined;\n      }\n    };\n\n    var _a = this.props,\n        init = _a.init,\n        observerProps = __rest(_a, [\"init\"]);\n\n    var observer = createObserver(observerCandidate, observerProps, function () {\n      isComplete = true;\n      subscription.stop();\n    });\n    var api = init(observer);\n    subscription = api ? __assign(__assign({}, subscription), api) : subscription;\n\n    if (observerCandidate.registerParent) {\n      observerCandidate.registerParent(subscription);\n    }\n\n    if (isComplete) subscription.stop();\n    return subscription;\n  };\n\n  return Action;\n}(Chainable);\n\nvar action = function (init) {\n  return new Action({\n    init: init\n  });\n};\n\nvar BaseMulticast = /*#__PURE__*/function (_super) {\n  __extends(BaseMulticast, _super);\n\n  function BaseMulticast() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.subscribers = [];\n    return _this;\n  }\n\n  BaseMulticast.prototype.complete = function () {\n    this.subscribers.forEach(function (subscriber) {\n      return subscriber.complete();\n    });\n  };\n\n  BaseMulticast.prototype.error = function (err) {\n    this.subscribers.forEach(function (subscriber) {\n      return subscriber.error(err);\n    });\n  };\n\n  BaseMulticast.prototype.update = function (v) {\n    for (var i = 0; i < this.subscribers.length; i++) {\n      this.subscribers[i].update(v);\n    }\n  };\n\n  BaseMulticast.prototype.subscribe = function (observerCandidate) {\n    var _this = this;\n\n    var observer = createObserver(observerCandidate, this.props);\n    this.subscribers.push(observer);\n    var subscription = {\n      unsubscribe: function () {\n        var index = _this.subscribers.indexOf(observer);\n\n        if (index !== -1) _this.subscribers.splice(index, 1);\n      }\n    };\n    return subscription;\n  };\n\n  BaseMulticast.prototype.stop = function () {\n    if (this.parent) this.parent.stop();\n  };\n\n  BaseMulticast.prototype.registerParent = function (subscription) {\n    this.stop();\n    this.parent = subscription;\n  };\n\n  return BaseMulticast;\n}(Chainable);\n\nvar Multicast = /*#__PURE__*/function (_super) {\n  __extends(Multicast, _super);\n\n  function Multicast() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Multicast.prototype.create = function (props) {\n    return new Multicast(props);\n  };\n\n  return Multicast;\n}(BaseMulticast);\n\nvar multicast = function () {\n  return new Multicast();\n};\n\nvar stepProgress = function (steps, progress) {\n  var segment = 1 / (steps - 1);\n  var subsegment = 1 / (2 * (steps - 1));\n  var percentProgressOfTarget = Math.min(progress, 1);\n  var subsegmentProgressOfTarget = percentProgressOfTarget / subsegment;\n  var segmentProgressOfTarget = Math.floor((subsegmentProgressOfTarget + 1) / 2);\n  return segmentProgressOfTarget * segment;\n};\n\nvar calc = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  angle: angle,\n  degreesToRadians: degreesToRadians,\n  distance: distance,\n  isPoint3D: isPoint3D,\n  isPoint: isPoint,\n  dilate: mix,\n  getValueFromProgress: mix,\n  pointFromAngleAndDistance: pointFromVector,\n  getProgressFromValue: progress,\n  radiansToDegrees: radiansToDegrees,\n  smooth: smoothFrame,\n  speedPerFrame: velocityPerFrame,\n  speedPerSecond: velocityPerSecond,\n  stepProgress: stepProgress\n});\n\nvar isValueList = function (v) {\n  return Array.isArray(v);\n};\n\nvar isSingleValue = function (v) {\n  var typeOfV = typeof v;\n  return typeOfV === 'string' || typeOfV === 'number';\n};\n\nvar ValueReaction = /*#__PURE__*/function (_super) {\n  __extends(ValueReaction, _super);\n\n  function ValueReaction(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.scheduleVelocityCheck = function () {\n      return sync.postRender(_this.velocityCheck);\n    };\n\n    _this.velocityCheck = function (_a) {\n      var timestamp = _a.timestamp;\n\n      if (timestamp !== _this.lastUpdated) {\n        _this.prev = _this.current;\n      }\n    };\n\n    _this.prev = _this.current = props.value || 0;\n\n    if (isSingleValue(_this.current)) {\n      _this.updateCurrent = function (v) {\n        return _this.current = v;\n      };\n\n      _this.getVelocityOfCurrent = function () {\n        return _this.getSingleVelocity(_this.current, _this.prev);\n      };\n    } else if (isValueList(_this.current)) {\n      _this.updateCurrent = function (v) {\n        return _this.current = __spreadArrays(v);\n      };\n\n      _this.getVelocityOfCurrent = function () {\n        return _this.getListVelocity();\n      };\n    } else {\n      _this.updateCurrent = function (v) {\n        _this.current = {};\n\n        for (var key in v) {\n          if (v.hasOwnProperty(key)) {\n            _this.current[key] = v[key];\n          }\n        }\n      };\n\n      _this.getVelocityOfCurrent = function () {\n        return _this.getMapVelocity();\n      };\n    }\n\n    if (props.initialSubscription) _this.subscribe(props.initialSubscription);\n    return _this;\n  }\n\n  ValueReaction.prototype.create = function (props) {\n    return new ValueReaction(props);\n  };\n\n  ValueReaction.prototype.get = function () {\n    return this.current;\n  };\n\n  ValueReaction.prototype.getVelocity = function () {\n    return this.getVelocityOfCurrent();\n  };\n\n  ValueReaction.prototype.update = function (v) {\n    _super.prototype.update.call(this, v);\n\n    this.prev = this.current;\n    this.updateCurrent(v);\n\n    var _a = getFrameData(),\n        delta = _a.delta,\n        timestamp = _a.timestamp;\n\n    this.timeDelta = delta;\n    this.lastUpdated = timestamp;\n    sync.postRender(this.scheduleVelocityCheck);\n  };\n\n  ValueReaction.prototype.subscribe = function (observerCandidate) {\n    var sub = _super.prototype.subscribe.call(this, observerCandidate);\n\n    this.subscribers[this.subscribers.length - 1].update(this.current);\n    return sub;\n  };\n\n  ValueReaction.prototype.getSingleVelocity = function (current, prev) {\n    return typeof current === 'number' && typeof prev === 'number' ? velocityPerSecond(current - prev, this.timeDelta) : velocityPerSecond(parseFloat(current) - parseFloat(prev), this.timeDelta) || 0;\n  };\n\n  ValueReaction.prototype.getListVelocity = function () {\n    var _this = this;\n\n    return this.current.map(function (c, i) {\n      return _this.getSingleVelocity(c, _this.prev[i]);\n    });\n  };\n\n  ValueReaction.prototype.getMapVelocity = function () {\n    var velocity = {};\n\n    for (var key in this.current) {\n      if (this.current.hasOwnProperty(key)) {\n        velocity[key] = this.getSingleVelocity(this.current[key], this.prev[key]);\n      }\n    }\n\n    return velocity;\n  };\n\n  return ValueReaction;\n}(BaseMulticast);\n\nvar value = function (value, initialSubscription) {\n  return new ValueReaction({\n    value: value,\n    initialSubscription: initialSubscription\n  });\n};\n\nvar multi = function (_a) {\n  var getCount = _a.getCount,\n      getFirst = _a.getFirst,\n      getOutput = _a.getOutput,\n      mapApi = _a.mapApi,\n      setProp = _a.setProp,\n      startActions = _a.startActions;\n  return function (actions) {\n    return action(function (_a) {\n      var update = _a.update,\n          complete = _a.complete,\n          error = _a.error;\n      var numActions = getCount(actions);\n      var output = getOutput();\n\n      var updateOutput = function () {\n        return update(output);\n      };\n\n      var numCompletedActions = 0;\n      var subs = startActions(actions, function (a, name) {\n        var hasCompleted = false;\n        return a.start({\n          complete: function () {\n            if (!hasCompleted) {\n              hasCompleted = true;\n              numCompletedActions++;\n              if (numCompletedActions === numActions) sync.update(complete);\n            }\n          },\n          error: error,\n          update: function (v) {\n            setProp(output, name, v);\n            sync.update(updateOutput, false, true);\n          }\n        });\n      });\n      return Object.keys(getFirst(subs)).reduce(function (api, methodName) {\n        api[methodName] = mapApi(subs, methodName);\n        return api;\n      }, {});\n    });\n  };\n};\n\nvar composite = /*#__PURE__*/multi({\n  getOutput: function () {\n    return {};\n  },\n  getCount: function (subs) {\n    return Object.keys(subs).length;\n  },\n  getFirst: function (subs) {\n    return subs[Object.keys(subs)[0]];\n  },\n  mapApi: function (subs, methodName) {\n    return function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      return Object.keys(subs).reduce(function (output, propKey) {\n        var _a;\n\n        if (subs[propKey][methodName]) {\n          args[0] && args[0][propKey] !== undefined ? output[propKey] = subs[propKey][methodName](args[0][propKey]) : output[propKey] = (_a = subs[propKey])[methodName].apply(_a, args);\n        }\n\n        return output;\n      }, {});\n    };\n  },\n  setProp: function (output, name, v) {\n    return output[name] = v;\n  },\n  startActions: function (actions, starter) {\n    return Object.keys(actions).reduce(function (subs, key) {\n      subs[key] = starter(actions[key], key);\n      return subs;\n    }, {});\n  }\n});\nvar parallel = /*#__PURE__*/multi({\n  getOutput: function () {\n    return [];\n  },\n  getCount: function (subs) {\n    return subs.length;\n  },\n  getFirst: function (subs) {\n    return subs[0];\n  },\n  mapApi: function (subs, methodName) {\n    return function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      return subs.map(function (sub, i) {\n        if (sub[methodName]) {\n          return Array.isArray(args[0]) ? sub[methodName](args[0][i]) : sub[methodName].apply(sub, args);\n        }\n      });\n    };\n  },\n  setProp: function (output, name, v) {\n    return output[name] = v;\n  },\n  startActions: function (actions, starter) {\n    return actions.map(function (action, i) {\n      return starter(action, i);\n    });\n  }\n});\n\nvar parallel$1 = function () {\n  var actions = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    actions[_i] = arguments[_i];\n  }\n\n  return parallel(actions);\n};\n\nvar createVectorTests = function (typeTests) {\n  var testNames = Object.keys(typeTests);\n\n  var isVectorProp = function (prop, key) {\n    return prop !== undefined && !typeTests[key](prop);\n  };\n\n  var getVectorKeys = function (props) {\n    return testNames.reduce(function (vectorKeys, key) {\n      if (isVectorProp(props[key], key)) vectorKeys.push(key);\n      return vectorKeys;\n    }, []);\n  };\n\n  var testVectorProps = function (props) {\n    return props && testNames.some(function (key) {\n      return isVectorProp(props[key], key);\n    });\n  };\n\n  return {\n    getVectorKeys: getVectorKeys,\n    testVectorProps: testVectorProps\n  };\n};\n\nvar unitTypes = [px, percent, degrees, vh, vw];\n\nvar findUnitType = function (prop) {\n  return unitTypes.find(function (type) {\n    return type.test(prop);\n  });\n};\n\nvar isUnitProp = function (prop) {\n  return Boolean(findUnitType(prop));\n};\n\nvar createAction = function (action, props) {\n  return action(props);\n};\n\nvar reduceArrayValue = function (i) {\n  return function (props, key) {\n    props[key] = props[key][i];\n    return props;\n  };\n};\n\nvar createArrayAction = function (action, props, vectorKeys) {\n  var firstVectorKey = vectorKeys[0];\n  var actionList = props[firstVectorKey].map(function (v, i) {\n    var childActionProps = vectorKeys.reduce(reduceArrayValue(i), __assign({}, props));\n    return getActionCreator(v)(action, childActionProps);\n  });\n  return parallel$1.apply(void 0, actionList);\n};\n\nvar reduceObjectValue = function (key) {\n  return function (props, propKey) {\n    props[propKey] = props[propKey][key];\n    return props;\n  };\n};\n\nvar createObjectAction = function (action, props, vectorKeys) {\n  var firstVectorKey = vectorKeys[0];\n  var actionMap = Object.keys(props[firstVectorKey]).reduce(function (map, key) {\n    var childActionProps = vectorKeys.reduce(reduceObjectValue(key), __assign({}, props));\n    map[key] = getActionCreator(props[firstVectorKey][key])(action, childActionProps);\n    return map;\n  }, {});\n  return composite(actionMap);\n};\n\nvar createUnitAction = function (action, _a) {\n  var from = _a.from,\n      to = _a.to,\n      props = __rest(_a, [\"from\", \"to\"]);\n\n  var unitType = findUnitType(from) || findUnitType(to);\n  var transform = unitType.transform,\n      parse = unitType.parse;\n  return action(__assign(__assign({}, props), {\n    from: typeof from === 'string' ? parse(from) : from,\n    to: typeof to === 'string' ? parse(to) : to\n  })).pipe(transform);\n};\n\nvar createMixerAction = function (mixer) {\n  return function (action, _a) {\n    var from = _a.from,\n        to = _a.to,\n        props = __rest(_a, [\"from\", \"to\"]);\n\n    return action(__assign(__assign({}, props), {\n      from: 0,\n      to: 1\n    })).pipe(mixer(from, to));\n  };\n};\n\nvar createColorAction = /*#__PURE__*/createMixerAction(mixColor);\nvar createComplexAction = /*#__PURE__*/createMixerAction(mixComplex);\n\nvar createVectorAction = function (action, typeTests) {\n  var _a = createVectorTests(typeTests),\n      testVectorProps = _a.testVectorProps,\n      getVectorKeys = _a.getVectorKeys;\n\n  var vectorAction = function (props) {\n    var isVector = testVectorProps(props);\n    if (!isVector) return action(props);\n    var vectorKeys = getVectorKeys(props);\n    var testKey = vectorKeys[0];\n    var testProp = props[testKey];\n    return getActionCreator(testProp)(action, props, vectorKeys);\n  };\n\n  return vectorAction;\n};\n\nvar getActionCreator = function (prop) {\n  if (typeof prop === 'number') {\n    return createAction;\n  } else if (Array.isArray(prop)) {\n    return createArrayAction;\n  } else if (isUnitProp(prop)) {\n    return createUnitAction;\n  } else if (color.test(prop)) {\n    return createColorAction;\n  } else if (complex.test(prop)) {\n    return createComplexAction;\n  } else if (typeof prop === 'object') {\n    return createObjectAction;\n  } else {\n    return createAction;\n  }\n};\n\nvar decay = function (props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  return action(function (_a) {\n    var complete = _a.complete,\n        update = _a.update;\n    var _b = props.velocity,\n        velocity = _b === void 0 ? 0 : _b,\n        _c = props.from,\n        from = _c === void 0 ? 0 : _c,\n        _d = props.power,\n        power = _d === void 0 ? 0.8 : _d,\n        _e = props.timeConstant,\n        timeConstant = _e === void 0 ? 350 : _e,\n        _f = props.restDelta,\n        restDelta = _f === void 0 ? 0.5 : _f,\n        modifyTarget = props.modifyTarget;\n    var elapsed = 0;\n    var amplitude = power * velocity;\n    var idealTarget = from + amplitude;\n    var target = typeof modifyTarget === 'undefined' ? idealTarget : modifyTarget(idealTarget);\n    if (target !== idealTarget) amplitude = target - from;\n    var process = sync.update(function (_a) {\n      var frameDelta = _a.delta;\n      elapsed += frameDelta;\n      var delta = -amplitude * Math.exp(-elapsed / timeConstant);\n      var isMoving = delta > restDelta || delta < -restDelta;\n      var current = isMoving ? target + delta : target;\n      update(current);\n\n      if (!isMoving) {\n        cancelSync.update(process);\n        complete();\n      }\n    }, true);\n    return {\n      stop: function () {\n        return cancelSync.update(process);\n      }\n    };\n  });\n};\n\nvar vectorDecay = /*#__PURE__*/createVectorAction(decay, {\n  from: number.test,\n  modifyTarget: function (func) {\n    return typeof func === 'function';\n  },\n  velocity: number.test\n});\n\nvar spring = function (props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  return action(function (_a) {\n    var update = _a.update,\n        complete = _a.complete;\n    var _b = props.velocity,\n        velocity = _b === void 0 ? 0.0 : _b;\n    var _c = props.from,\n        from = _c === void 0 ? 0.0 : _c,\n        _d = props.to,\n        to = _d === void 0 ? 0.0 : _d,\n        _e = props.stiffness,\n        stiffness = _e === void 0 ? 100 : _e,\n        _f = props.damping,\n        damping = _f === void 0 ? 10 : _f,\n        _g = props.mass,\n        mass = _g === void 0 ? 1.0 : _g,\n        _h = props.restSpeed,\n        restSpeed = _h === void 0 ? 0.01 : _h,\n        _j = props.restDelta,\n        restDelta = _j === void 0 ? 0.01 : _j;\n    var initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n    var t = 0;\n    var delta = to - from;\n    var position = from;\n    var prevPosition = position;\n    var process = sync.update(function (_a) {\n      var timeDelta = _a.delta;\n      t += timeDelta;\n      var dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n      var angularFreq = Math.sqrt(stiffness / mass) / 1000;\n      prevPosition = position;\n\n      if (dampingRatio < 1) {\n        var envelope = Math.exp(-dampingRatio * angularFreq * t);\n        var expoDecay = angularFreq * Math.sqrt(1.0 - dampingRatio * dampingRatio);\n        position = to - envelope * ((initialVelocity + dampingRatio * angularFreq * delta) / expoDecay * Math.sin(expoDecay * t) + delta * Math.cos(expoDecay * t));\n      } else {\n        var envelope = Math.exp(-angularFreq * t);\n        position = to - envelope * (delta + (initialVelocity + angularFreq * delta) * t);\n      }\n\n      velocity = velocityPerSecond(position - prevPosition, timeDelta);\n      var isBelowVelocityThreshold = Math.abs(velocity) <= restSpeed;\n      var isBelowDisplacementThreshold = Math.abs(to - position) <= restDelta;\n\n      if (isBelowVelocityThreshold && isBelowDisplacementThreshold) {\n        position = to;\n        update(position);\n        cancelSync.update(process);\n        complete();\n      } else {\n        update(position);\n      }\n    }, true);\n    return {\n      stop: function () {\n        return cancelSync.update(process);\n      }\n    };\n  });\n};\n\nvar vectorSpring = /*#__PURE__*/createVectorAction(spring, {\n  from: number.test,\n  to: number.test,\n  stiffness: number.test,\n  damping: number.test,\n  mass: number.test,\n  velocity: number.test\n});\n\nvar inertia = function (_a) {\n  var _b = _a.from,\n      from = _b === void 0 ? 0 : _b,\n      _c = _a.velocity,\n      velocity = _c === void 0 ? 0 : _c,\n      min = _a.min,\n      max = _a.max,\n      _d = _a.power,\n      power = _d === void 0 ? 0.8 : _d,\n      _e = _a.timeConstant,\n      timeConstant = _e === void 0 ? 700 : _e,\n      _f = _a.bounceStiffness,\n      bounceStiffness = _f === void 0 ? 500 : _f,\n      _g = _a.bounceDamping,\n      bounceDamping = _g === void 0 ? 10 : _g,\n      _h = _a.restDelta,\n      restDelta = _h === void 0 ? 1 : _h,\n      modifyTarget = _a.modifyTarget;\n  return action(function (_a) {\n    var update = _a.update,\n        complete = _a.complete;\n    var prev = from;\n    var current = from;\n    var activeAnimation;\n\n    var isOutOfBounds = function (v) {\n      return min !== undefined && v < min || max !== undefined && v > max;\n    };\n\n    var boundaryNearest = function (v) {\n      return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n    };\n\n    var startAnimation = function (animation, next) {\n      activeAnimation && activeAnimation.stop();\n      activeAnimation = animation.start({\n        update: update,\n        complete: function () {\n          if (next) {\n            next();\n            return;\n          }\n\n          complete();\n        }\n      });\n    };\n\n    var startSpring = function (props) {\n      startAnimation(spring(__assign(__assign({}, props), {\n        stiffness: bounceStiffness,\n        damping: bounceDamping,\n        restDelta: restDelta\n      })));\n    };\n\n    if (isOutOfBounds(from)) {\n      startSpring({\n        from: from,\n        velocity: velocity,\n        to: boundaryNearest(from)\n      });\n    } else {\n      var to = power * velocity + from;\n\n      if (typeof modifyTarget !== 'undefined') {\n        to = modifyTarget(to);\n        modifyTarget = void 0;\n        velocity = (to - from) / power;\n      }\n\n      var animation = decay({\n        from: from,\n        velocity: velocity,\n        timeConstant: timeConstant,\n        power: power,\n        restDelta: restDelta,\n        modifyTarget: modifyTarget\n      });\n      var next = void 0;\n\n      if (isOutOfBounds(to)) {\n        var boundary_1 = boundaryNearest(to);\n        var heading_1 = boundary_1 == min ? -1 : 1;\n        animation = animation.while(function (v) {\n          prev = current;\n          velocity = velocityPerSecond(v - prev, getFrameData().delta);\n          current = v;\n          return boundary_1 - v * heading_1 > 0;\n        });\n\n        next = function () {\n          return startSpring({\n            from: current,\n            to: boundary_1,\n            velocity: velocity\n          });\n        };\n      }\n\n      startAnimation(animation, next);\n    }\n\n    return {\n      stop: function () {\n        return activeAnimation && activeAnimation.stop();\n      }\n    };\n  });\n};\n\nvar index = /*#__PURE__*/createVectorAction(inertia, {\n  from: number.test,\n  velocity: number.test,\n  min: number.test,\n  max: number.test,\n  damping: number.test,\n  stiffness: number.test,\n  modifyTarget: function (func) {\n    return typeof func === 'function';\n  }\n});\n\nvar frame = function () {\n  return action(function (_a) {\n    var update = _a.update;\n    var initialTime = 0;\n    var process = sync.update(function (_a) {\n      var timestamp = _a.timestamp;\n      if (!initialTime) initialTime = timestamp;\n      update(timestamp - initialTime);\n    }, true, true);\n    return {\n      stop: function () {\n        return cancelSync.update(process);\n      }\n    };\n  });\n};\n\nvar scrubber = function (_a) {\n  var _b = _a.from,\n      from = _b === void 0 ? 0 : _b,\n      _c = _a.to,\n      to = _c === void 0 ? 1 : _c,\n      _d = _a.ease,\n      ease = _d === void 0 ? linear : _d,\n      _e = _a.reverseEase,\n      reverseEase = _e === void 0 ? false : _e;\n\n  if (reverseEase) {\n    ease = createReversedEasing(ease);\n  }\n\n  return action(function (_a) {\n    var update = _a.update;\n    return {\n      seek: function (progress) {\n        return update(progress);\n      }\n    };\n  }).pipe(ease, function (v) {\n    return mix(from, to, v);\n  });\n};\n\nvar vectorScrubber = /*#__PURE__*/createVectorAction(scrubber, {\n  ease: function (func) {\n    return typeof func === 'function';\n  },\n  from: number.test,\n  to: number.test\n});\nvar clampProgress = /*#__PURE__*/clamp(0, 1);\n\nvar tween = function (props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  return action(function (_a) {\n    var update = _a.update,\n        complete = _a.complete;\n    var _b = props.duration,\n        duration = _b === void 0 ? 300 : _b,\n        _c = props.ease,\n        ease = _c === void 0 ? easeOut : _c,\n        _d = props.flip,\n        flip = _d === void 0 ? 0 : _d,\n        _e = props.loop,\n        loop = _e === void 0 ? 0 : _e,\n        _f = props.yoyo,\n        yoyo = _f === void 0 ? 0 : _f,\n        _g = props.repeatDelay,\n        repeatDelay = _g === void 0 ? 0 : _g;\n    var _h = props.from,\n        from = _h === void 0 ? 0 : _h,\n        _j = props.to,\n        to = _j === void 0 ? 1 : _j,\n        _k = props.elapsed,\n        elapsed = _k === void 0 ? 0 : _k,\n        _l = props.flipCount,\n        flipCount = _l === void 0 ? 0 : _l,\n        _m = props.yoyoCount,\n        yoyoCount = _m === void 0 ? 0 : _m,\n        _o = props.loopCount,\n        loopCount = _o === void 0 ? 0 : _o;\n    var playhead = vectorScrubber({\n      from: from,\n      to: to,\n      ease: ease\n    }).start(update);\n    var currentProgress = 0;\n    var process;\n    var isActive = false;\n\n    var reverseAnimation = function (reverseEase) {\n      var _a;\n\n      if (reverseEase === void 0) {\n        reverseEase = false;\n      }\n\n      _a = [to, from], from = _a[0], to = _a[1];\n      playhead = vectorScrubber({\n        from: from,\n        to: to,\n        ease: ease,\n        reverseEase: reverseEase\n      }).start(update);\n    };\n\n    var isTweenComplete = function () {\n      var isComplete = isActive && elapsed > duration + repeatDelay;\n      if (!isComplete) return false;\n      if (isComplete && !loop && !flip && !yoyo) return true;\n      elapsed = duration - (elapsed - repeatDelay);\n\n      if (loop && loopCount < loop) {\n        loopCount++;\n        return false;\n      } else if (flip && flipCount < flip) {\n        flipCount++;\n        reverseAnimation();\n        return false;\n      } else if (yoyo && yoyoCount < yoyo) {\n        yoyoCount++;\n        reverseAnimation(yoyoCount % 2 !== 0);\n        return false;\n      }\n\n      return true;\n    };\n\n    var updateTween = function () {\n      currentProgress = clampProgress(progress(0, duration, elapsed));\n      playhead.seek(currentProgress);\n    };\n\n    var startTimer = function () {\n      isActive = true;\n      process = sync.update(function (_a) {\n        var delta = _a.delta;\n        elapsed += delta;\n        updateTween();\n\n        if (isTweenComplete()) {\n          cancelSync.update(process);\n          complete && sync.update(complete, false, true);\n        }\n      }, true);\n    };\n\n    var stopTimer = function () {\n      isActive = false;\n      if (process) cancelSync.update(process);\n    };\n\n    startTimer();\n    return {\n      isActive: function () {\n        return isActive;\n      },\n      getElapsed: function () {\n        return clamp(0, duration, elapsed);\n      },\n      getProgress: function () {\n        return currentProgress;\n      },\n      stop: function () {\n        stopTimer();\n      },\n      pause: function () {\n        stopTimer();\n        return this;\n      },\n      resume: function () {\n        if (!isActive) startTimer();\n        return this;\n      },\n      seek: function (newProgress) {\n        elapsed = mix(0, duration, newProgress);\n        sync.update(updateTween, false, true);\n        return this;\n      },\n      reverse: function () {\n        reverseAnimation();\n        return this;\n      }\n    };\n  });\n};\n\nvar clampProgress$1 = /*#__PURE__*/clamp(0, 1);\n\nvar defaultEasings = function (values, easing) {\n  return values.map(function () {\n    return easing || easeOut;\n  }).splice(0, values.length - 1);\n};\n\nvar defaultTimings = function (values) {\n  var numValues = values.length;\n  return values.map(function (value, i) {\n    return i !== 0 ? i / (numValues - 1) : 0;\n  });\n};\n\nvar interpolateScrubbers = function (input, scrubbers, update) {\n  var rangeLength = input.length;\n  var finalInputIndex = rangeLength - 1;\n  var finalScrubberIndex = finalInputIndex - 1;\n  var subs = scrubbers.map(function (scrub) {\n    return scrub.start(update);\n  });\n  return function (v) {\n    if (v <= input[0]) {\n      subs[0].seek(0);\n    }\n\n    if (v >= input[finalInputIndex]) {\n      subs[finalScrubberIndex].seek(1);\n    }\n\n    var i = 1;\n\n    for (; i < rangeLength; i++) {\n      if (input[i] > v || i === finalInputIndex) break;\n    }\n\n    var progressInRange = progress(input[i - 1], input[i], v);\n    subs[i - 1].seek(clampProgress$1(progressInRange));\n  };\n};\n\nvar keyframes = function (_a) {\n  var easings = _a.easings,\n      _b = _a.ease,\n      ease = _b === void 0 ? linear : _b,\n      times = _a.times,\n      values = _a.values,\n      tweenProps = __rest(_a, [\"easings\", \"ease\", \"times\", \"values\"]);\n\n  easings = Array.isArray(easings) ? easings : defaultEasings(values, easings);\n  times = times || defaultTimings(values);\n  var scrubbers = easings.map(function (easing, i) {\n    return vectorScrubber({\n      from: values[i],\n      to: values[i + 1],\n      ease: easing\n    });\n  });\n  return tween(__assign(__assign({}, tweenProps), {\n    ease: ease\n  })).applyMiddleware(function (update) {\n    return interpolateScrubbers(times, scrubbers, update);\n  });\n};\n\nvar physics = function (props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  return action(function (_a) {\n    var complete = _a.complete,\n        update = _a.update;\n    var _b = props.acceleration,\n        acceleration = _b === void 0 ? 0 : _b,\n        _c = props.friction,\n        friction = _c === void 0 ? 0 : _c,\n        _d = props.velocity,\n        velocity = _d === void 0 ? 0 : _d,\n        springStrength = props.springStrength,\n        to = props.to;\n    var _e = props.restSpeed,\n        restSpeed = _e === void 0 ? 0.001 : _e,\n        _f = props.from,\n        from = _f === void 0 ? 0 : _f;\n    var current = from;\n    var process = sync.update(function (_a) {\n      var delta = _a.delta;\n      var elapsed = Math.max(delta, 16);\n      if (acceleration) velocity += velocityPerFrame(acceleration, elapsed);\n      if (friction) velocity *= Math.pow(1 - friction, elapsed / 100);\n\n      if (springStrength !== undefined && to !== undefined) {\n        var distanceToTarget = to - current;\n        velocity += distanceToTarget * velocityPerFrame(springStrength, elapsed);\n      }\n\n      current += velocityPerFrame(velocity, elapsed);\n      update(current);\n      var isComplete = restSpeed !== false && (!velocity || Math.abs(velocity) <= restSpeed);\n\n      if (isComplete) {\n        cancelSync.update(process);\n        complete();\n      }\n    }, true);\n    return {\n      set: function (v) {\n        current = v;\n        return this;\n      },\n      setAcceleration: function (v) {\n        acceleration = v;\n        return this;\n      },\n      setFriction: function (v) {\n        friction = v;\n        return this;\n      },\n      setSpringStrength: function (v) {\n        springStrength = v;\n        return this;\n      },\n      setSpringTarget: function (v) {\n        to = v;\n        return this;\n      },\n      setVelocity: function (v) {\n        velocity = v;\n        return this;\n      },\n      stop: function () {\n        return cancelSync.update(process);\n      }\n    };\n  });\n};\n\nvar vectorPhysics = /*#__PURE__*/createVectorAction(physics, {\n  acceleration: number.test,\n  friction: number.test,\n  velocity: number.test,\n  from: number.test,\n  to: number.test,\n  springStrength: number.test\n});\nvar DEFAULT_DURATION = 300;\n\nvar flattenTimings = function (instructions) {\n  var flatInstructions = [];\n  var lastArg = instructions[instructions.length - 1];\n  var isStaggered = typeof lastArg === 'number';\n  var staggerDelay = isStaggered ? lastArg : 0;\n  var segments = isStaggered ? instructions.slice(0, -1) : instructions;\n  var numSegments = segments.length;\n  var offset = 0;\n  segments.forEach(function (item, i) {\n    flatInstructions.push(item);\n\n    if (i !== numSegments - 1) {\n      var duration = item.duration || DEFAULT_DURATION;\n      offset = staggerDelay;\n      flatInstructions.push(\"\" + (offset - duration));\n    }\n  });\n  return flatInstructions;\n};\n\nvar flattenArrayInstructions = function (instructions, instruction) {\n  Array.isArray(instruction) ? instructions.push.apply(instructions, flattenTimings(instruction)) : instructions.push(instruction);\n  return instructions;\n};\n\nvar convertDefToProps = function (props, def, i) {\n  var duration = props.duration,\n      easings = props.easings,\n      times = props.times,\n      values = props.values;\n  var numValues = values.length;\n  var prevTimeTo = times[numValues - 1];\n  var timeFrom = def.at === 0 ? 0 : def.at / duration;\n  var timeTo = (def.at + def.duration) / duration;\n\n  if (i === 0) {\n    values.push(def.from);\n    times.push(timeFrom);\n  } else {\n    if (prevTimeTo !== timeFrom) {\n      if (def.from !== undefined) {\n        values.push(values[numValues - 1]);\n        times.push(timeFrom);\n        easings.push(linear);\n      }\n\n      var from = def.from !== undefined ? def.from : values[numValues - 1];\n      values.push(from);\n      times.push(timeFrom);\n      easings.push(linear);\n    } else if (def.from !== undefined) {\n      values.push(def.from);\n      times.push(timeFrom);\n      easings.push(linear);\n    }\n  }\n\n  values.push(def.to);\n  times.push(timeTo);\n  easings.push(def.ease || easeInOut);\n  return props;\n};\n\nvar timeline = function (instructions, _a) {\n  var _b = _a === void 0 ? {} : _a,\n      duration = _b.duration,\n      elapsed = _b.elapsed,\n      ease = _b.ease,\n      loop = _b.loop,\n      flip = _b.flip,\n      yoyo = _b.yoyo;\n\n  var playhead = 0;\n  var calculatedDuration = 0;\n  var flatInstructions = instructions.reduce(flattenArrayInstructions, []);\n  var animationDefs = [];\n  flatInstructions.forEach(function (instruction) {\n    if (typeof instruction === 'string') {\n      playhead += parseFloat(instruction);\n    } else if (typeof instruction === 'number') {\n      playhead = instruction;\n    } else {\n      var def = __assign(__assign({}, instruction), {\n        at: playhead\n      });\n\n      def.duration = def.duration === undefined ? DEFAULT_DURATION : def.duration;\n      animationDefs.push(def);\n      playhead += def.duration;\n      calculatedDuration = Math.max(calculatedDuration, def.at + def.duration);\n    }\n  });\n  var tracks = {};\n  var numDefs = animationDefs.length;\n\n  for (var i = 0; i < numDefs; i++) {\n    var def = animationDefs[i];\n    var track = def.track;\n\n    if (track === undefined) {\n      throw new Error('No track defined');\n    }\n\n    if (!tracks.hasOwnProperty(track)) tracks[track] = [];\n    tracks[track].push(def);\n  }\n\n  var trackKeyframes = {};\n\n  for (var key in tracks) {\n    if (tracks.hasOwnProperty(key)) {\n      var keyframeProps = tracks[key].reduce(convertDefToProps, {\n        duration: calculatedDuration,\n        easings: [],\n        times: [],\n        values: []\n      });\n      trackKeyframes[key] = keyframes(__assign(__assign({}, keyframeProps), {\n        duration: duration || calculatedDuration,\n        ease: ease,\n        elapsed: elapsed,\n        loop: loop,\n        yoyo: yoyo,\n        flip: flip\n      }));\n    }\n  }\n\n  return composite(trackKeyframes);\n};\n\nvar listen = function (element, events, options) {\n  return action(function (_a) {\n    var update = _a.update;\n    var eventNames = events.split(' ').map(function (eventName) {\n      element.addEventListener(eventName, update, options);\n      return eventName;\n    });\n    return {\n      stop: function () {\n        return eventNames.forEach(function (eventName) {\n          return element.removeEventListener(eventName, update, options);\n        });\n      }\n    };\n  });\n};\n\nvar defaultPointerPos = function () {\n  return {\n    clientX: 0,\n    clientY: 0,\n    pageX: 0,\n    pageY: 0,\n    x: 0,\n    y: 0\n  };\n};\n\nvar eventToPoint = function (e, point) {\n  if (point === void 0) {\n    point = defaultPointerPos();\n  }\n\n  point.clientX = point.x = e.clientX;\n  point.clientY = point.y = e.clientY;\n  point.pageX = e.pageX;\n  point.pageY = e.pageY;\n  return point;\n};\n\nvar points = [/*#__PURE__*/defaultPointerPos()];\nvar isTouchDevice = false;\n\nif (typeof document !== 'undefined') {\n  var updatePointsLocation = function (_a) {\n    var touches = _a.touches;\n    isTouchDevice = true;\n    var numTouches = touches.length;\n    points.length = 0;\n\n    for (var i = 0; i < numTouches; i++) {\n      var thisTouch = touches[i];\n      points.push(eventToPoint(thisTouch));\n    }\n  };\n\n  listen(document, 'touchstart touchmove', {\n    passive: true,\n    capture: true\n  }).start(updatePointsLocation);\n}\n\nvar multitouch = function (_a) {\n  var _b = _a === void 0 ? {} : _a,\n      _c = _b.preventDefault,\n      preventDefault = _c === void 0 ? true : _c,\n      _d = _b.scale,\n      scale = _d === void 0 ? 1.0 : _d,\n      _e = _b.rotate,\n      rotate = _e === void 0 ? 0.0 : _e;\n\n  return action(function (_a) {\n    var update = _a.update;\n    var output = {\n      touches: points,\n      scale: scale,\n      rotate: rotate\n    };\n    var initialDistance = 0.0;\n    var initialRotation = 0.0;\n    var isGesture = points.length > 1;\n\n    if (isGesture) {\n      var firstTouch = points[0],\n          secondTouch = points[1];\n      initialDistance = distance(firstTouch, secondTouch);\n      initialRotation = angle(firstTouch, secondTouch);\n    }\n\n    var updatePoint = function () {\n      if (isGesture) {\n        var firstTouch = points[0],\n            secondTouch = points[1];\n        var newDistance = distance(firstTouch, secondTouch);\n        var newRotation = angle(firstTouch, secondTouch);\n        output.scale = scale * (newDistance / initialDistance);\n        output.rotate = rotate + (newRotation - initialRotation);\n      }\n\n      update(output);\n    };\n\n    var onMove = function (e) {\n      if (preventDefault || e.touches.length > 1) e.preventDefault();\n      sync.update(updatePoint);\n    };\n\n    var updateOnMove = listen(document, 'touchmove', {\n      passive: !preventDefault\n    }).start(onMove);\n    if (isTouchDevice) sync.update(updatePoint);\n    return {\n      stop: function () {\n        cancelSync.update(updatePoint);\n        updateOnMove.stop();\n      }\n    };\n  });\n};\n\nvar getIsTouchDevice = function () {\n  return isTouchDevice;\n};\n\nvar point = /*#__PURE__*/defaultPointerPos();\nvar isMouseDevice = false;\n\nif (typeof document !== 'undefined') {\n  var updatePointLocation = function (e) {\n    isMouseDevice = true;\n    eventToPoint(e, point);\n  };\n\n  listen(document, 'mousedown mousemove', true).start(updatePointLocation);\n}\n\nvar mouse = function (_a) {\n  var _b = (_a === void 0 ? {} : _a).preventDefault,\n      preventDefault = _b === void 0 ? true : _b;\n  return action(function (_a) {\n    var update = _a.update;\n\n    var updatePoint = function () {\n      return update(point);\n    };\n\n    var onMove = function (e) {\n      if (preventDefault) e.preventDefault();\n      sync.update(updatePoint);\n    };\n\n    var updateOnMove = listen(document, 'mousemove').start(onMove);\n    if (isMouseDevice) sync.update(updatePoint);\n    return {\n      stop: function () {\n        cancelSync.update(updatePoint);\n        updateOnMove.stop();\n      }\n    };\n  });\n};\n\nvar getFirstTouch = function (_a) {\n  var firstTouch = _a[0];\n  return firstTouch;\n};\n\nvar pointer = function (props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  return getIsTouchDevice() ? multitouch(props).pipe(function (_a) {\n    var touches = _a.touches;\n    return touches;\n  }, getFirstTouch) : mouse(props);\n};\n\nvar index$1 = function (_a) {\n  if (_a === void 0) {\n    _a = {};\n  }\n\n  var x = _a.x,\n      y = _a.y,\n      props = __rest(_a, [\"x\", \"y\"]);\n\n  if (x !== undefined || y !== undefined) {\n    var applyXOffset_1 = applyOffset(x || 0);\n    var applyYOffset_1 = applyOffset(y || 0);\n    var delta_1 = {\n      x: 0,\n      y: 0\n    };\n    return pointer(props).pipe(function (point) {\n      delta_1.x = applyXOffset_1(point.x);\n      delta_1.y = applyYOffset_1(point.y);\n      return delta_1;\n    });\n  } else {\n    return pointer(props);\n  }\n};\n\nvar chain = function () {\n  var actions = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    actions[_i] = arguments[_i];\n  }\n\n  return action(function (_a) {\n    var update = _a.update,\n        complete = _a.complete;\n    var i = 0;\n    var current;\n\n    var playCurrent = function () {\n      current = actions[i].start({\n        complete: function () {\n          i++;\n          i >= actions.length ? complete() : playCurrent();\n        },\n        update: update\n      });\n    };\n\n    playCurrent();\n    return {\n      stop: function () {\n        return current && current.stop();\n      }\n    };\n  });\n};\n\nvar crossfade = function (a, b) {\n  return action(function (observer) {\n    var balance = 0;\n    var fadable = parallel$1(a, b).start(__assign(__assign({}, observer), {\n      update: function (_a) {\n        var va = _a[0],\n            vb = _a[1];\n        observer.update(mix(va, vb, balance));\n      }\n    }));\n    return {\n      setBalance: function (v) {\n        return balance = v;\n      },\n      stop: function () {\n        return fadable.stop();\n      }\n    };\n  });\n};\n\nvar delay = function (timeToDelay) {\n  return action(function (_a) {\n    var complete = _a.complete;\n    var timeout = setTimeout(complete, timeToDelay);\n    return {\n      stop: function () {\n        return clearTimeout(timeout);\n      }\n    };\n  });\n};\n\nvar merge = function () {\n  var actions = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    actions[_i] = arguments[_i];\n  }\n\n  return action(function (observer) {\n    var subs = actions.map(function (thisAction) {\n      return thisAction.start(observer);\n    });\n    return {\n      stop: function () {\n        return subs.forEach(function (sub) {\n          return sub.stop();\n        });\n      }\n    };\n  });\n};\n\nvar schedule = function (scheduler, schedulee) {\n  return action(function (_a) {\n    var update = _a.update,\n        complete = _a.complete;\n    var latest;\n    var schedulerSub = scheduler.start({\n      update: function () {\n        return latest !== undefined && update(latest);\n      },\n      complete: complete\n    });\n    var scheduleeSub = schedulee.start({\n      update: function (v) {\n        return latest = v;\n      },\n      complete: complete\n    });\n    return {\n      stop: function () {\n        schedulerSub.stop();\n        scheduleeSub.stop();\n      }\n    };\n  });\n};\n\nvar stagger = function (actions, interval) {\n  var intervalIsNumber = typeof interval === 'number';\n  var actionsWithDelay = actions.map(function (a, i) {\n    var timeToDelay = intervalIsNumber ? interval * i : interval(i);\n    return chain(delay(timeToDelay), a);\n  });\n  return parallel$1.apply(void 0, actionsWithDelay);\n};\n\nvar appendUnit = function (unit) {\n  return function (v) {\n    return \"\" + v + unit;\n  };\n};\n\nvar steps = function (st, min, max) {\n  if (min === void 0) {\n    min = 0;\n  }\n\n  if (max === void 0) {\n    max = 1;\n  }\n\n  return function (v) {\n    var current = progress(min, max, v);\n    return mix(min, max, stepProgress(st, current));\n  };\n};\n\nvar transformMap = function (childTransformers) {\n  return function (v) {\n    var output = __assign({}, v);\n\n    for (var key in childTransformers) {\n      if (childTransformers.hasOwnProperty(key)) {\n        var childTransformer = childTransformers[key];\n        output[key] = childTransformer(v[key]);\n      }\n    }\n\n    return output;\n  };\n};\n\nvar transformers = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  applyOffset: applyOffset,\n  clamp: clamp,\n  conditional: conditional,\n  interpolate: interpolate,\n  blendArray: mixArray,\n  blendColor: mixColor,\n  pipe: pipe,\n  smooth: smooth,\n  snap: snap,\n  generateStaticSpring: springForce,\n  nonlinearSpring: springForceExpo,\n  linearSpring: springForceLinear,\n  wrap: wrap,\n  appendUnit: appendUnit,\n  steps: steps,\n  transformMap: transformMap\n});\n\nvar css = function (element, props) {\n  warning(false, 'css() is deprecated, use styler instead');\n  return styler(element, props);\n};\n\nvar svg = function (element, props) {\n  warning(false, 'svg() is deprecated, use styler instead');\n  return styler(element, props);\n};\n\nexport { Action, ValueReaction, action, calc, chain, composite, crossfade, css, vectorDecay as decay, delay, frame as everyFrame, index as inertia, keyframes, listen, merge, mouse, multicast, multitouch, parallel$1 as parallel, vectorPhysics as physics, index$1 as pointer, schedule, vectorSpring as spring, stagger, svg, timeline, transformers as transform, tween, value };","map":{"version":3,"names":["__assign","__spreadArrays","__extends","__rest","pipe","angle","degreesToRadians","distance","isPoint3D","isPoint","mix","pointFromVector","progress","radiansToDegrees","smoothFrame","velocityPerFrame","velocityPerSecond","mixComplex","mixColor","clamp","applyOffset","conditional","interpolate","mixArray","smooth","snap","springForce","springForceExpo","springForceLinear","wrap","sync","getFrameData","cancelSync","color","complex","px","percent","degrees","vh","vw","number","styleValueTypes","valueTypes","createReversedEasing","linear","easeOut","easeInOut","easing","styler","default","warning","Chainable","props","prototype","applyMiddleware","middleware","create","funcs","_i","arguments","length","pipedUpdate","apply","update","v","while","predicate","complete","filter","Observer","_a","observer","_this","onComplete","isActive","updateObserver","error","err","forEach","m","createObserver","observerCandidate","Action","_super","start","isComplete","subscription","stop","undefined","init","observerProps","api","registerParent","action","BaseMulticast","subscribers","subscriber","i","subscribe","push","unsubscribe","index","indexOf","splice","parent","Multicast","multicast","stepProgress","steps","segment","subsegment","percentProgressOfTarget","Math","min","subsegmentProgressOfTarget","segmentProgressOfTarget","floor","calc","Object","freeze","__proto__","dilate","getValueFromProgress","pointFromAngleAndDistance","getProgressFromValue","speedPerFrame","speedPerSecond","isValueList","Array","isArray","isSingleValue","typeOfV","ValueReaction","call","scheduleVelocityCheck","postRender","velocityCheck","timestamp","lastUpdated","prev","current","value","updateCurrent","getVelocityOfCurrent","getSingleVelocity","getListVelocity","key","hasOwnProperty","getMapVelocity","initialSubscription","get","getVelocity","delta","timeDelta","sub","parseFloat","map","c","velocity","multi","getCount","getFirst","getOutput","mapApi","setProp","startActions","actions","numActions","output","updateOutput","numCompletedActions","subs","a","name","hasCompleted","keys","reduce","methodName","composite","args","propKey","starter","parallel","parallel$1","createVectorTests","typeTests","testNames","isVectorProp","prop","getVectorKeys","vectorKeys","testVectorProps","some","unitTypes","findUnitType","find","type","test","isUnitProp","Boolean","createAction","reduceArrayValue","createArrayAction","firstVectorKey","actionList","childActionProps","getActionCreator","reduceObjectValue","createObjectAction","actionMap","createUnitAction","from","to","unitType","transform","parse","createMixerAction","mixer","createColorAction","createComplexAction","createVectorAction","vectorAction","isVector","testKey","testProp","decay","_b","_c","_d","power","_e","timeConstant","_f","restDelta","modifyTarget","elapsed","amplitude","idealTarget","target","process","frameDelta","exp","isMoving","vectorDecay","func","spring","stiffness","damping","_g","mass","_h","restSpeed","_j","initialVelocity","t","position","prevPosition","dampingRatio","sqrt","angularFreq","envelope","expoDecay","sin","cos","isBelowVelocityThreshold","abs","isBelowDisplacementThreshold","vectorSpring","inertia","max","bounceStiffness","bounceDamping","activeAnimation","isOutOfBounds","boundaryNearest","startAnimation","animation","next","startSpring","boundary_1","heading_1","frame","initialTime","scrubber","ease","reverseEase","seek","vectorScrubber","clampProgress","tween","duration","flip","loop","yoyo","repeatDelay","_k","_l","flipCount","_m","yoyoCount","_o","loopCount","playhead","currentProgress","reverseAnimation","isTweenComplete","updateTween","startTimer","stopTimer","getElapsed","getProgress","pause","resume","newProgress","reverse","clampProgress$1","defaultEasings","values","defaultTimings","numValues","interpolateScrubbers","input","scrubbers","rangeLength","finalInputIndex","finalScrubberIndex","scrub","progressInRange","keyframes","easings","times","tweenProps","physics","acceleration","friction","springStrength","pow","distanceToTarget","set","setAcceleration","setFriction","setSpringStrength","setSpringTarget","setVelocity","vectorPhysics","DEFAULT_DURATION","flattenTimings","instructions","flatInstructions","lastArg","isStaggered","staggerDelay","segments","slice","numSegments","offset","item","flattenArrayInstructions","instruction","convertDefToProps","def","prevTimeTo","timeFrom","at","timeTo","timeline","calculatedDuration","animationDefs","tracks","numDefs","track","Error","trackKeyframes","keyframeProps","listen","element","events","options","eventNames","split","eventName","addEventListener","removeEventListener","defaultPointerPos","clientX","clientY","pageX","pageY","x","y","eventToPoint","e","point","points","isTouchDevice","document","updatePointsLocation","touches","numTouches","thisTouch","passive","capture","multitouch","preventDefault","scale","rotate","initialDistance","initialRotation","isGesture","firstTouch","secondTouch","updatePoint","newDistance","newRotation","onMove","updateOnMove","getIsTouchDevice","isMouseDevice","updatePointLocation","mouse","getFirstTouch","pointer","index$1","applyXOffset_1","applyYOffset_1","delta_1","chain","playCurrent","crossfade","b","balance","fadable","va","vb","setBalance","delay","timeToDelay","timeout","setTimeout","clearTimeout","merge","thisAction","schedule","scheduler","schedulee","latest","schedulerSub","scheduleeSub","stagger","interval","intervalIsNumber","actionsWithDelay","appendUnit","unit","st","transformMap","childTransformers","childTransformer","transformers","blendArray","blendColor","generateStaticSpring","nonlinearSpring","linearSpring","css","svg","everyFrame"],"sources":["E:/Work/PFE/Project folder/react/node_modules/popmotion/dist/popmotion.es.js"],"sourcesContent":["import { __assign, __spreadArrays, __extends, __rest } from 'tslib';\nimport { pipe, angle, degreesToRadians, distance, isPoint3D, isPoint, mix, pointFromVector, progress, radiansToDegrees, smoothFrame, velocityPerFrame, velocityPerSecond, mixComplex, mixColor, clamp, applyOffset, conditional, interpolate, mixArray, smooth, snap, springForce, springForceExpo, springForceLinear, wrap } from '@popmotion/popcorn';\nimport sync, { getFrameData, cancelSync } from 'framesync';\nimport { color, complex, px, percent, degrees, vh, vw, number } from 'style-value-types';\nimport * as styleValueTypes from 'style-value-types';\nexport { styleValueTypes as valueTypes };\nimport { createReversedEasing, linear, easeOut, easeInOut } from '@popmotion/easing';\nimport * as easing from '@popmotion/easing';\nexport { easing };\nimport styler from 'stylefire';\nexport { default as styler } from 'stylefire';\nimport { warning } from 'hey-listen';\n\nvar Chainable = /*#__PURE__*/function () {\n    function Chainable(props) {\n        if (props === void 0) {\n            props = {};\n        }\n        this.props = props;\n    }\n    Chainable.prototype.applyMiddleware = function (middleware) {\n        return this.create(__assign(__assign({}, this.props), { middleware: this.props.middleware ? __spreadArrays([middleware], this.props.middleware) : [middleware] }));\n    };\n    Chainable.prototype.pipe = function () {\n        var funcs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            funcs[_i] = arguments[_i];\n        }\n        var pipedUpdate = funcs.length === 1 ? funcs[0] : pipe.apply(void 0, funcs);\n        return this.applyMiddleware(function (update) {\n            return function (v) {\n                return update(pipedUpdate(v));\n            };\n        });\n    };\n    Chainable.prototype.while = function (predicate) {\n        return this.applyMiddleware(function (update, complete) {\n            return function (v) {\n                return predicate(v) ? update(v) : complete();\n            };\n        });\n    };\n    Chainable.prototype.filter = function (predicate) {\n        return this.applyMiddleware(function (update) {\n            return function (v) {\n                return predicate(v) && update(v);\n            };\n        });\n    };\n    return Chainable;\n}();\n\nvar Observer = /*#__PURE__*/function () {\n    function Observer(_a, observer) {\n        var _this = this;\n        var middleware = _a.middleware,\n            onComplete = _a.onComplete;\n        this.isActive = true;\n        this.update = function (v) {\n            if (_this.observer.update) _this.updateObserver(v);\n        };\n        this.complete = function () {\n            if (_this.observer.complete && _this.isActive) _this.observer.complete();\n            if (_this.onComplete) _this.onComplete();\n            _this.isActive = false;\n        };\n        this.error = function (err) {\n            if (_this.observer.error && _this.isActive) _this.observer.error(err);\n            _this.isActive = false;\n        };\n        this.observer = observer;\n        this.updateObserver = function (v) {\n            return observer.update(v);\n        };\n        this.onComplete = onComplete;\n        if (observer.update && middleware && middleware.length) {\n            middleware.forEach(function (m) {\n                return _this.updateObserver = m(_this.updateObserver, _this.complete);\n            });\n        }\n    }\n    return Observer;\n}();\nvar createObserver = function (observerCandidate, _a, onComplete) {\n    var middleware = _a.middleware;\n    if (typeof observerCandidate === 'function') {\n        return new Observer({ middleware: middleware, onComplete: onComplete }, { update: observerCandidate });\n    } else {\n        return new Observer({ middleware: middleware, onComplete: onComplete }, observerCandidate);\n    }\n};\n\nvar Action = /*#__PURE__*/function (_super) {\n    __extends(Action, _super);\n    function Action() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Action.prototype.create = function (props) {\n        return new Action(props);\n    };\n    Action.prototype.start = function (observerCandidate) {\n        if (observerCandidate === void 0) {\n            observerCandidate = {};\n        }\n        var isComplete = false;\n        var subscription = {\n            stop: function () {\n                return undefined;\n            }\n        };\n        var _a = this.props,\n            init = _a.init,\n            observerProps = __rest(_a, [\"init\"]);\n        var observer = createObserver(observerCandidate, observerProps, function () {\n            isComplete = true;\n            subscription.stop();\n        });\n        var api = init(observer);\n        subscription = api ? __assign(__assign({}, subscription), api) : subscription;\n        if (observerCandidate.registerParent) {\n            observerCandidate.registerParent(subscription);\n        }\n        if (isComplete) subscription.stop();\n        return subscription;\n    };\n    return Action;\n}(Chainable);\nvar action = function (init) {\n    return new Action({ init: init });\n};\n\nvar BaseMulticast = /*#__PURE__*/function (_super) {\n    __extends(BaseMulticast, _super);\n    function BaseMulticast() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.subscribers = [];\n        return _this;\n    }\n    BaseMulticast.prototype.complete = function () {\n        this.subscribers.forEach(function (subscriber) {\n            return subscriber.complete();\n        });\n    };\n    BaseMulticast.prototype.error = function (err) {\n        this.subscribers.forEach(function (subscriber) {\n            return subscriber.error(err);\n        });\n    };\n    BaseMulticast.prototype.update = function (v) {\n        for (var i = 0; i < this.subscribers.length; i++) {\n            this.subscribers[i].update(v);\n        }\n    };\n    BaseMulticast.prototype.subscribe = function (observerCandidate) {\n        var _this = this;\n        var observer = createObserver(observerCandidate, this.props);\n        this.subscribers.push(observer);\n        var subscription = {\n            unsubscribe: function () {\n                var index = _this.subscribers.indexOf(observer);\n                if (index !== -1) _this.subscribers.splice(index, 1);\n            }\n        };\n        return subscription;\n    };\n    BaseMulticast.prototype.stop = function () {\n        if (this.parent) this.parent.stop();\n    };\n    BaseMulticast.prototype.registerParent = function (subscription) {\n        this.stop();\n        this.parent = subscription;\n    };\n    return BaseMulticast;\n}(Chainable);\n\nvar Multicast = /*#__PURE__*/function (_super) {\n    __extends(Multicast, _super);\n    function Multicast() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Multicast.prototype.create = function (props) {\n        return new Multicast(props);\n    };\n    return Multicast;\n}(BaseMulticast);\nvar multicast = function () {\n    return new Multicast();\n};\n\nvar stepProgress = function (steps, progress) {\n    var segment = 1 / (steps - 1);\n    var subsegment = 1 / (2 * (steps - 1));\n    var percentProgressOfTarget = Math.min(progress, 1);\n    var subsegmentProgressOfTarget = percentProgressOfTarget / subsegment;\n    var segmentProgressOfTarget = Math.floor((subsegmentProgressOfTarget + 1) / 2);\n    return segmentProgressOfTarget * segment;\n};\n\nvar calc = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    angle: angle,\n    degreesToRadians: degreesToRadians,\n    distance: distance,\n    isPoint3D: isPoint3D,\n    isPoint: isPoint,\n    dilate: mix,\n    getValueFromProgress: mix,\n    pointFromAngleAndDistance: pointFromVector,\n    getProgressFromValue: progress,\n    radiansToDegrees: radiansToDegrees,\n    smooth: smoothFrame,\n    speedPerFrame: velocityPerFrame,\n    speedPerSecond: velocityPerSecond,\n    stepProgress: stepProgress\n});\n\nvar isValueList = function (v) {\n    return Array.isArray(v);\n};\nvar isSingleValue = function (v) {\n    var typeOfV = typeof v;\n    return typeOfV === 'string' || typeOfV === 'number';\n};\nvar ValueReaction = /*#__PURE__*/function (_super) {\n    __extends(ValueReaction, _super);\n    function ValueReaction(props) {\n        var _this = _super.call(this, props) || this;\n        _this.scheduleVelocityCheck = function () {\n            return sync.postRender(_this.velocityCheck);\n        };\n        _this.velocityCheck = function (_a) {\n            var timestamp = _a.timestamp;\n            if (timestamp !== _this.lastUpdated) {\n                _this.prev = _this.current;\n            }\n        };\n        _this.prev = _this.current = props.value || 0;\n        if (isSingleValue(_this.current)) {\n            _this.updateCurrent = function (v) {\n                return _this.current = v;\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getSingleVelocity(_this.current, _this.prev);\n            };\n        } else if (isValueList(_this.current)) {\n            _this.updateCurrent = function (v) {\n                return _this.current = __spreadArrays(v);\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getListVelocity();\n            };\n        } else {\n            _this.updateCurrent = function (v) {\n                _this.current = {};\n                for (var key in v) {\n                    if (v.hasOwnProperty(key)) {\n                        _this.current[key] = v[key];\n                    }\n                }\n            };\n            _this.getVelocityOfCurrent = function () {\n                return _this.getMapVelocity();\n            };\n        }\n        if (props.initialSubscription) _this.subscribe(props.initialSubscription);\n        return _this;\n    }\n    ValueReaction.prototype.create = function (props) {\n        return new ValueReaction(props);\n    };\n    ValueReaction.prototype.get = function () {\n        return this.current;\n    };\n    ValueReaction.prototype.getVelocity = function () {\n        return this.getVelocityOfCurrent();\n    };\n    ValueReaction.prototype.update = function (v) {\n        _super.prototype.update.call(this, v);\n        this.prev = this.current;\n        this.updateCurrent(v);\n        var _a = getFrameData(),\n            delta = _a.delta,\n            timestamp = _a.timestamp;\n        this.timeDelta = delta;\n        this.lastUpdated = timestamp;\n        sync.postRender(this.scheduleVelocityCheck);\n    };\n    ValueReaction.prototype.subscribe = function (observerCandidate) {\n        var sub = _super.prototype.subscribe.call(this, observerCandidate);\n        this.subscribers[this.subscribers.length - 1].update(this.current);\n        return sub;\n    };\n    ValueReaction.prototype.getSingleVelocity = function (current, prev) {\n        return typeof current === 'number' && typeof prev === 'number' ? velocityPerSecond(current - prev, this.timeDelta) : velocityPerSecond(parseFloat(current) - parseFloat(prev), this.timeDelta) || 0;\n    };\n    ValueReaction.prototype.getListVelocity = function () {\n        var _this = this;\n        return this.current.map(function (c, i) {\n            return _this.getSingleVelocity(c, _this.prev[i]);\n        });\n    };\n    ValueReaction.prototype.getMapVelocity = function () {\n        var velocity = {};\n        for (var key in this.current) {\n            if (this.current.hasOwnProperty(key)) {\n                velocity[key] = this.getSingleVelocity(this.current[key], this.prev[key]);\n            }\n        }\n        return velocity;\n    };\n    return ValueReaction;\n}(BaseMulticast);\nvar value = function (value, initialSubscription) {\n    return new ValueReaction({ value: value, initialSubscription: initialSubscription });\n};\n\nvar multi = function (_a) {\n    var getCount = _a.getCount,\n        getFirst = _a.getFirst,\n        getOutput = _a.getOutput,\n        mapApi = _a.mapApi,\n        setProp = _a.setProp,\n        startActions = _a.startActions;\n    return function (actions) {\n        return action(function (_a) {\n            var update = _a.update,\n                complete = _a.complete,\n                error = _a.error;\n            var numActions = getCount(actions);\n            var output = getOutput();\n            var updateOutput = function () {\n                return update(output);\n            };\n            var numCompletedActions = 0;\n            var subs = startActions(actions, function (a, name) {\n                var hasCompleted = false;\n                return a.start({\n                    complete: function () {\n                        if (!hasCompleted) {\n                            hasCompleted = true;\n                            numCompletedActions++;\n                            if (numCompletedActions === numActions) sync.update(complete);\n                        }\n                    },\n                    error: error,\n                    update: function (v) {\n                        setProp(output, name, v);\n                        sync.update(updateOutput, false, true);\n                    }\n                });\n            });\n            return Object.keys(getFirst(subs)).reduce(function (api, methodName) {\n                api[methodName] = mapApi(subs, methodName);\n                return api;\n            }, {});\n        });\n    };\n};\n\nvar composite = /*#__PURE__*/multi({\n    getOutput: function () {\n        return {};\n    },\n    getCount: function (subs) {\n        return Object.keys(subs).length;\n    },\n    getFirst: function (subs) {\n        return subs[Object.keys(subs)[0]];\n    },\n    mapApi: function (subs, methodName) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return Object.keys(subs).reduce(function (output, propKey) {\n                var _a;\n                if (subs[propKey][methodName]) {\n                    args[0] && args[0][propKey] !== undefined ? output[propKey] = subs[propKey][methodName](args[0][propKey]) : output[propKey] = (_a = subs[propKey])[methodName].apply(_a, args);\n                }\n                return output;\n            }, {});\n        };\n    },\n    setProp: function (output, name, v) {\n        return output[name] = v;\n    },\n    startActions: function (actions, starter) {\n        return Object.keys(actions).reduce(function (subs, key) {\n            subs[key] = starter(actions[key], key);\n            return subs;\n        }, {});\n    }\n});\n\nvar parallel = /*#__PURE__*/multi({\n    getOutput: function () {\n        return [];\n    },\n    getCount: function (subs) {\n        return subs.length;\n    },\n    getFirst: function (subs) {\n        return subs[0];\n    },\n    mapApi: function (subs, methodName) {\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return subs.map(function (sub, i) {\n                if (sub[methodName]) {\n                    return Array.isArray(args[0]) ? sub[methodName](args[0][i]) : sub[methodName].apply(sub, args);\n                }\n            });\n        };\n    },\n    setProp: function (output, name, v) {\n        return output[name] = v;\n    },\n    startActions: function (actions, starter) {\n        return actions.map(function (action, i) {\n            return starter(action, i);\n        });\n    }\n});\nvar parallel$1 = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return parallel(actions);\n};\n\nvar createVectorTests = function (typeTests) {\n    var testNames = Object.keys(typeTests);\n    var isVectorProp = function (prop, key) {\n        return prop !== undefined && !typeTests[key](prop);\n    };\n    var getVectorKeys = function (props) {\n        return testNames.reduce(function (vectorKeys, key) {\n            if (isVectorProp(props[key], key)) vectorKeys.push(key);\n            return vectorKeys;\n        }, []);\n    };\n    var testVectorProps = function (props) {\n        return props && testNames.some(function (key) {\n            return isVectorProp(props[key], key);\n        });\n    };\n    return { getVectorKeys: getVectorKeys, testVectorProps: testVectorProps };\n};\nvar unitTypes = [px, percent, degrees, vh, vw];\nvar findUnitType = function (prop) {\n    return unitTypes.find(function (type) {\n        return type.test(prop);\n    });\n};\nvar isUnitProp = function (prop) {\n    return Boolean(findUnitType(prop));\n};\nvar createAction = function (action, props) {\n    return action(props);\n};\nvar reduceArrayValue = function (i) {\n    return function (props, key) {\n        props[key] = props[key][i];\n        return props;\n    };\n};\nvar createArrayAction = function (action, props, vectorKeys) {\n    var firstVectorKey = vectorKeys[0];\n    var actionList = props[firstVectorKey].map(function (v, i) {\n        var childActionProps = vectorKeys.reduce(reduceArrayValue(i), __assign({}, props));\n        return getActionCreator(v)(action, childActionProps);\n    });\n    return parallel$1.apply(void 0, actionList);\n};\nvar reduceObjectValue = function (key) {\n    return function (props, propKey) {\n        props[propKey] = props[propKey][key];\n        return props;\n    };\n};\nvar createObjectAction = function (action, props, vectorKeys) {\n    var firstVectorKey = vectorKeys[0];\n    var actionMap = Object.keys(props[firstVectorKey]).reduce(function (map, key) {\n        var childActionProps = vectorKeys.reduce(reduceObjectValue(key), __assign({}, props));\n        map[key] = getActionCreator(props[firstVectorKey][key])(action, childActionProps);\n        return map;\n    }, {});\n    return composite(actionMap);\n};\nvar createUnitAction = function (action, _a) {\n    var from = _a.from,\n        to = _a.to,\n        props = __rest(_a, [\"from\", \"to\"]);\n    var unitType = findUnitType(from) || findUnitType(to);\n    var transform = unitType.transform,\n        parse = unitType.parse;\n    return action(__assign(__assign({}, props), { from: typeof from === 'string' ? parse(from) : from, to: typeof to === 'string' ? parse(to) : to })).pipe(transform);\n};\nvar createMixerAction = function (mixer) {\n    return function (action, _a) {\n        var from = _a.from,\n            to = _a.to,\n            props = __rest(_a, [\"from\", \"to\"]);\n        return action(__assign(__assign({}, props), { from: 0, to: 1 })).pipe(mixer(from, to));\n    };\n};\nvar createColorAction = /*#__PURE__*/createMixerAction(mixColor);\nvar createComplexAction = /*#__PURE__*/createMixerAction(mixComplex);\nvar createVectorAction = function (action, typeTests) {\n    var _a = createVectorTests(typeTests),\n        testVectorProps = _a.testVectorProps,\n        getVectorKeys = _a.getVectorKeys;\n    var vectorAction = function (props) {\n        var isVector = testVectorProps(props);\n        if (!isVector) return action(props);\n        var vectorKeys = getVectorKeys(props);\n        var testKey = vectorKeys[0];\n        var testProp = props[testKey];\n        return getActionCreator(testProp)(action, props, vectorKeys);\n    };\n    return vectorAction;\n};\nvar getActionCreator = function (prop) {\n    if (typeof prop === 'number') {\n        return createAction;\n    } else if (Array.isArray(prop)) {\n        return createArrayAction;\n    } else if (isUnitProp(prop)) {\n        return createUnitAction;\n    } else if (color.test(prop)) {\n        return createColorAction;\n    } else if (complex.test(prop)) {\n        return createComplexAction;\n    } else if (typeof prop === 'object') {\n        return createObjectAction;\n    } else {\n        return createAction;\n    }\n};\n\nvar decay = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var complete = _a.complete,\n            update = _a.update;\n        var _b = props.velocity,\n            velocity = _b === void 0 ? 0 : _b,\n            _c = props.from,\n            from = _c === void 0 ? 0 : _c,\n            _d = props.power,\n            power = _d === void 0 ? 0.8 : _d,\n            _e = props.timeConstant,\n            timeConstant = _e === void 0 ? 350 : _e,\n            _f = props.restDelta,\n            restDelta = _f === void 0 ? 0.5 : _f,\n            modifyTarget = props.modifyTarget;\n        var elapsed = 0;\n        var amplitude = power * velocity;\n        var idealTarget = from + amplitude;\n        var target = typeof modifyTarget === 'undefined' ? idealTarget : modifyTarget(idealTarget);\n        if (target !== idealTarget) amplitude = target - from;\n        var process = sync.update(function (_a) {\n            var frameDelta = _a.delta;\n            elapsed += frameDelta;\n            var delta = -amplitude * Math.exp(-elapsed / timeConstant);\n            var isMoving = delta > restDelta || delta < -restDelta;\n            var current = isMoving ? target + delta : target;\n            update(current);\n            if (!isMoving) {\n                cancelSync.update(process);\n                complete();\n            }\n        }, true);\n        return {\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\nvar vectorDecay = /*#__PURE__*/createVectorAction(decay, {\n    from: number.test,\n    modifyTarget: function (func) {\n        return typeof func === 'function';\n    },\n    velocity: number.test\n});\n\nvar spring = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var _b = props.velocity,\n            velocity = _b === void 0 ? 0.0 : _b;\n        var _c = props.from,\n            from = _c === void 0 ? 0.0 : _c,\n            _d = props.to,\n            to = _d === void 0 ? 0.0 : _d,\n            _e = props.stiffness,\n            stiffness = _e === void 0 ? 100 : _e,\n            _f = props.damping,\n            damping = _f === void 0 ? 10 : _f,\n            _g = props.mass,\n            mass = _g === void 0 ? 1.0 : _g,\n            _h = props.restSpeed,\n            restSpeed = _h === void 0 ? 0.01 : _h,\n            _j = props.restDelta,\n            restDelta = _j === void 0 ? 0.01 : _j;\n        var initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n        var t = 0;\n        var delta = to - from;\n        var position = from;\n        var prevPosition = position;\n        var process = sync.update(function (_a) {\n            var timeDelta = _a.delta;\n            t += timeDelta;\n            var dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n            var angularFreq = Math.sqrt(stiffness / mass) / 1000;\n            prevPosition = position;\n            if (dampingRatio < 1) {\n                var envelope = Math.exp(-dampingRatio * angularFreq * t);\n                var expoDecay = angularFreq * Math.sqrt(1.0 - dampingRatio * dampingRatio);\n                position = to - envelope * ((initialVelocity + dampingRatio * angularFreq * delta) / expoDecay * Math.sin(expoDecay * t) + delta * Math.cos(expoDecay * t));\n            } else {\n                var envelope = Math.exp(-angularFreq * t);\n                position = to - envelope * (delta + (initialVelocity + angularFreq * delta) * t);\n            }\n            velocity = velocityPerSecond(position - prevPosition, timeDelta);\n            var isBelowVelocityThreshold = Math.abs(velocity) <= restSpeed;\n            var isBelowDisplacementThreshold = Math.abs(to - position) <= restDelta;\n            if (isBelowVelocityThreshold && isBelowDisplacementThreshold) {\n                position = to;\n                update(position);\n                cancelSync.update(process);\n                complete();\n            } else {\n                update(position);\n            }\n        }, true);\n        return {\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\nvar vectorSpring = /*#__PURE__*/createVectorAction(spring, {\n    from: number.test,\n    to: number.test,\n    stiffness: number.test,\n    damping: number.test,\n    mass: number.test,\n    velocity: number.test\n});\n\nvar inertia = function (_a) {\n    var _b = _a.from,\n        from = _b === void 0 ? 0 : _b,\n        _c = _a.velocity,\n        velocity = _c === void 0 ? 0 : _c,\n        min = _a.min,\n        max = _a.max,\n        _d = _a.power,\n        power = _d === void 0 ? 0.8 : _d,\n        _e = _a.timeConstant,\n        timeConstant = _e === void 0 ? 700 : _e,\n        _f = _a.bounceStiffness,\n        bounceStiffness = _f === void 0 ? 500 : _f,\n        _g = _a.bounceDamping,\n        bounceDamping = _g === void 0 ? 10 : _g,\n        _h = _a.restDelta,\n        restDelta = _h === void 0 ? 1 : _h,\n        modifyTarget = _a.modifyTarget;\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var prev = from;\n        var current = from;\n        var activeAnimation;\n        var isOutOfBounds = function (v) {\n            return min !== undefined && v < min || max !== undefined && v > max;\n        };\n        var boundaryNearest = function (v) {\n            return Math.abs(min - v) < Math.abs(max - v) ? min : max;\n        };\n        var startAnimation = function (animation, next) {\n            activeAnimation && activeAnimation.stop();\n            activeAnimation = animation.start({\n                update: update,\n                complete: function () {\n                    if (next) {\n                        next();\n                        return;\n                    }\n                    complete();\n                }\n            });\n        };\n        var startSpring = function (props) {\n            startAnimation(spring(__assign(__assign({}, props), { stiffness: bounceStiffness, damping: bounceDamping, restDelta: restDelta })));\n        };\n        if (isOutOfBounds(from)) {\n            startSpring({ from: from, velocity: velocity, to: boundaryNearest(from) });\n        } else {\n            var to = power * velocity + from;\n            if (typeof modifyTarget !== 'undefined') {\n                to = modifyTarget(to);\n                modifyTarget = void 0;\n                velocity = (to - from) / power;\n            }\n            var animation = decay({\n                from: from,\n                velocity: velocity,\n                timeConstant: timeConstant,\n                power: power,\n                restDelta: restDelta,\n                modifyTarget: modifyTarget\n            });\n            var next = void 0;\n            if (isOutOfBounds(to)) {\n                var boundary_1 = boundaryNearest(to);\n                var heading_1 = boundary_1 == min ? -1 : 1;\n                animation = animation.while(function (v) {\n                    prev = current;\n                    velocity = velocityPerSecond(v - prev, getFrameData().delta);\n                    current = v;\n                    return boundary_1 - v * heading_1 > 0;\n                });\n                next = function () {\n                    return startSpring({ from: current, to: boundary_1, velocity: velocity });\n                };\n            }\n            startAnimation(animation, next);\n        }\n        return {\n            stop: function () {\n                return activeAnimation && activeAnimation.stop();\n            }\n        };\n    });\n};\nvar index = /*#__PURE__*/createVectorAction(inertia, {\n    from: number.test,\n    velocity: number.test,\n    min: number.test,\n    max: number.test,\n    damping: number.test,\n    stiffness: number.test,\n    modifyTarget: function (func) {\n        return typeof func === 'function';\n    }\n});\n\nvar frame = function () {\n    return action(function (_a) {\n        var update = _a.update;\n        var initialTime = 0;\n        var process = sync.update(function (_a) {\n            var timestamp = _a.timestamp;\n            if (!initialTime) initialTime = timestamp;\n            update(timestamp - initialTime);\n        }, true, true);\n        return {\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\n\nvar scrubber = function (_a) {\n    var _b = _a.from,\n        from = _b === void 0 ? 0 : _b,\n        _c = _a.to,\n        to = _c === void 0 ? 1 : _c,\n        _d = _a.ease,\n        ease = _d === void 0 ? linear : _d,\n        _e = _a.reverseEase,\n        reverseEase = _e === void 0 ? false : _e;\n    if (reverseEase) {\n        ease = createReversedEasing(ease);\n    }\n    return action(function (_a) {\n        var update = _a.update;\n        return {\n            seek: function (progress) {\n                return update(progress);\n            }\n        };\n    }).pipe(ease, function (v) {\n        return mix(from, to, v);\n    });\n};\nvar vectorScrubber = /*#__PURE__*/createVectorAction(scrubber, {\n    ease: function (func) {\n        return typeof func === 'function';\n    },\n    from: number.test,\n    to: number.test\n});\n\nvar clampProgress = /*#__PURE__*/clamp(0, 1);\nvar tween = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var _b = props.duration,\n            duration = _b === void 0 ? 300 : _b,\n            _c = props.ease,\n            ease = _c === void 0 ? easeOut : _c,\n            _d = props.flip,\n            flip = _d === void 0 ? 0 : _d,\n            _e = props.loop,\n            loop = _e === void 0 ? 0 : _e,\n            _f = props.yoyo,\n            yoyo = _f === void 0 ? 0 : _f,\n            _g = props.repeatDelay,\n            repeatDelay = _g === void 0 ? 0 : _g;\n        var _h = props.from,\n            from = _h === void 0 ? 0 : _h,\n            _j = props.to,\n            to = _j === void 0 ? 1 : _j,\n            _k = props.elapsed,\n            elapsed = _k === void 0 ? 0 : _k,\n            _l = props.flipCount,\n            flipCount = _l === void 0 ? 0 : _l,\n            _m = props.yoyoCount,\n            yoyoCount = _m === void 0 ? 0 : _m,\n            _o = props.loopCount,\n            loopCount = _o === void 0 ? 0 : _o;\n        var playhead = vectorScrubber({ from: from, to: to, ease: ease }).start(update);\n        var currentProgress = 0;\n        var process;\n        var isActive = false;\n        var reverseAnimation = function (reverseEase) {\n            var _a;\n            if (reverseEase === void 0) {\n                reverseEase = false;\n            }\n            _a = [to, from], from = _a[0], to = _a[1];\n            playhead = vectorScrubber({ from: from, to: to, ease: ease, reverseEase: reverseEase }).start(update);\n        };\n        var isTweenComplete = function () {\n            var isComplete = isActive && elapsed > duration + repeatDelay;\n            if (!isComplete) return false;\n            if (isComplete && !loop && !flip && !yoyo) return true;\n            elapsed = duration - (elapsed - repeatDelay);\n            if (loop && loopCount < loop) {\n                loopCount++;\n                return false;\n            } else if (flip && flipCount < flip) {\n                flipCount++;\n                reverseAnimation();\n                return false;\n            } else if (yoyo && yoyoCount < yoyo) {\n                yoyoCount++;\n                reverseAnimation(yoyoCount % 2 !== 0);\n                return false;\n            }\n            return true;\n        };\n        var updateTween = function () {\n            currentProgress = clampProgress(progress(0, duration, elapsed));\n            playhead.seek(currentProgress);\n        };\n        var startTimer = function () {\n            isActive = true;\n            process = sync.update(function (_a) {\n                var delta = _a.delta;\n                elapsed += delta;\n                updateTween();\n                if (isTweenComplete()) {\n                    cancelSync.update(process);\n                    complete && sync.update(complete, false, true);\n                }\n            }, true);\n        };\n        var stopTimer = function () {\n            isActive = false;\n            if (process) cancelSync.update(process);\n        };\n        startTimer();\n        return {\n            isActive: function () {\n                return isActive;\n            },\n            getElapsed: function () {\n                return clamp(0, duration, elapsed);\n            },\n            getProgress: function () {\n                return currentProgress;\n            },\n            stop: function () {\n                stopTimer();\n            },\n            pause: function () {\n                stopTimer();\n                return this;\n            },\n            resume: function () {\n                if (!isActive) startTimer();\n                return this;\n            },\n            seek: function (newProgress) {\n                elapsed = mix(0, duration, newProgress);\n                sync.update(updateTween, false, true);\n                return this;\n            },\n            reverse: function () {\n                reverseAnimation();\n                return this;\n            }\n        };\n    });\n};\n\nvar clampProgress$1 = /*#__PURE__*/clamp(0, 1);\nvar defaultEasings = function (values, easing) {\n    return values.map(function () {\n        return easing || easeOut;\n    }).splice(0, values.length - 1);\n};\nvar defaultTimings = function (values) {\n    var numValues = values.length;\n    return values.map(function (value, i) {\n        return i !== 0 ? i / (numValues - 1) : 0;\n    });\n};\nvar interpolateScrubbers = function (input, scrubbers, update) {\n    var rangeLength = input.length;\n    var finalInputIndex = rangeLength - 1;\n    var finalScrubberIndex = finalInputIndex - 1;\n    var subs = scrubbers.map(function (scrub) {\n        return scrub.start(update);\n    });\n    return function (v) {\n        if (v <= input[0]) {\n            subs[0].seek(0);\n        }\n        if (v >= input[finalInputIndex]) {\n            subs[finalScrubberIndex].seek(1);\n        }\n        var i = 1;\n        for (; i < rangeLength; i++) {\n            if (input[i] > v || i === finalInputIndex) break;\n        }\n        var progressInRange = progress(input[i - 1], input[i], v);\n        subs[i - 1].seek(clampProgress$1(progressInRange));\n    };\n};\nvar keyframes = function (_a) {\n    var easings = _a.easings,\n        _b = _a.ease,\n        ease = _b === void 0 ? linear : _b,\n        times = _a.times,\n        values = _a.values,\n        tweenProps = __rest(_a, [\"easings\", \"ease\", \"times\", \"values\"]);\n    easings = Array.isArray(easings) ? easings : defaultEasings(values, easings);\n    times = times || defaultTimings(values);\n    var scrubbers = easings.map(function (easing, i) {\n        return vectorScrubber({\n            from: values[i],\n            to: values[i + 1],\n            ease: easing\n        });\n    });\n    return tween(__assign(__assign({}, tweenProps), { ease: ease })).applyMiddleware(function (update) {\n        return interpolateScrubbers(times, scrubbers, update);\n    });\n};\n\nvar physics = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return action(function (_a) {\n        var complete = _a.complete,\n            update = _a.update;\n        var _b = props.acceleration,\n            acceleration = _b === void 0 ? 0 : _b,\n            _c = props.friction,\n            friction = _c === void 0 ? 0 : _c,\n            _d = props.velocity,\n            velocity = _d === void 0 ? 0 : _d,\n            springStrength = props.springStrength,\n            to = props.to;\n        var _e = props.restSpeed,\n            restSpeed = _e === void 0 ? 0.001 : _e,\n            _f = props.from,\n            from = _f === void 0 ? 0 : _f;\n        var current = from;\n        var process = sync.update(function (_a) {\n            var delta = _a.delta;\n            var elapsed = Math.max(delta, 16);\n            if (acceleration) velocity += velocityPerFrame(acceleration, elapsed);\n            if (friction) velocity *= Math.pow(1 - friction, elapsed / 100);\n            if (springStrength !== undefined && to !== undefined) {\n                var distanceToTarget = to - current;\n                velocity += distanceToTarget * velocityPerFrame(springStrength, elapsed);\n            }\n            current += velocityPerFrame(velocity, elapsed);\n            update(current);\n            var isComplete = restSpeed !== false && (!velocity || Math.abs(velocity) <= restSpeed);\n            if (isComplete) {\n                cancelSync.update(process);\n                complete();\n            }\n        }, true);\n        return {\n            set: function (v) {\n                current = v;\n                return this;\n            },\n            setAcceleration: function (v) {\n                acceleration = v;\n                return this;\n            },\n            setFriction: function (v) {\n                friction = v;\n                return this;\n            },\n            setSpringStrength: function (v) {\n                springStrength = v;\n                return this;\n            },\n            setSpringTarget: function (v) {\n                to = v;\n                return this;\n            },\n            setVelocity: function (v) {\n                velocity = v;\n                return this;\n            },\n            stop: function () {\n                return cancelSync.update(process);\n            }\n        };\n    });\n};\nvar vectorPhysics = /*#__PURE__*/createVectorAction(physics, {\n    acceleration: number.test,\n    friction: number.test,\n    velocity: number.test,\n    from: number.test,\n    to: number.test,\n    springStrength: number.test\n});\n\nvar DEFAULT_DURATION = 300;\nvar flattenTimings = function (instructions) {\n    var flatInstructions = [];\n    var lastArg = instructions[instructions.length - 1];\n    var isStaggered = typeof lastArg === 'number';\n    var staggerDelay = isStaggered ? lastArg : 0;\n    var segments = isStaggered ? instructions.slice(0, -1) : instructions;\n    var numSegments = segments.length;\n    var offset = 0;\n    segments.forEach(function (item, i) {\n        flatInstructions.push(item);\n        if (i !== numSegments - 1) {\n            var duration = item.duration || DEFAULT_DURATION;\n            offset = staggerDelay;\n            flatInstructions.push(\"\" + (offset - duration));\n        }\n    });\n    return flatInstructions;\n};\nvar flattenArrayInstructions = function (instructions, instruction) {\n    Array.isArray(instruction) ? instructions.push.apply(instructions, flattenTimings(instruction)) : instructions.push(instruction);\n    return instructions;\n};\nvar convertDefToProps = function (props, def, i) {\n    var duration = props.duration,\n        easings = props.easings,\n        times = props.times,\n        values = props.values;\n    var numValues = values.length;\n    var prevTimeTo = times[numValues - 1];\n    var timeFrom = def.at === 0 ? 0 : def.at / duration;\n    var timeTo = (def.at + def.duration) / duration;\n    if (i === 0) {\n        values.push(def.from);\n        times.push(timeFrom);\n    } else {\n        if (prevTimeTo !== timeFrom) {\n            if (def.from !== undefined) {\n                values.push(values[numValues - 1]);\n                times.push(timeFrom);\n                easings.push(linear);\n            }\n            var from = def.from !== undefined ? def.from : values[numValues - 1];\n            values.push(from);\n            times.push(timeFrom);\n            easings.push(linear);\n        } else if (def.from !== undefined) {\n            values.push(def.from);\n            times.push(timeFrom);\n            easings.push(linear);\n        }\n    }\n    values.push(def.to);\n    times.push(timeTo);\n    easings.push(def.ease || easeInOut);\n    return props;\n};\nvar timeline = function (instructions, _a) {\n    var _b = _a === void 0 ? {} : _a,\n        duration = _b.duration,\n        elapsed = _b.elapsed,\n        ease = _b.ease,\n        loop = _b.loop,\n        flip = _b.flip,\n        yoyo = _b.yoyo;\n    var playhead = 0;\n    var calculatedDuration = 0;\n    var flatInstructions = instructions.reduce(flattenArrayInstructions, []);\n    var animationDefs = [];\n    flatInstructions.forEach(function (instruction) {\n        if (typeof instruction === 'string') {\n            playhead += parseFloat(instruction);\n        } else if (typeof instruction === 'number') {\n            playhead = instruction;\n        } else {\n            var def = __assign(__assign({}, instruction), { at: playhead });\n            def.duration = def.duration === undefined ? DEFAULT_DURATION : def.duration;\n            animationDefs.push(def);\n            playhead += def.duration;\n            calculatedDuration = Math.max(calculatedDuration, def.at + def.duration);\n        }\n    });\n    var tracks = {};\n    var numDefs = animationDefs.length;\n    for (var i = 0; i < numDefs; i++) {\n        var def = animationDefs[i];\n        var track = def.track;\n        if (track === undefined) {\n            throw new Error('No track defined');\n        }\n        if (!tracks.hasOwnProperty(track)) tracks[track] = [];\n        tracks[track].push(def);\n    }\n    var trackKeyframes = {};\n    for (var key in tracks) {\n        if (tracks.hasOwnProperty(key)) {\n            var keyframeProps = tracks[key].reduce(convertDefToProps, {\n                duration: calculatedDuration,\n                easings: [],\n                times: [],\n                values: []\n            });\n            trackKeyframes[key] = keyframes(__assign(__assign({}, keyframeProps), { duration: duration || calculatedDuration, ease: ease,\n                elapsed: elapsed,\n                loop: loop,\n                yoyo: yoyo,\n                flip: flip }));\n        }\n    }\n    return composite(trackKeyframes);\n};\n\nvar listen = function (element, events, options) {\n    return action(function (_a) {\n        var update = _a.update;\n        var eventNames = events.split(' ').map(function (eventName) {\n            element.addEventListener(eventName, update, options);\n            return eventName;\n        });\n        return {\n            stop: function () {\n                return eventNames.forEach(function (eventName) {\n                    return element.removeEventListener(eventName, update, options);\n                });\n            }\n        };\n    });\n};\n\nvar defaultPointerPos = function () {\n    return {\n        clientX: 0,\n        clientY: 0,\n        pageX: 0,\n        pageY: 0,\n        x: 0,\n        y: 0\n    };\n};\nvar eventToPoint = function (e, point) {\n    if (point === void 0) {\n        point = defaultPointerPos();\n    }\n    point.clientX = point.x = e.clientX;\n    point.clientY = point.y = e.clientY;\n    point.pageX = e.pageX;\n    point.pageY = e.pageY;\n    return point;\n};\n\nvar points = [/*#__PURE__*/defaultPointerPos()];\nvar isTouchDevice = false;\nif (typeof document !== 'undefined') {\n    var updatePointsLocation = function (_a) {\n        var touches = _a.touches;\n        isTouchDevice = true;\n        var numTouches = touches.length;\n        points.length = 0;\n        for (var i = 0; i < numTouches; i++) {\n            var thisTouch = touches[i];\n            points.push(eventToPoint(thisTouch));\n        }\n    };\n    listen(document, 'touchstart touchmove', {\n        passive: true,\n        capture: true\n    }).start(updatePointsLocation);\n}\nvar multitouch = function (_a) {\n    var _b = _a === void 0 ? {} : _a,\n        _c = _b.preventDefault,\n        preventDefault = _c === void 0 ? true : _c,\n        _d = _b.scale,\n        scale = _d === void 0 ? 1.0 : _d,\n        _e = _b.rotate,\n        rotate = _e === void 0 ? 0.0 : _e;\n    return action(function (_a) {\n        var update = _a.update;\n        var output = {\n            touches: points,\n            scale: scale,\n            rotate: rotate\n        };\n        var initialDistance = 0.0;\n        var initialRotation = 0.0;\n        var isGesture = points.length > 1;\n        if (isGesture) {\n            var firstTouch = points[0],\n                secondTouch = points[1];\n            initialDistance = distance(firstTouch, secondTouch);\n            initialRotation = angle(firstTouch, secondTouch);\n        }\n        var updatePoint = function () {\n            if (isGesture) {\n                var firstTouch = points[0],\n                    secondTouch = points[1];\n                var newDistance = distance(firstTouch, secondTouch);\n                var newRotation = angle(firstTouch, secondTouch);\n                output.scale = scale * (newDistance / initialDistance);\n                output.rotate = rotate + (newRotation - initialRotation);\n            }\n            update(output);\n        };\n        var onMove = function (e) {\n            if (preventDefault || e.touches.length > 1) e.preventDefault();\n            sync.update(updatePoint);\n        };\n        var updateOnMove = listen(document, 'touchmove', {\n            passive: !preventDefault\n        }).start(onMove);\n        if (isTouchDevice) sync.update(updatePoint);\n        return {\n            stop: function () {\n                cancelSync.update(updatePoint);\n                updateOnMove.stop();\n            }\n        };\n    });\n};\nvar getIsTouchDevice = function () {\n    return isTouchDevice;\n};\n\nvar point = /*#__PURE__*/defaultPointerPos();\nvar isMouseDevice = false;\nif (typeof document !== 'undefined') {\n    var updatePointLocation = function (e) {\n        isMouseDevice = true;\n        eventToPoint(e, point);\n    };\n    listen(document, 'mousedown mousemove', true).start(updatePointLocation);\n}\nvar mouse = function (_a) {\n    var _b = (_a === void 0 ? {} : _a).preventDefault,\n        preventDefault = _b === void 0 ? true : _b;\n    return action(function (_a) {\n        var update = _a.update;\n        var updatePoint = function () {\n            return update(point);\n        };\n        var onMove = function (e) {\n            if (preventDefault) e.preventDefault();\n            sync.update(updatePoint);\n        };\n        var updateOnMove = listen(document, 'mousemove').start(onMove);\n        if (isMouseDevice) sync.update(updatePoint);\n        return {\n            stop: function () {\n                cancelSync.update(updatePoint);\n                updateOnMove.stop();\n            }\n        };\n    });\n};\n\nvar getFirstTouch = function (_a) {\n    var firstTouch = _a[0];\n    return firstTouch;\n};\nvar pointer = function (props) {\n    if (props === void 0) {\n        props = {};\n    }\n    return getIsTouchDevice() ? multitouch(props).pipe(function (_a) {\n        var touches = _a.touches;\n        return touches;\n    }, getFirstTouch) : mouse(props);\n};\nvar index$1 = function (_a) {\n    if (_a === void 0) {\n        _a = {};\n    }\n    var x = _a.x,\n        y = _a.y,\n        props = __rest(_a, [\"x\", \"y\"]);\n    if (x !== undefined || y !== undefined) {\n        var applyXOffset_1 = applyOffset(x || 0);\n        var applyYOffset_1 = applyOffset(y || 0);\n        var delta_1 = { x: 0, y: 0 };\n        return pointer(props).pipe(function (point) {\n            delta_1.x = applyXOffset_1(point.x);\n            delta_1.y = applyYOffset_1(point.y);\n            return delta_1;\n        });\n    } else {\n        return pointer(props);\n    }\n};\n\nvar chain = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var i = 0;\n        var current;\n        var playCurrent = function () {\n            current = actions[i].start({\n                complete: function () {\n                    i++;\n                    i >= actions.length ? complete() : playCurrent();\n                },\n                update: update\n            });\n        };\n        playCurrent();\n        return {\n            stop: function () {\n                return current && current.stop();\n            }\n        };\n    });\n};\n\nvar crossfade = function (a, b) {\n    return action(function (observer) {\n        var balance = 0;\n        var fadable = parallel$1(a, b).start(__assign(__assign({}, observer), { update: function (_a) {\n                var va = _a[0],\n                    vb = _a[1];\n                observer.update(mix(va, vb, balance));\n            } }));\n        return {\n            setBalance: function (v) {\n                return balance = v;\n            },\n            stop: function () {\n                return fadable.stop();\n            }\n        };\n    });\n};\n\nvar delay = function (timeToDelay) {\n    return action(function (_a) {\n        var complete = _a.complete;\n        var timeout = setTimeout(complete, timeToDelay);\n        return {\n            stop: function () {\n                return clearTimeout(timeout);\n            }\n        };\n    });\n};\n\nvar merge = function () {\n    var actions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        actions[_i] = arguments[_i];\n    }\n    return action(function (observer) {\n        var subs = actions.map(function (thisAction) {\n            return thisAction.start(observer);\n        });\n        return {\n            stop: function () {\n                return subs.forEach(function (sub) {\n                    return sub.stop();\n                });\n            }\n        };\n    });\n};\n\nvar schedule = function (scheduler, schedulee) {\n    return action(function (_a) {\n        var update = _a.update,\n            complete = _a.complete;\n        var latest;\n        var schedulerSub = scheduler.start({\n            update: function () {\n                return latest !== undefined && update(latest);\n            },\n            complete: complete\n        });\n        var scheduleeSub = schedulee.start({\n            update: function (v) {\n                return latest = v;\n            },\n            complete: complete\n        });\n        return {\n            stop: function () {\n                schedulerSub.stop();\n                scheduleeSub.stop();\n            }\n        };\n    });\n};\n\nvar stagger = function (actions, interval) {\n    var intervalIsNumber = typeof interval === 'number';\n    var actionsWithDelay = actions.map(function (a, i) {\n        var timeToDelay = intervalIsNumber ? interval * i : interval(i);\n        return chain(delay(timeToDelay), a);\n    });\n    return parallel$1.apply(void 0, actionsWithDelay);\n};\n\nvar appendUnit = function (unit) {\n    return function (v) {\n        return \"\" + v + unit;\n    };\n};\nvar steps = function (st, min, max) {\n    if (min === void 0) {\n        min = 0;\n    }\n    if (max === void 0) {\n        max = 1;\n    }\n    return function (v) {\n        var current = progress(min, max, v);\n        return mix(min, max, stepProgress(st, current));\n    };\n};\nvar transformMap = function (childTransformers) {\n    return function (v) {\n        var output = __assign({}, v);\n        for (var key in childTransformers) {\n            if (childTransformers.hasOwnProperty(key)) {\n                var childTransformer = childTransformers[key];\n                output[key] = childTransformer(v[key]);\n            }\n        }\n        return output;\n    };\n};\n\nvar transformers = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    applyOffset: applyOffset,\n    clamp: clamp,\n    conditional: conditional,\n    interpolate: interpolate,\n    blendArray: mixArray,\n    blendColor: mixColor,\n    pipe: pipe,\n    smooth: smooth,\n    snap: snap,\n    generateStaticSpring: springForce,\n    nonlinearSpring: springForceExpo,\n    linearSpring: springForceLinear,\n    wrap: wrap,\n    appendUnit: appendUnit,\n    steps: steps,\n    transformMap: transformMap\n});\n\nvar css = function (element, props) {\n    warning(false, 'css() is deprecated, use styler instead');\n    return styler(element, props);\n};\nvar svg = function (element, props) {\n    warning(false, 'svg() is deprecated, use styler instead');\n    return styler(element, props);\n};\n\nexport { Action, ValueReaction, action, calc, chain, composite, crossfade, css, vectorDecay as decay, delay, frame as everyFrame, index as inertia, keyframes, listen, merge, mouse, multicast, multitouch, parallel$1 as parallel, vectorPhysics as physics, index$1 as pointer, schedule, vectorSpring as spring, stagger, svg, timeline, transformers as transform, tween, value };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}