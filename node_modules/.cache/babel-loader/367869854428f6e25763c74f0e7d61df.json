{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = useCacheErrors;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n/**\n * Always debounce error to avoid [error -> null -> error] blink\n */\n\n\nfunction useCacheErrors(errors, changeTrigger, directly) {\n  var cacheRef = React.useRef({\n    errors: errors,\n    visible: !!errors.length\n  });\n\n  var _React$useState = React.useState({}),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      forceUpdate = _React$useState2[1];\n\n  var update = function update() {\n    var prevVisible = cacheRef.current.visible;\n    var newVisible = !!errors.length;\n    var prevErrors = cacheRef.current.errors;\n    cacheRef.current.errors = errors;\n    cacheRef.current.visible = newVisible;\n\n    if (prevVisible !== newVisible) {\n      changeTrigger(newVisible);\n    } else if (prevErrors.length !== errors.length || prevErrors.some(function (prevErr, index) {\n      return prevErr !== errors[index];\n    })) {\n      forceUpdate({});\n    }\n  };\n\n  React.useEffect(function () {\n    if (!directly) {\n      var timeout = setTimeout(update, 10);\n      return function () {\n        return clearTimeout(timeout);\n      };\n    }\n  }, [errors]);\n\n  if (directly) {\n    update();\n  }\n\n  return [cacheRef.current.visible, cacheRef.current.errors];\n}","map":{"version":3,"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","useCacheErrors","_slicedToArray2","React","errors","changeTrigger","directly","cacheRef","useRef","visible","length","_React$useState","useState","_React$useState2","forceUpdate","update","prevVisible","current","newVisible","prevErrors","some","prevErr","index","useEffect","timeout","setTimeout","clearTimeout"],"sources":["E:/Work/PFE/Project folder/react/node_modules/antd/lib/form/hooks/useCacheErrors.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = useCacheErrors;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\n/**\n * Always debounce error to avoid [error -> null -> error] blink\n */\nfunction useCacheErrors(errors, changeTrigger, directly) {\n  var cacheRef = React.useRef({\n    errors: errors,\n    visible: !!errors.length\n  });\n\n  var _React$useState = React.useState({}),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      forceUpdate = _React$useState2[1];\n\n  var update = function update() {\n    var prevVisible = cacheRef.current.visible;\n    var newVisible = !!errors.length;\n    var prevErrors = cacheRef.current.errors;\n    cacheRef.current.errors = errors;\n    cacheRef.current.visible = newVisible;\n\n    if (prevVisible !== newVisible) {\n      changeTrigger(newVisible);\n    } else if (prevErrors.length !== errors.length || prevErrors.some(function (prevErr, index) {\n      return prevErr !== errors[index];\n    })) {\n      forceUpdate({});\n    }\n  };\n\n  React.useEffect(function () {\n    if (!directly) {\n      var timeout = setTimeout(update, 10);\n      return function () {\n        return clearTimeout(timeout);\n      };\n    }\n  }, [errors]);\n\n  if (directly) {\n    update();\n  }\n\n  return [cacheRef.current.visible, cacheRef.current.errors];\n}"],"mappings":"AAAA;;AAEA,IAAIA,uBAAuB,GAAGC,OAAO,CAAC,+CAAD,CAArC;;AAEA,IAAIC,sBAAsB,GAAGD,OAAO,CAAC,8CAAD,CAApC;;AAEAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAC3CC,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAAC,SAAD,CAAP,GAAqBE,cAArB;;AAEA,IAAIC,eAAe,GAAGN,sBAAsB,CAACD,OAAO,CAAC,sCAAD,CAAR,CAA5C;;AAEA,IAAIQ,KAAK,GAAGT,uBAAuB,CAACC,OAAO,CAAC,OAAD,CAAR,CAAnC;AAEA;AACA;AACA;;;AACA,SAASM,cAAT,CAAwBG,MAAxB,EAAgCC,aAAhC,EAA+CC,QAA/C,EAAyD;EACvD,IAAIC,QAAQ,GAAGJ,KAAK,CAACK,MAAN,CAAa;IAC1BJ,MAAM,EAAEA,MADkB;IAE1BK,OAAO,EAAE,CAAC,CAACL,MAAM,CAACM;EAFQ,CAAb,CAAf;;EAKA,IAAIC,eAAe,GAAGR,KAAK,CAACS,QAAN,CAAe,EAAf,CAAtB;EAAA,IACIC,gBAAgB,GAAG,CAAC,GAAGX,eAAe,CAAC,SAAD,CAAnB,EAAgCS,eAAhC,EAAiD,CAAjD,CADvB;EAAA,IAEIG,WAAW,GAAGD,gBAAgB,CAAC,CAAD,CAFlC;;EAIA,IAAIE,MAAM,GAAG,SAASA,MAAT,GAAkB;IAC7B,IAAIC,WAAW,GAAGT,QAAQ,CAACU,OAAT,CAAiBR,OAAnC;IACA,IAAIS,UAAU,GAAG,CAAC,CAACd,MAAM,CAACM,MAA1B;IACA,IAAIS,UAAU,GAAGZ,QAAQ,CAACU,OAAT,CAAiBb,MAAlC;IACAG,QAAQ,CAACU,OAAT,CAAiBb,MAAjB,GAA0BA,MAA1B;IACAG,QAAQ,CAACU,OAAT,CAAiBR,OAAjB,GAA2BS,UAA3B;;IAEA,IAAIF,WAAW,KAAKE,UAApB,EAAgC;MAC9Bb,aAAa,CAACa,UAAD,CAAb;IACD,CAFD,MAEO,IAAIC,UAAU,CAACT,MAAX,KAAsBN,MAAM,CAACM,MAA7B,IAAuCS,UAAU,CAACC,IAAX,CAAgB,UAAUC,OAAV,EAAmBC,KAAnB,EAA0B;MAC1F,OAAOD,OAAO,KAAKjB,MAAM,CAACkB,KAAD,CAAzB;IACD,CAFiD,CAA3C,EAEH;MACFR,WAAW,CAAC,EAAD,CAAX;IACD;EACF,CAdD;;EAgBAX,KAAK,CAACoB,SAAN,CAAgB,YAAY;IAC1B,IAAI,CAACjB,QAAL,EAAe;MACb,IAAIkB,OAAO,GAAGC,UAAU,CAACV,MAAD,EAAS,EAAT,CAAxB;MACA,OAAO,YAAY;QACjB,OAAOW,YAAY,CAACF,OAAD,CAAnB;MACD,CAFD;IAGD;EACF,CAPD,EAOG,CAACpB,MAAD,CAPH;;EASA,IAAIE,QAAJ,EAAc;IACZS,MAAM;EACP;;EAED,OAAO,CAACR,QAAQ,CAACU,OAAT,CAAiBR,OAAlB,EAA2BF,QAAQ,CAACU,OAAT,CAAiBb,MAA5C,CAAP;AACD"},"metadata":{},"sourceType":"script"}