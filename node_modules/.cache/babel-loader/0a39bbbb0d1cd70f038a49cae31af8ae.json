{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n/**\n * Legacy code. Should avoid to use if you are new to import these code.\n */\n\nimport React from 'react';\nimport warning from \"rc-util/es/warning\";\nimport TreeNode from './TreeNode';\nvar DRAG_SIDE_RANGE = 0.25;\nvar DRAG_MIN_GAP = 2;\nexport function arrDel(list, value) {\n  var clone = list.slice();\n  var index = clone.indexOf(value);\n\n  if (index >= 0) {\n    clone.splice(index, 1);\n  }\n\n  return clone;\n}\nexport function arrAdd(list, value) {\n  var clone = list.slice();\n\n  if (clone.indexOf(value) === -1) {\n    clone.push(value);\n  }\n\n  return clone;\n}\nexport function posToArr(pos) {\n  return pos.split('-');\n}\nexport function getPosition(level, index) {\n  return \"\".concat(level, \"-\").concat(index);\n}\nexport function isTreeNode(node) {\n  return node && node.type && node.type.isTreeNode;\n}\nexport function getDragNodesKeys(dragNodeKey, keyEntities) {\n  var dragNodesKeys = [dragNodeKey];\n  var entity = keyEntities[dragNodeKey];\n\n  function dig() {\n    var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    list.forEach(function (_ref) {\n      var key = _ref.key,\n          children = _ref.children;\n      dragNodesKeys.push(key);\n      dig(children);\n    });\n  }\n\n  dig(entity.children);\n  return dragNodesKeys;\n} // Only used when drag, not affect SSR.\n\nexport function calcDropPosition(event, treeNode) {\n  var clientY = event.clientY;\n\n  var _treeNode$selectHandl = treeNode.selectHandle.getBoundingClientRect(),\n      top = _treeNode$selectHandl.top,\n      bottom = _treeNode$selectHandl.bottom,\n      height = _treeNode$selectHandl.height;\n\n  var des = Math.max(height * DRAG_SIDE_RANGE, DRAG_MIN_GAP);\n\n  if (clientY <= top + des) {\n    return -1;\n  }\n\n  if (clientY >= bottom - des) {\n    return 1;\n  }\n\n  return 0;\n}\n/**\n * Return selectedKeys according with multiple prop\n * @param selectedKeys\n * @param props\n * @returns [string]\n */\n\nexport function calcSelectedKeys(selectedKeys, props) {\n  if (!selectedKeys) return undefined;\n  var multiple = props.multiple;\n\n  if (multiple) {\n    return selectedKeys.slice();\n  }\n\n  if (selectedKeys.length) {\n    return [selectedKeys[0]];\n  }\n\n  return selectedKeys;\n}\n\nvar internalProcessProps = function internalProcessProps(props) {\n  return props;\n};\n\nexport function convertDataToTree(treeData, processor) {\n  if (!treeData) return [];\n\n  var _ref2 = processor || {},\n      _ref2$processProps = _ref2.processProps,\n      processProps = _ref2$processProps === void 0 ? internalProcessProps : _ref2$processProps;\n\n  var list = Array.isArray(treeData) ? treeData : [treeData];\n  return list.map(function (_ref3) {\n    var children = _ref3.children,\n        props = _objectWithoutProperties(_ref3, [\"children\"]);\n\n    var childrenNodes = convertDataToTree(children, processor);\n    return React.createElement(TreeNode, Object.assign({}, processProps(props)), childrenNodes);\n  });\n}\n/**\n * Parse `checkedKeys` to { checkedKeys, halfCheckedKeys } style\n */\n\nexport function parseCheckedKeys(keys) {\n  if (!keys) {\n    return null;\n  } // Convert keys to object format\n\n\n  var keyProps;\n\n  if (Array.isArray(keys)) {\n    // [Legacy] Follow the api doc\n    keyProps = {\n      checkedKeys: keys,\n      halfCheckedKeys: undefined\n    };\n  } else if (_typeof(keys) === 'object') {\n    keyProps = {\n      checkedKeys: keys.checked || undefined,\n      halfCheckedKeys: keys.halfChecked || undefined\n    };\n  } else {\n    warning(false, '`checkedKeys` is not an array or an object');\n    return null;\n  }\n\n  return keyProps;\n}\n/**\n * If user use `autoExpandParent` we should get the list of parent node\n * @param keyList\n * @param keyEntities\n */\n\nexport function conductExpandParent(keyList, keyEntities) {\n  var expandedKeys = new Set();\n\n  function conductUp(key) {\n    if (expandedKeys.has(key)) return;\n    var entity = keyEntities[key];\n    if (!entity) return;\n    expandedKeys.add(key);\n    var parent = entity.parent,\n        node = entity.node;\n    if (node.disabled) return;\n\n    if (parent) {\n      conductUp(parent.key);\n    }\n  }\n\n  (keyList || []).forEach(function (key) {\n    conductUp(key);\n  });\n  return _toConsumableArray(expandedKeys);\n}\n/**\n * Returns only the data- and aria- key/value pairs\n */\n\nexport function getDataAndAria(props) {\n  var omitProps = {};\n  Object.keys(props).forEach(function (key) {\n    if (key.startsWith('data-') || key.startsWith('aria-')) {\n      omitProps[key] = props[key];\n    }\n  });\n  return omitProps;\n}","map":{"version":3,"names":["_toConsumableArray","_typeof","_objectWithoutProperties","React","warning","TreeNode","DRAG_SIDE_RANGE","DRAG_MIN_GAP","arrDel","list","value","clone","slice","index","indexOf","splice","arrAdd","push","posToArr","pos","split","getPosition","level","concat","isTreeNode","node","type","getDragNodesKeys","dragNodeKey","keyEntities","dragNodesKeys","entity","dig","arguments","length","undefined","forEach","_ref","key","children","calcDropPosition","event","treeNode","clientY","_treeNode$selectHandl","selectHandle","getBoundingClientRect","top","bottom","height","des","Math","max","calcSelectedKeys","selectedKeys","props","multiple","internalProcessProps","convertDataToTree","treeData","processor","_ref2","_ref2$processProps","processProps","Array","isArray","map","_ref3","childrenNodes","createElement","Object","assign","parseCheckedKeys","keys","keyProps","checkedKeys","halfCheckedKeys","checked","halfChecked","conductExpandParent","keyList","expandedKeys","Set","conductUp","has","add","parent","disabled","getDataAndAria","omitProps","startsWith"],"sources":["E:/Work/PFE/Project folder/DocHelp/node_modules/rc-tree/es/util.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\n/**\n * Legacy code. Should avoid to use if you are new to import these code.\n */\nimport React from 'react';\nimport warning from \"rc-util/es/warning\";\nimport TreeNode from './TreeNode';\nvar DRAG_SIDE_RANGE = 0.25;\nvar DRAG_MIN_GAP = 2;\nexport function arrDel(list, value) {\n  var clone = list.slice();\n  var index = clone.indexOf(value);\n\n  if (index >= 0) {\n    clone.splice(index, 1);\n  }\n\n  return clone;\n}\nexport function arrAdd(list, value) {\n  var clone = list.slice();\n\n  if (clone.indexOf(value) === -1) {\n    clone.push(value);\n  }\n\n  return clone;\n}\nexport function posToArr(pos) {\n  return pos.split('-');\n}\nexport function getPosition(level, index) {\n  return \"\".concat(level, \"-\").concat(index);\n}\nexport function isTreeNode(node) {\n  return node && node.type && node.type.isTreeNode;\n}\nexport function getDragNodesKeys(dragNodeKey, keyEntities) {\n  var dragNodesKeys = [dragNodeKey];\n  var entity = keyEntities[dragNodeKey];\n\n  function dig() {\n    var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    list.forEach(function (_ref) {\n      var key = _ref.key,\n          children = _ref.children;\n      dragNodesKeys.push(key);\n      dig(children);\n    });\n  }\n\n  dig(entity.children);\n  return dragNodesKeys;\n} // Only used when drag, not affect SSR.\n\nexport function calcDropPosition(event, treeNode) {\n  var clientY = event.clientY;\n\n  var _treeNode$selectHandl = treeNode.selectHandle.getBoundingClientRect(),\n      top = _treeNode$selectHandl.top,\n      bottom = _treeNode$selectHandl.bottom,\n      height = _treeNode$selectHandl.height;\n\n  var des = Math.max(height * DRAG_SIDE_RANGE, DRAG_MIN_GAP);\n\n  if (clientY <= top + des) {\n    return -1;\n  }\n\n  if (clientY >= bottom - des) {\n    return 1;\n  }\n\n  return 0;\n}\n/**\n * Return selectedKeys according with multiple prop\n * @param selectedKeys\n * @param props\n * @returns [string]\n */\n\nexport function calcSelectedKeys(selectedKeys, props) {\n  if (!selectedKeys) return undefined;\n  var multiple = props.multiple;\n\n  if (multiple) {\n    return selectedKeys.slice();\n  }\n\n  if (selectedKeys.length) {\n    return [selectedKeys[0]];\n  }\n\n  return selectedKeys;\n}\n\nvar internalProcessProps = function internalProcessProps(props) {\n  return props;\n};\n\nexport function convertDataToTree(treeData, processor) {\n  if (!treeData) return [];\n\n  var _ref2 = processor || {},\n      _ref2$processProps = _ref2.processProps,\n      processProps = _ref2$processProps === void 0 ? internalProcessProps : _ref2$processProps;\n\n  var list = Array.isArray(treeData) ? treeData : [treeData];\n  return list.map(function (_ref3) {\n    var children = _ref3.children,\n        props = _objectWithoutProperties(_ref3, [\"children\"]);\n\n    var childrenNodes = convertDataToTree(children, processor);\n    return React.createElement(TreeNode, Object.assign({}, processProps(props)), childrenNodes);\n  });\n}\n/**\n * Parse `checkedKeys` to { checkedKeys, halfCheckedKeys } style\n */\n\nexport function parseCheckedKeys(keys) {\n  if (!keys) {\n    return null;\n  } // Convert keys to object format\n\n\n  var keyProps;\n\n  if (Array.isArray(keys)) {\n    // [Legacy] Follow the api doc\n    keyProps = {\n      checkedKeys: keys,\n      halfCheckedKeys: undefined\n    };\n  } else if (_typeof(keys) === 'object') {\n    keyProps = {\n      checkedKeys: keys.checked || undefined,\n      halfCheckedKeys: keys.halfChecked || undefined\n    };\n  } else {\n    warning(false, '`checkedKeys` is not an array or an object');\n    return null;\n  }\n\n  return keyProps;\n}\n/**\n * If user use `autoExpandParent` we should get the list of parent node\n * @param keyList\n * @param keyEntities\n */\n\nexport function conductExpandParent(keyList, keyEntities) {\n  var expandedKeys = new Set();\n\n  function conductUp(key) {\n    if (expandedKeys.has(key)) return;\n    var entity = keyEntities[key];\n    if (!entity) return;\n    expandedKeys.add(key);\n    var parent = entity.parent,\n        node = entity.node;\n    if (node.disabled) return;\n\n    if (parent) {\n      conductUp(parent.key);\n    }\n  }\n\n  (keyList || []).forEach(function (key) {\n    conductUp(key);\n  });\n  return _toConsumableArray(expandedKeys);\n}\n/**\n * Returns only the data- and aria- key/value pairs\n */\n\nexport function getDataAndAria(props) {\n  var omitProps = {};\n  Object.keys(props).forEach(function (key) {\n    if (key.startsWith('data-') || key.startsWith('aria-')) {\n      omitProps[key] = props[key];\n    }\n  });\n  return omitProps;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}