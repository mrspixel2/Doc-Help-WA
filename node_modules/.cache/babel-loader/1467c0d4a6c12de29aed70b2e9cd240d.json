{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { matchNamePath } from './valueUtil';\n/**\n * NameMap like a `Map` but accepts `string[]` as key.\n */\n\nvar NameMap = /*#__PURE__*/function () {\n  function NameMap() {\n    _classCallCheck(this, NameMap);\n\n    this.list = [];\n  }\n\n  _createClass(NameMap, [{\n    key: \"set\",\n    value: function set(key, value) {\n      var index = this.list.findIndex(function (item) {\n        return matchNamePath(item.key, key);\n      });\n\n      if (index !== -1) {\n        this.list[index].value = value;\n      } else {\n        this.list.push({\n          key: key,\n          value: value\n        });\n      }\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      var result = this.list.find(function (item) {\n        return matchNamePath(item.key, key);\n      });\n      return result && result.value;\n    }\n  }, {\n    key: \"update\",\n    value: function update(key, updater) {\n      var origin = this.get(key);\n      var next = updater(origin);\n\n      if (!next) {\n        this.delete(key);\n      } else {\n        this.set(key, next);\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(key) {\n      this.list = this.list.filter(function (item) {\n        return !matchNamePath(item.key, key);\n      });\n    }\n  }, {\n    key: \"map\",\n    value: function map(callback) {\n      return this.list.map(callback);\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      var json = {};\n      this.map(function (_ref) {\n        var key = _ref.key,\n            value = _ref.value;\n        json[key.join('.')] = value;\n        return null;\n      });\n      return json;\n    }\n  }]);\n\n  return NameMap;\n}();\n\nexport default NameMap;","map":{"version":3,"names":["_classCallCheck","_createClass","matchNamePath","NameMap","list","key","value","set","index","findIndex","item","push","get","result","find","update","updater","origin","next","delete","_delete","filter","map","callback","toJSON","json","_ref","join"],"sources":["E:/Work/PFE/Project folder/DocHelp-WA/node_modules/rc-field-form/es/utils/NameMap.js"],"sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { matchNamePath } from './valueUtil';\n/**\n * NameMap like a `Map` but accepts `string[]` as key.\n */\n\nvar NameMap = /*#__PURE__*/function () {\n  function NameMap() {\n    _classCallCheck(this, NameMap);\n\n    this.list = [];\n  }\n\n  _createClass(NameMap, [{\n    key: \"set\",\n    value: function set(key, value) {\n      var index = this.list.findIndex(function (item) {\n        return matchNamePath(item.key, key);\n      });\n\n      if (index !== -1) {\n        this.list[index].value = value;\n      } else {\n        this.list.push({\n          key: key,\n          value: value\n        });\n      }\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      var result = this.list.find(function (item) {\n        return matchNamePath(item.key, key);\n      });\n      return result && result.value;\n    }\n  }, {\n    key: \"update\",\n    value: function update(key, updater) {\n      var origin = this.get(key);\n      var next = updater(origin);\n\n      if (!next) {\n        this.delete(key);\n      } else {\n        this.set(key, next);\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(key) {\n      this.list = this.list.filter(function (item) {\n        return !matchNamePath(item.key, key);\n      });\n    }\n  }, {\n    key: \"map\",\n    value: function map(callback) {\n      return this.list.map(callback);\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      var json = {};\n      this.map(function (_ref) {\n        var key = _ref.key,\n            value = _ref.value;\n        json[key.join('.')] = value;\n        return null;\n      });\n      return json;\n    }\n  }]);\n\n  return NameMap;\n}();\n\nexport default NameMap;"],"mappings":"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"},"metadata":{},"sourceType":"module"}