{"ast":null,"code":"import \"antd/es/modal/style\";\nimport _Modal from \"antd/es/modal\";\nvar _jsxFileName = \"E:\\\\Work\\\\PFE\\\\Project folder\\\\react\\\\src\\\\layout\\\\base\\\\BaseLayout.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Footer from '../components/footer/Footer';\nimport SettingsForm from '../components/settings/SettingsForm';\nimport { updateSettings, resetSettings } from '../../redux/settings/actions';\nimport { fetchPatients } from '../../redux/patients/actions';\nimport className from '../../utils/class-names';\nimport './BaseLayout.scss';\nconst patientsUrl = '/data/patients.json';\n\nconst BaseLayout = _ref => {\n  let {\n    nav,\n    topNav,\n    sideNav,\n    orientation,\n    children\n  } = _ref;\n  const [showSettings, setShowSettings] = useState(false);\n  const [scrolled, setScrolled] = useState(false);\n  const dispatch = useDispatch();\n  const sidebarOpened = useSelector(state => state.settings.sidebarOpened);\n  const settings = useSelector(state => state.settings);\n  const pageData = useSelector(state => state.pageData);\n  useEffect(() => {\n    dispatch(fetchPatients(patientsUrl));\n  }, [patientsUrl]);\n\n  const handleScroll = event => {\n    setScrolled(event.target.scrollTop > 0);\n  };\n\n  const mainContentClasses = className({\n    'main-content': true,\n    loaded: pageData.loaded,\n    fulfilled: pageData.fulFilled\n  });\n  const mainContentWrapClasses = className({\n    'main-content-wrap': true\n  });\n\n  const onUpdateSettings = settings => dispatch(updateSettings(settings));\n\n  const toggleSettings = () => setShowSettings(!showSettings);\n\n  const onResetSettings = () => dispatch(resetSettings());\n\n  const contentOverlay = /*#__PURE__*/React.createElement(\"div\", {\n    className: className({\n      'content-overlay': true,\n      show: sidebarOpened\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `layout ${orientation}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `app-container ${settings.boxed && 'boxed'} ${scrolled && 'scrolled'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, nav, topNav, sideNav, /*#__PURE__*/React.createElement(\"main\", {\n    onScroll: handleScroll,\n    className: mainContentClasses,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app-loader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"icofont-spinner-alt-4 rotate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: mainContentWrapClasses,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, pageData && !!pageData.title && /*#__PURE__*/React.createElement(\"header\", {\n    className: \"page-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"page-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, pageData.title)), children)), /*#__PURE__*/React.createElement(Footer, {\n    breadcrumbs: pageData.breadcrumbs,\n    layout: settings.layout,\n    boxed: settings.boxed,\n    loaded: pageData.loaded,\n    openModal: toggleSettings,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }), contentOverlay, /*#__PURE__*/React.createElement(_Modal, {\n    visible: showSettings,\n    onCancel: toggleSettings,\n    footer: null,\n    title: /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"m-0\",\n      style: {\n        opacity: 0.8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, \"Settings\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SettingsForm, {\n    settings: settings,\n    onResetSettings: onResetSettings,\n    onUpdateSetting: onUpdateSettings,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }))));\n};\n\nexport default BaseLayout;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","Footer","SettingsForm","updateSettings","resetSettings","fetchPatients","className","patientsUrl","BaseLayout","nav","topNav","sideNav","orientation","children","showSettings","setShowSettings","scrolled","setScrolled","dispatch","sidebarOpened","state","settings","pageData","handleScroll","event","target","scrollTop","mainContentClasses","loaded","fulfilled","fulFilled","mainContentWrapClasses","onUpdateSettings","toggleSettings","onResetSettings","contentOverlay","show","boxed","title","breadcrumbs","layout","opacity"],"sources":["E:/Work/PFE/Project folder/react/src/layout/base/BaseLayout.tsx"],"sourcesContent":["import React, { ReactNode, useEffect, useState } from 'react';\n\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { Modal } from 'antd';\n\nimport Footer from '../components/footer/Footer';\nimport SettingsForm from '../components/settings/SettingsForm';\n\nimport { updateSettings, resetSettings } from '../../redux/settings/actions';\nimport { fetchPatients } from '../../redux/patients/actions';\n\nimport className from '../../utils/class-names';\n\nimport { IAppSettings } from '../../interfaces/settings';\nimport { IAppState } from '../../interfaces/app-state';\nimport { IPageData } from '../../interfaces/page';\n\nimport './BaseLayout.scss';\n\nconst patientsUrl = '/data/patients.json';\n\ntype Props = {\n  nav: ReactNode;\n  sideNav?: ReactNode;\n  topNav?: ReactNode;\n  children: ReactNode;\n  orientation: 'vertical' | 'horizontal';\n};\n\nconst BaseLayout = ({ nav, topNav, sideNav, orientation, children }: Props) => {\n  const [showSettings, setShowSettings] = useState(false);\n  const [scrolled, setScrolled] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const sidebarOpened = useSelector<IAppState, boolean>((state) => state.settings.sidebarOpened);\n  const settings = useSelector<IAppState, IAppSettings>((state) => state.settings);\n  const pageData = useSelector<IAppState, IPageData>((state) => state.pageData);\n\n  useEffect(() => {\n    dispatch(fetchPatients(patientsUrl));\n  }, [patientsUrl]);\n\n  const handleScroll = (event) => {\n    setScrolled(event.target.scrollTop > 0);\n  };\n\n  const mainContentClasses = className({\n    'main-content': true,\n    loaded: pageData.loaded,\n    fulfilled: pageData.fulFilled\n  });\n\n  const mainContentWrapClasses = className({\n    'main-content-wrap': true\n  });\n\n  const onUpdateSettings = (settings) => dispatch(updateSettings(settings));\n  const toggleSettings = () => setShowSettings(!showSettings);\n  const onResetSettings = () => dispatch(resetSettings());\n\n  const contentOverlay = (\n    <div\n      className={className({\n        'content-overlay': true,\n        show: sidebarOpened\n      })}\n    />\n  );\n\n  return (\n    <div className={`layout ${orientation}`}>\n      <div className={`app-container ${settings.boxed && 'boxed'} ${scrolled && 'scrolled'}`}>\n        {nav}\n\n        {topNav}\n\n        {sideNav}\n\n        <main onScroll={handleScroll} className={mainContentClasses}>\n          <div className='app-loader'>\n            <i className='icofont-spinner-alt-4 rotate' />\n          </div>\n\n          <div className={mainContentWrapClasses}>\n            {pageData && !!pageData.title && (\n              <header className='page-header'>\n                <h1 className='page-title'>{pageData.title}</h1>\n              </header>\n            )}\n            {children}\n          </div>\n        </main>\n\n        <Footer\n          breadcrumbs={pageData.breadcrumbs}\n          layout={settings.layout}\n          boxed={settings.boxed}\n          loaded={pageData.loaded}\n          openModal={toggleSettings}\n        />\n        {contentOverlay}\n        <Modal\n          visible={showSettings}\n          onCancel={toggleSettings}\n          footer={null}\n          title={\n            <h3 className='m-0' style={{ opacity: 0.8 }}>\n              Settings\n            </h3>\n          }\n        >\n          <SettingsForm\n            settings={settings}\n            onResetSettings={onResetSettings}\n            onUpdateSetting={onUpdateSettings}\n          />\n        </Modal>\n      </div>\n    </div>\n  );\n};\n\nexport default BaseLayout;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}