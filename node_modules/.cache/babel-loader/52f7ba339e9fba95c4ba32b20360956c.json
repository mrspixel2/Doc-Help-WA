{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport unsafeLifecyclesPolyfill from 'rc-util/es/unsafeLifecyclesPolyfill';\nimport { toArrayChildren, mergeChildren, findShownChildInChildrenByKey, findChildInChildrenByKey, isSameChildren } from './ChildrenUtils';\nimport AnimateChild from './AnimateChild';\nimport animUtil from './util/animate';\nvar defaultKey = 'rc_animate_' + Date.now();\n\nfunction getChildrenFromProps(props) {\n  var children = props.children;\n\n  if (React.isValidElement(children)) {\n    if (!children.key) {\n      return React.cloneElement(children, {\n        key: defaultKey\n      });\n    }\n  }\n\n  return children;\n}\n\nfunction noop() {}\n\nvar Animate = function (_React$Component) {\n  _inherits(Animate, _React$Component); // eslint-disable-line\n\n\n  function Animate(props) {\n    _classCallCheck(this, Animate);\n\n    var _this = _possibleConstructorReturn(this, (Animate.__proto__ || Object.getPrototypeOf(Animate)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.currentlyAnimatingKeys = {};\n    _this.keysToEnter = [];\n    _this.keysToLeave = [];\n    _this.state = {\n      children: toArrayChildren(getChildrenFromProps(props))\n    };\n    _this.childrenRefs = {};\n    return _this;\n  }\n\n  _createClass(Animate, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var showProp = this.props.showProp;\n      var children = this.state.children;\n\n      if (showProp) {\n        children = children.filter(function (child) {\n          return !!child.props[showProp];\n        });\n      }\n\n      children.forEach(function (child) {\n        if (child) {\n          _this2.performAppear(child.key);\n        }\n      });\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this3 = this;\n\n      this.nextProps = nextProps;\n      var nextChildren = toArrayChildren(getChildrenFromProps(nextProps));\n      var props = this.props; // exclusive needs immediate response\n\n      if (props.exclusive) {\n        Object.keys(this.currentlyAnimatingKeys).forEach(function (key) {\n          _this3.stop(key);\n        });\n      }\n\n      var showProp = props.showProp;\n      var currentlyAnimatingKeys = this.currentlyAnimatingKeys; // last props children if exclusive\n\n      var currentChildren = props.exclusive ? toArrayChildren(getChildrenFromProps(props)) : this.state.children; // in case destroy in showProp mode\n\n      var newChildren = [];\n\n      if (showProp) {\n        currentChildren.forEach(function (currentChild) {\n          var nextChild = currentChild && findChildInChildrenByKey(nextChildren, currentChild.key);\n          var newChild = void 0;\n\n          if ((!nextChild || !nextChild.props[showProp]) && currentChild.props[showProp]) {\n            newChild = React.cloneElement(nextChild || currentChild, _defineProperty({}, showProp, true));\n          } else {\n            newChild = nextChild;\n          }\n\n          if (newChild) {\n            newChildren.push(newChild);\n          }\n        });\n        nextChildren.forEach(function (nextChild) {\n          if (!nextChild || !findChildInChildrenByKey(currentChildren, nextChild.key)) {\n            newChildren.push(nextChild);\n          }\n        });\n      } else {\n        newChildren = mergeChildren(currentChildren, nextChildren);\n      } // need render to avoid update\n\n\n      this.setState({\n        children: newChildren\n      });\n      nextChildren.forEach(function (child) {\n        var key = child && child.key;\n\n        if (child && currentlyAnimatingKeys[key]) {\n          return;\n        }\n\n        var hasPrev = child && findChildInChildrenByKey(currentChildren, key);\n\n        if (showProp) {\n          var showInNext = child.props[showProp];\n\n          if (hasPrev) {\n            var showInNow = findShownChildInChildrenByKey(currentChildren, key, showProp);\n\n            if (!showInNow && showInNext) {\n              _this3.keysToEnter.push(key);\n            }\n          } else if (showInNext) {\n            _this3.keysToEnter.push(key);\n          }\n        } else if (!hasPrev) {\n          _this3.keysToEnter.push(key);\n        }\n      });\n      currentChildren.forEach(function (child) {\n        var key = child && child.key;\n\n        if (child && currentlyAnimatingKeys[key]) {\n          return;\n        }\n\n        var hasNext = child && findChildInChildrenByKey(nextChildren, key);\n\n        if (showProp) {\n          var showInNow = child.props[showProp];\n\n          if (hasNext) {\n            var showInNext = findShownChildInChildrenByKey(nextChildren, key, showProp);\n\n            if (!showInNext && showInNow) {\n              _this3.keysToLeave.push(key);\n            }\n          } else if (showInNow) {\n            _this3.keysToLeave.push(key);\n          }\n        } else if (!hasNext) {\n          _this3.keysToLeave.push(key);\n        }\n      });\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var keysToEnter = this.keysToEnter;\n      this.keysToEnter = [];\n      keysToEnter.forEach(this.performEnter);\n      var keysToLeave = this.keysToLeave;\n      this.keysToLeave = [];\n      keysToLeave.forEach(this.performLeave);\n    }\n  }, {\n    key: 'isValidChildByKey',\n    value: function isValidChildByKey(currentChildren, key) {\n      var showProp = this.props.showProp;\n\n      if (showProp) {\n        return findShownChildInChildrenByKey(currentChildren, key, showProp);\n      }\n\n      return findChildInChildrenByKey(currentChildren, key);\n    }\n  }, {\n    key: 'stop',\n    value: function stop(key) {\n      delete this.currentlyAnimatingKeys[key];\n      var component = this.childrenRefs[key];\n\n      if (component) {\n        component.stop();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var props = this.props;\n      this.nextProps = props;\n      var stateChildren = this.state.children;\n      var children = null;\n\n      if (stateChildren) {\n        children = stateChildren.map(function (child) {\n          if (child === null || child === undefined) {\n            return child;\n          }\n\n          if (!child.key) {\n            throw new Error('must set key for <rc-animate> children');\n          }\n\n          return React.createElement(AnimateChild, {\n            key: child.key,\n            ref: function ref(node) {\n              _this4.childrenRefs[child.key] = node;\n            },\n            animation: props.animation,\n            transitionName: props.transitionName,\n            transitionEnter: props.transitionEnter,\n            transitionAppear: props.transitionAppear,\n            transitionLeave: props.transitionLeave\n          }, child);\n        });\n      }\n\n      var Component = props.component;\n\n      if (Component) {\n        var passedProps = props;\n\n        if (typeof Component === 'string') {\n          passedProps = _extends({\n            className: props.className,\n            style: props.style\n          }, props.componentProps);\n        }\n\n        return React.createElement(Component, passedProps, children);\n      }\n\n      return children[0] || null;\n    }\n  }]);\n\n  return Animate;\n}(React.Component);\n\nAnimate.isAnimate = true;\nAnimate.propTypes = {\n  className: PropTypes.string,\n  style: PropTypes.object,\n  component: PropTypes.any,\n  componentProps: PropTypes.object,\n  animation: PropTypes.object,\n  transitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  transitionEnter: PropTypes.bool,\n  transitionAppear: PropTypes.bool,\n  exclusive: PropTypes.bool,\n  transitionLeave: PropTypes.bool,\n  onEnd: PropTypes.func,\n  onEnter: PropTypes.func,\n  onLeave: PropTypes.func,\n  onAppear: PropTypes.func,\n  showProp: PropTypes.string,\n  children: PropTypes.node\n};\nAnimate.defaultProps = {\n  animation: {},\n  component: 'span',\n  componentProps: {},\n  transitionEnter: true,\n  transitionLeave: true,\n  transitionAppear: false,\n  onEnd: noop,\n  onEnter: noop,\n  onLeave: noop,\n  onAppear: noop\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.performEnter = function (key) {\n    // may already remove by exclusive\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n\n      _this5.childrenRefs[key].componentWillEnter(_this5.handleDoneAdding.bind(_this5, key, 'enter'));\n    }\n  };\n\n  this.performAppear = function (key) {\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n\n      _this5.childrenRefs[key].componentWillAppear(_this5.handleDoneAdding.bind(_this5, key, 'appear'));\n    }\n  };\n\n  this.handleDoneAdding = function (key, type) {\n    var props = _this5.props;\n    delete _this5.currentlyAnimatingKeys[key]; // if update on exclusive mode, skip check\n\n    if (props.exclusive && props !== _this5.nextProps) {\n      return;\n    }\n\n    var currentChildren = toArrayChildren(getChildrenFromProps(props));\n\n    if (!_this5.isValidChildByKey(currentChildren, key)) {\n      // exclusive will not need this\n      _this5.performLeave(key);\n    } else if (type === 'appear') {\n      if (animUtil.allowAppearCallback(props)) {\n        props.onAppear(key);\n        props.onEnd(key, true);\n      }\n    } else if (animUtil.allowEnterCallback(props)) {\n      props.onEnter(key);\n      props.onEnd(key, true);\n    }\n  };\n\n  this.performLeave = function (key) {\n    // may already remove by exclusive\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n\n      _this5.childrenRefs[key].componentWillLeave(_this5.handleDoneLeaving.bind(_this5, key));\n    }\n  };\n\n  this.handleDoneLeaving = function (key) {\n    var props = _this5.props;\n    delete _this5.currentlyAnimatingKeys[key]; // if update on exclusive mode, skip check\n\n    if (props.exclusive && props !== _this5.nextProps) {\n      return;\n    }\n\n    var currentChildren = toArrayChildren(getChildrenFromProps(props)); // in case state change is too fast\n\n    if (_this5.isValidChildByKey(currentChildren, key)) {\n      _this5.performEnter(key);\n    } else {\n      var end = function end() {\n        if (animUtil.allowLeaveCallback(props)) {\n          props.onLeave(key);\n          props.onEnd(key, false);\n        }\n      };\n\n      if (!isSameChildren(_this5.state.children, currentChildren, props.showProp)) {\n        _this5.setState({\n          children: currentChildren\n        }, end);\n      } else {\n        end();\n      }\n    }\n  };\n};\n\nexport default unsafeLifecyclesPolyfill(Animate);","map":{"version":3,"names":["_extends","_defineProperty","_classCallCheck","_createClass","_possibleConstructorReturn","_inherits","React","PropTypes","unsafeLifecyclesPolyfill","toArrayChildren","mergeChildren","findShownChildInChildrenByKey","findChildInChildrenByKey","isSameChildren","AnimateChild","animUtil","defaultKey","Date","now","getChildrenFromProps","props","children","isValidElement","key","cloneElement","noop","Animate","_React$Component","_this","__proto__","Object","getPrototypeOf","call","_initialiseProps","currentlyAnimatingKeys","keysToEnter","keysToLeave","state","childrenRefs","value","componentDidMount","_this2","showProp","filter","child","forEach","performAppear","componentWillReceiveProps","nextProps","_this3","nextChildren","exclusive","keys","stop","currentChildren","newChildren","currentChild","nextChild","newChild","push","setState","hasPrev","showInNext","showInNow","hasNext","componentDidUpdate","performEnter","performLeave","isValidChildByKey","component","render","_this4","stateChildren","map","undefined","Error","createElement","ref","node","animation","transitionName","transitionEnter","transitionAppear","transitionLeave","Component","passedProps","className","style","componentProps","isAnimate","propTypes","string","object","any","oneOfType","bool","onEnd","func","onEnter","onLeave","onAppear","defaultProps","_this5","componentWillEnter","handleDoneAdding","bind","componentWillAppear","type","allowAppearCallback","allowEnterCallback","componentWillLeave","handleDoneLeaving","end","allowLeaveCallback"],"sources":["E:/Work/PFE/Project folder/DocHelp-WA/node_modules/rc-animate/es/Animate.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport unsafeLifecyclesPolyfill from 'rc-util/es/unsafeLifecyclesPolyfill';\nimport { toArrayChildren, mergeChildren, findShownChildInChildrenByKey, findChildInChildrenByKey, isSameChildren } from './ChildrenUtils';\nimport AnimateChild from './AnimateChild';\nimport animUtil from './util/animate';\n\nvar defaultKey = 'rc_animate_' + Date.now();\n\nfunction getChildrenFromProps(props) {\n  var children = props.children;\n  if (React.isValidElement(children)) {\n    if (!children.key) {\n      return React.cloneElement(children, {\n        key: defaultKey\n      });\n    }\n  }\n  return children;\n}\n\nfunction noop() {}\n\nvar Animate = function (_React$Component) {\n  _inherits(Animate, _React$Component);\n\n  // eslint-disable-line\n\n  function Animate(props) {\n    _classCallCheck(this, Animate);\n\n    var _this = _possibleConstructorReturn(this, (Animate.__proto__ || Object.getPrototypeOf(Animate)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.currentlyAnimatingKeys = {};\n    _this.keysToEnter = [];\n    _this.keysToLeave = [];\n\n    _this.state = {\n      children: toArrayChildren(getChildrenFromProps(props))\n    };\n\n    _this.childrenRefs = {};\n    return _this;\n  }\n\n  _createClass(Animate, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var showProp = this.props.showProp;\n      var children = this.state.children;\n      if (showProp) {\n        children = children.filter(function (child) {\n          return !!child.props[showProp];\n        });\n      }\n      children.forEach(function (child) {\n        if (child) {\n          _this2.performAppear(child.key);\n        }\n      });\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this3 = this;\n\n      this.nextProps = nextProps;\n      var nextChildren = toArrayChildren(getChildrenFromProps(nextProps));\n      var props = this.props;\n      // exclusive needs immediate response\n      if (props.exclusive) {\n        Object.keys(this.currentlyAnimatingKeys).forEach(function (key) {\n          _this3.stop(key);\n        });\n      }\n      var showProp = props.showProp;\n      var currentlyAnimatingKeys = this.currentlyAnimatingKeys;\n      // last props children if exclusive\n      var currentChildren = props.exclusive ? toArrayChildren(getChildrenFromProps(props)) : this.state.children;\n      // in case destroy in showProp mode\n      var newChildren = [];\n      if (showProp) {\n        currentChildren.forEach(function (currentChild) {\n          var nextChild = currentChild && findChildInChildrenByKey(nextChildren, currentChild.key);\n          var newChild = void 0;\n          if ((!nextChild || !nextChild.props[showProp]) && currentChild.props[showProp]) {\n            newChild = React.cloneElement(nextChild || currentChild, _defineProperty({}, showProp, true));\n          } else {\n            newChild = nextChild;\n          }\n          if (newChild) {\n            newChildren.push(newChild);\n          }\n        });\n        nextChildren.forEach(function (nextChild) {\n          if (!nextChild || !findChildInChildrenByKey(currentChildren, nextChild.key)) {\n            newChildren.push(nextChild);\n          }\n        });\n      } else {\n        newChildren = mergeChildren(currentChildren, nextChildren);\n      }\n\n      // need render to avoid update\n      this.setState({\n        children: newChildren\n      });\n\n      nextChildren.forEach(function (child) {\n        var key = child && child.key;\n        if (child && currentlyAnimatingKeys[key]) {\n          return;\n        }\n        var hasPrev = child && findChildInChildrenByKey(currentChildren, key);\n        if (showProp) {\n          var showInNext = child.props[showProp];\n          if (hasPrev) {\n            var showInNow = findShownChildInChildrenByKey(currentChildren, key, showProp);\n            if (!showInNow && showInNext) {\n              _this3.keysToEnter.push(key);\n            }\n          } else if (showInNext) {\n            _this3.keysToEnter.push(key);\n          }\n        } else if (!hasPrev) {\n          _this3.keysToEnter.push(key);\n        }\n      });\n\n      currentChildren.forEach(function (child) {\n        var key = child && child.key;\n        if (child && currentlyAnimatingKeys[key]) {\n          return;\n        }\n        var hasNext = child && findChildInChildrenByKey(nextChildren, key);\n        if (showProp) {\n          var showInNow = child.props[showProp];\n          if (hasNext) {\n            var showInNext = findShownChildInChildrenByKey(nextChildren, key, showProp);\n            if (!showInNext && showInNow) {\n              _this3.keysToLeave.push(key);\n            }\n          } else if (showInNow) {\n            _this3.keysToLeave.push(key);\n          }\n        } else if (!hasNext) {\n          _this3.keysToLeave.push(key);\n        }\n      });\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var keysToEnter = this.keysToEnter;\n      this.keysToEnter = [];\n      keysToEnter.forEach(this.performEnter);\n      var keysToLeave = this.keysToLeave;\n      this.keysToLeave = [];\n      keysToLeave.forEach(this.performLeave);\n    }\n  }, {\n    key: 'isValidChildByKey',\n    value: function isValidChildByKey(currentChildren, key) {\n      var showProp = this.props.showProp;\n      if (showProp) {\n        return findShownChildInChildrenByKey(currentChildren, key, showProp);\n      }\n      return findChildInChildrenByKey(currentChildren, key);\n    }\n  }, {\n    key: 'stop',\n    value: function stop(key) {\n      delete this.currentlyAnimatingKeys[key];\n      var component = this.childrenRefs[key];\n      if (component) {\n        component.stop();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var props = this.props;\n      this.nextProps = props;\n      var stateChildren = this.state.children;\n      var children = null;\n      if (stateChildren) {\n        children = stateChildren.map(function (child) {\n          if (child === null || child === undefined) {\n            return child;\n          }\n          if (!child.key) {\n            throw new Error('must set key for <rc-animate> children');\n          }\n          return React.createElement(\n            AnimateChild,\n            {\n              key: child.key,\n              ref: function ref(node) {\n                _this4.childrenRefs[child.key] = node;\n              },\n              animation: props.animation,\n              transitionName: props.transitionName,\n              transitionEnter: props.transitionEnter,\n              transitionAppear: props.transitionAppear,\n              transitionLeave: props.transitionLeave\n            },\n            child\n          );\n        });\n      }\n      var Component = props.component;\n      if (Component) {\n        var passedProps = props;\n        if (typeof Component === 'string') {\n          passedProps = _extends({\n            className: props.className,\n            style: props.style\n          }, props.componentProps);\n        }\n        return React.createElement(\n          Component,\n          passedProps,\n          children\n        );\n      }\n      return children[0] || null;\n    }\n  }]);\n\n  return Animate;\n}(React.Component);\n\nAnimate.isAnimate = true;\nAnimate.propTypes = {\n  className: PropTypes.string,\n  style: PropTypes.object,\n  component: PropTypes.any,\n  componentProps: PropTypes.object,\n  animation: PropTypes.object,\n  transitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  transitionEnter: PropTypes.bool,\n  transitionAppear: PropTypes.bool,\n  exclusive: PropTypes.bool,\n  transitionLeave: PropTypes.bool,\n  onEnd: PropTypes.func,\n  onEnter: PropTypes.func,\n  onLeave: PropTypes.func,\n  onAppear: PropTypes.func,\n  showProp: PropTypes.string,\n  children: PropTypes.node\n};\nAnimate.defaultProps = {\n  animation: {},\n  component: 'span',\n  componentProps: {},\n  transitionEnter: true,\n  transitionLeave: true,\n  transitionAppear: false,\n  onEnd: noop,\n  onEnter: noop,\n  onLeave: noop,\n  onAppear: noop\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.performEnter = function (key) {\n    // may already remove by exclusive\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n      _this5.childrenRefs[key].componentWillEnter(_this5.handleDoneAdding.bind(_this5, key, 'enter'));\n    }\n  };\n\n  this.performAppear = function (key) {\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n      _this5.childrenRefs[key].componentWillAppear(_this5.handleDoneAdding.bind(_this5, key, 'appear'));\n    }\n  };\n\n  this.handleDoneAdding = function (key, type) {\n    var props = _this5.props;\n    delete _this5.currentlyAnimatingKeys[key];\n    // if update on exclusive mode, skip check\n    if (props.exclusive && props !== _this5.nextProps) {\n      return;\n    }\n    var currentChildren = toArrayChildren(getChildrenFromProps(props));\n    if (!_this5.isValidChildByKey(currentChildren, key)) {\n      // exclusive will not need this\n      _this5.performLeave(key);\n    } else if (type === 'appear') {\n      if (animUtil.allowAppearCallback(props)) {\n        props.onAppear(key);\n        props.onEnd(key, true);\n      }\n    } else if (animUtil.allowEnterCallback(props)) {\n      props.onEnter(key);\n      props.onEnd(key, true);\n    }\n  };\n\n  this.performLeave = function (key) {\n    // may already remove by exclusive\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n      _this5.childrenRefs[key].componentWillLeave(_this5.handleDoneLeaving.bind(_this5, key));\n    }\n  };\n\n  this.handleDoneLeaving = function (key) {\n    var props = _this5.props;\n    delete _this5.currentlyAnimatingKeys[key];\n    // if update on exclusive mode, skip check\n    if (props.exclusive && props !== _this5.nextProps) {\n      return;\n    }\n    var currentChildren = toArrayChildren(getChildrenFromProps(props));\n    // in case state change is too fast\n    if (_this5.isValidChildByKey(currentChildren, key)) {\n      _this5.performEnter(key);\n    } else {\n      var end = function end() {\n        if (animUtil.allowLeaveCallback(props)) {\n          props.onLeave(key);\n          props.onEnd(key, false);\n        }\n      };\n      if (!isSameChildren(_this5.state.children, currentChildren, props.showProp)) {\n        _this5.setState({\n          children: currentChildren\n        }, end);\n      } else {\n        end();\n      }\n    }\n  };\n};\n\nexport default unsafeLifecyclesPolyfill(Animate);"],"mappings":"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"},"metadata":{},"sourceType":"module"}