{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport pickAttrs from \"rc-util/es/pickAttrs\";\nimport useMemo from \"rc-util/es/hooks/useMemo\";\nimport classNames from 'classnames';\nimport List from 'rc-virtual-list';\nimport TransBtn from './TransBtn';\n/**\n * Using virtual list of option display.\n * Will fallback to dom if use customize render.\n */\n\nvar OptionList = function OptionList(_ref, ref) {\n  var prefixCls = _ref.prefixCls,\n      id = _ref.id,\n      flattenOptions = _ref.flattenOptions,\n      childrenAsData = _ref.childrenAsData,\n      values = _ref.values,\n      searchValue = _ref.searchValue,\n      multiple = _ref.multiple,\n      defaultActiveFirstOption = _ref.defaultActiveFirstOption,\n      height = _ref.height,\n      itemHeight = _ref.itemHeight,\n      notFoundContent = _ref.notFoundContent,\n      open = _ref.open,\n      menuItemSelectedIcon = _ref.menuItemSelectedIcon,\n      virtual = _ref.virtual,\n      onSelect = _ref.onSelect,\n      onToggleOpen = _ref.onToggleOpen,\n      onActiveValue = _ref.onActiveValue,\n      onScroll = _ref.onScroll,\n      onMouseEnter = _ref.onMouseEnter;\n  var itemPrefixCls = \"\".concat(prefixCls, \"-item\");\n  var memoFlattenOptions = useMemo(function () {\n    return flattenOptions;\n  }, [open, flattenOptions], function (prev, next) {\n    return next[0] && prev[1] !== next[1];\n  }); // =========================== List ===========================\n\n  var listRef = React.useRef(null);\n\n  var onListMouseDown = function onListMouseDown(event) {\n    event.preventDefault();\n  };\n\n  var scrollIntoView = function scrollIntoView(index) {\n    if (listRef.current) {\n      listRef.current.scrollTo({\n        index: index\n      });\n    }\n  }; // ========================== Active ==========================\n\n\n  var getEnabledActiveIndex = function getEnabledActiveIndex(index) {\n    var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var len = memoFlattenOptions.length;\n\n    for (var i = 0; i < len; i += 1) {\n      var current = (index + i * offset + len) % len;\n      var _memoFlattenOptions$c = memoFlattenOptions[current],\n          group = _memoFlattenOptions$c.group,\n          data = _memoFlattenOptions$c.data;\n\n      if (!group && !data.disabled) {\n        return current;\n      }\n    }\n\n    return -1;\n  };\n\n  var _React$useState = React.useState(function () {\n    return getEnabledActiveIndex(0);\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      activeIndex = _React$useState2[0],\n      setActiveIndex = _React$useState2[1];\n\n  var setActive = function setActive(index) {\n    var fromKeyboard = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    setActiveIndex(index);\n    var info = {\n      source: fromKeyboard ? 'keyboard' : 'mouse'\n    }; // Trigger active event\n\n    var flattenItem = memoFlattenOptions[index];\n\n    if (!flattenItem) {\n      onActiveValue(null, -1, info);\n      return;\n    }\n\n    onActiveValue(flattenItem.data.value, index, info);\n  }; // Auto active first item when list length or searchValue changed\n\n\n  React.useEffect(function () {\n    setActive(defaultActiveFirstOption !== false ? getEnabledActiveIndex(0) : -1);\n  }, [memoFlattenOptions.length, searchValue]); // Auto scroll to item position in single mode\n\n  React.useEffect(function () {\n    /**\n     * React will skip `onChange` when component update.\n     * `setActive` function will call root accessibility state update which makes re-render.\n     * So we need to delay to let Input component trigger onChange first.\n     */\n    var timeoutId = setTimeout(function () {\n      if (!multiple && open && values.size === 1) {\n        var value = Array.from(values)[0];\n        var index = memoFlattenOptions.findIndex(function (_ref2) {\n          var data = _ref2.data;\n          return data.value === value;\n        });\n        setActive(index);\n        scrollIntoView(index);\n      }\n    }); // Force trigger scrollbar visible when open\n\n    if (open) {\n      var _listRef$current;\n\n      (_listRef$current = listRef.current) === null || _listRef$current === void 0 ? void 0 : _listRef$current.scrollTo(undefined);\n    }\n\n    return function () {\n      return clearTimeout(timeoutId);\n    };\n  }, [open]); // ========================== Values ==========================\n\n  var onSelectValue = function onSelectValue(value) {\n    if (value !== undefined) {\n      onSelect(value, {\n        selected: !values.has(value)\n      });\n    } // Single mode should always close by select\n\n\n    if (!multiple) {\n      onToggleOpen(false);\n    }\n  }; // ========================= Keyboard =========================\n\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      onKeyDown: function onKeyDown(event) {\n        var which = event.which;\n\n        switch (which) {\n          // >>> Arrow keys\n          case KeyCode.UP:\n          case KeyCode.DOWN:\n            {\n              var offset = 0;\n\n              if (which === KeyCode.UP) {\n                offset = -1;\n              } else if (which === KeyCode.DOWN) {\n                offset = 1;\n              }\n\n              if (offset !== 0) {\n                var nextActiveIndex = getEnabledActiveIndex(activeIndex + offset, offset);\n                scrollIntoView(nextActiveIndex);\n                setActive(nextActiveIndex, true);\n              }\n\n              break;\n            }\n          // >>> Select\n\n          case KeyCode.ENTER:\n            {\n              // value\n              var item = memoFlattenOptions[activeIndex];\n\n              if (item && !item.data.disabled) {\n                onSelectValue(item.data.value);\n              } else {\n                onSelectValue(undefined);\n              }\n\n              if (open) {\n                event.preventDefault();\n              }\n\n              break;\n            }\n          // >>> Close\n\n          case KeyCode.ESC:\n            {\n              onToggleOpen(false);\n            }\n        }\n      },\n      onKeyUp: function onKeyUp() {},\n      scrollTo: function scrollTo(index) {\n        scrollIntoView(index);\n      }\n    };\n  }); // ========================== Render ==========================\n\n  if (memoFlattenOptions.length === 0) {\n    return React.createElement(\"div\", {\n      role: \"listbox\",\n      id: \"\".concat(id, \"_list\"),\n      className: \"\".concat(itemPrefixCls, \"-empty\"),\n      onMouseDown: onListMouseDown\n    }, notFoundContent);\n  }\n\n  function renderItem(index) {\n    var item = memoFlattenOptions[index];\n    if (!item) return null;\n    var itemData = item.data || {};\n    var value = itemData.value,\n        label = itemData.label,\n        children = itemData.children;\n    var attrs = pickAttrs(itemData, true);\n    var mergedLabel = childrenAsData ? children : label;\n    return item ? React.createElement(\"div\", Object.assign({\n      \"aria-label\": typeof mergedLabel === 'string' ? mergedLabel : null\n    }, attrs, {\n      key: index,\n      role: \"option\",\n      id: \"\".concat(id, \"_list_\").concat(index),\n      \"aria-selected\": values.has(value)\n    }), value) : null;\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    role: \"listbox\",\n    id: \"\".concat(id, \"_list\"),\n    style: {\n      height: 0,\n      width: 0,\n      overflow: 'hidden'\n    }\n  }, renderItem(activeIndex - 1), renderItem(activeIndex), renderItem(activeIndex + 1)), React.createElement(List, {\n    itemKey: \"key\",\n    ref: listRef,\n    data: memoFlattenOptions,\n    height: height,\n    itemHeight: itemHeight,\n    fullHeight: false,\n    onMouseDown: onListMouseDown,\n    onScroll: onScroll,\n    virtual: virtual,\n    onMouseEnter: onMouseEnter\n  }, function (_ref3, itemIndex) {\n    var _classNames;\n\n    var group = _ref3.group,\n        groupOption = _ref3.groupOption,\n        data = _ref3.data;\n    var label = data.label,\n        key = data.key; // Group\n\n    if (group) {\n      return React.createElement(\"div\", {\n        className: classNames(itemPrefixCls, \"\".concat(itemPrefixCls, \"-group\"))\n      }, label !== undefined ? label : key);\n    }\n\n    var disabled = data.disabled,\n        value = data.value,\n        title = data.title,\n        children = data.children,\n        style = data.style,\n        className = data.className,\n        otherProps = _objectWithoutProperties(data, [\"disabled\", \"value\", \"title\", \"children\", \"style\", \"className\"]); // Option\n\n\n    var selected = values.has(value);\n    var optionPrefixCls = \"\".concat(itemPrefixCls, \"-option\");\n    var optionClassName = classNames(itemPrefixCls, optionPrefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(optionPrefixCls, \"-grouped\"), groupOption), _defineProperty(_classNames, \"\".concat(optionPrefixCls, \"-active\"), activeIndex === itemIndex && !disabled), _defineProperty(_classNames, \"\".concat(optionPrefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(optionPrefixCls, \"-selected\"), selected), _classNames));\n    var mergedLabel = childrenAsData ? children : label;\n    var iconVisible = !menuItemSelectedIcon || typeof menuItemSelectedIcon === 'function' || selected;\n    var content = mergedLabel || value; // https://github.com/ant-design/ant-design/issues/26717\n\n    var optionTitle = typeof content === 'string' || typeof content === 'number' ? content.toString() : undefined;\n\n    if (title !== undefined) {\n      optionTitle = title;\n    }\n\n    return React.createElement(\"div\", Object.assign({}, otherProps, {\n      \"aria-selected\": selected,\n      className: optionClassName,\n      title: optionTitle,\n      onMouseMove: function onMouseMove() {\n        if (activeIndex === itemIndex || disabled) {\n          return;\n        }\n\n        setActive(itemIndex);\n      },\n      onClick: function onClick() {\n        if (!disabled) {\n          onSelectValue(value);\n        }\n      },\n      style: style\n    }), React.createElement(\"div\", {\n      className: \"\".concat(optionPrefixCls, \"-content\")\n    }, content), React.isValidElement(menuItemSelectedIcon) || selected, iconVisible && React.createElement(TransBtn, {\n      className: \"\".concat(itemPrefixCls, \"-option-state\"),\n      customizeIcon: menuItemSelectedIcon,\n      customizeIconProps: {\n        isSelected: selected\n      }\n    }, selected ? '✓' : null));\n  }));\n};\n\nvar RefOptionList = React.forwardRef(OptionList);\nRefOptionList.displayName = 'OptionList';\nexport default RefOptionList;","map":{"version":3,"names":["_defineProperty","_objectWithoutProperties","_slicedToArray","React","KeyCode","pickAttrs","useMemo","classNames","List","TransBtn","OptionList","_ref","ref","prefixCls","id","flattenOptions","childrenAsData","values","searchValue","multiple","defaultActiveFirstOption","height","itemHeight","notFoundContent","open","menuItemSelectedIcon","virtual","onSelect","onToggleOpen","onActiveValue","onScroll","onMouseEnter","itemPrefixCls","concat","memoFlattenOptions","prev","next","listRef","useRef","onListMouseDown","event","preventDefault","scrollIntoView","index","current","scrollTo","getEnabledActiveIndex","offset","arguments","length","undefined","len","i","_memoFlattenOptions$c","group","data","disabled","_React$useState","useState","_React$useState2","activeIndex","setActiveIndex","setActive","fromKeyboard","info","source","flattenItem","value","useEffect","timeoutId","setTimeout","size","Array","from","findIndex","_ref2","_listRef$current","clearTimeout","onSelectValue","selected","has","useImperativeHandle","onKeyDown","which","UP","DOWN","nextActiveIndex","ENTER","item","ESC","onKeyUp","createElement","role","className","onMouseDown","renderItem","itemData","label","children","attrs","mergedLabel","Object","assign","key","Fragment","style","width","overflow","itemKey","fullHeight","_ref3","itemIndex","_classNames","groupOption","title","otherProps","optionPrefixCls","optionClassName","iconVisible","content","optionTitle","toString","onMouseMove","onClick","isValidElement","customizeIcon","customizeIconProps","isSelected","RefOptionList","forwardRef","displayName"],"sources":["E:/Work/PFE/Project folder/react/node_modules/rc-select/es/OptionList.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport pickAttrs from \"rc-util/es/pickAttrs\";\nimport useMemo from \"rc-util/es/hooks/useMemo\";\nimport classNames from 'classnames';\nimport List from 'rc-virtual-list';\nimport TransBtn from './TransBtn';\n/**\n * Using virtual list of option display.\n * Will fallback to dom if use customize render.\n */\n\nvar OptionList = function OptionList(_ref, ref) {\n  var prefixCls = _ref.prefixCls,\n      id = _ref.id,\n      flattenOptions = _ref.flattenOptions,\n      childrenAsData = _ref.childrenAsData,\n      values = _ref.values,\n      searchValue = _ref.searchValue,\n      multiple = _ref.multiple,\n      defaultActiveFirstOption = _ref.defaultActiveFirstOption,\n      height = _ref.height,\n      itemHeight = _ref.itemHeight,\n      notFoundContent = _ref.notFoundContent,\n      open = _ref.open,\n      menuItemSelectedIcon = _ref.menuItemSelectedIcon,\n      virtual = _ref.virtual,\n      onSelect = _ref.onSelect,\n      onToggleOpen = _ref.onToggleOpen,\n      onActiveValue = _ref.onActiveValue,\n      onScroll = _ref.onScroll,\n      onMouseEnter = _ref.onMouseEnter;\n  var itemPrefixCls = \"\".concat(prefixCls, \"-item\");\n  var memoFlattenOptions = useMemo(function () {\n    return flattenOptions;\n  }, [open, flattenOptions], function (prev, next) {\n    return next[0] && prev[1] !== next[1];\n  }); // =========================== List ===========================\n\n  var listRef = React.useRef(null);\n\n  var onListMouseDown = function onListMouseDown(event) {\n    event.preventDefault();\n  };\n\n  var scrollIntoView = function scrollIntoView(index) {\n    if (listRef.current) {\n      listRef.current.scrollTo({\n        index: index\n      });\n    }\n  }; // ========================== Active ==========================\n\n\n  var getEnabledActiveIndex = function getEnabledActiveIndex(index) {\n    var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    var len = memoFlattenOptions.length;\n\n    for (var i = 0; i < len; i += 1) {\n      var current = (index + i * offset + len) % len;\n      var _memoFlattenOptions$c = memoFlattenOptions[current],\n          group = _memoFlattenOptions$c.group,\n          data = _memoFlattenOptions$c.data;\n\n      if (!group && !data.disabled) {\n        return current;\n      }\n    }\n\n    return -1;\n  };\n\n  var _React$useState = React.useState(function () {\n    return getEnabledActiveIndex(0);\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      activeIndex = _React$useState2[0],\n      setActiveIndex = _React$useState2[1];\n\n  var setActive = function setActive(index) {\n    var fromKeyboard = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    setActiveIndex(index);\n    var info = {\n      source: fromKeyboard ? 'keyboard' : 'mouse'\n    }; // Trigger active event\n\n    var flattenItem = memoFlattenOptions[index];\n\n    if (!flattenItem) {\n      onActiveValue(null, -1, info);\n      return;\n    }\n\n    onActiveValue(flattenItem.data.value, index, info);\n  }; // Auto active first item when list length or searchValue changed\n\n\n  React.useEffect(function () {\n    setActive(defaultActiveFirstOption !== false ? getEnabledActiveIndex(0) : -1);\n  }, [memoFlattenOptions.length, searchValue]); // Auto scroll to item position in single mode\n\n  React.useEffect(function () {\n    /**\n     * React will skip `onChange` when component update.\n     * `setActive` function will call root accessibility state update which makes re-render.\n     * So we need to delay to let Input component trigger onChange first.\n     */\n    var timeoutId = setTimeout(function () {\n      if (!multiple && open && values.size === 1) {\n        var value = Array.from(values)[0];\n        var index = memoFlattenOptions.findIndex(function (_ref2) {\n          var data = _ref2.data;\n          return data.value === value;\n        });\n        setActive(index);\n        scrollIntoView(index);\n      }\n    }); // Force trigger scrollbar visible when open\n\n    if (open) {\n      var _listRef$current;\n\n      (_listRef$current = listRef.current) === null || _listRef$current === void 0 ? void 0 : _listRef$current.scrollTo(undefined);\n    }\n\n    return function () {\n      return clearTimeout(timeoutId);\n    };\n  }, [open]); // ========================== Values ==========================\n\n  var onSelectValue = function onSelectValue(value) {\n    if (value !== undefined) {\n      onSelect(value, {\n        selected: !values.has(value)\n      });\n    } // Single mode should always close by select\n\n\n    if (!multiple) {\n      onToggleOpen(false);\n    }\n  }; // ========================= Keyboard =========================\n\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      onKeyDown: function onKeyDown(event) {\n        var which = event.which;\n\n        switch (which) {\n          // >>> Arrow keys\n          case KeyCode.UP:\n          case KeyCode.DOWN:\n            {\n              var offset = 0;\n\n              if (which === KeyCode.UP) {\n                offset = -1;\n              } else if (which === KeyCode.DOWN) {\n                offset = 1;\n              }\n\n              if (offset !== 0) {\n                var nextActiveIndex = getEnabledActiveIndex(activeIndex + offset, offset);\n                scrollIntoView(nextActiveIndex);\n                setActive(nextActiveIndex, true);\n              }\n\n              break;\n            }\n          // >>> Select\n\n          case KeyCode.ENTER:\n            {\n              // value\n              var item = memoFlattenOptions[activeIndex];\n\n              if (item && !item.data.disabled) {\n                onSelectValue(item.data.value);\n              } else {\n                onSelectValue(undefined);\n              }\n\n              if (open) {\n                event.preventDefault();\n              }\n\n              break;\n            }\n          // >>> Close\n\n          case KeyCode.ESC:\n            {\n              onToggleOpen(false);\n            }\n        }\n      },\n      onKeyUp: function onKeyUp() {},\n      scrollTo: function scrollTo(index) {\n        scrollIntoView(index);\n      }\n    };\n  }); // ========================== Render ==========================\n\n  if (memoFlattenOptions.length === 0) {\n    return React.createElement(\"div\", {\n      role: \"listbox\",\n      id: \"\".concat(id, \"_list\"),\n      className: \"\".concat(itemPrefixCls, \"-empty\"),\n      onMouseDown: onListMouseDown\n    }, notFoundContent);\n  }\n\n  function renderItem(index) {\n    var item = memoFlattenOptions[index];\n    if (!item) return null;\n    var itemData = item.data || {};\n    var value = itemData.value,\n        label = itemData.label,\n        children = itemData.children;\n    var attrs = pickAttrs(itemData, true);\n    var mergedLabel = childrenAsData ? children : label;\n    return item ? React.createElement(\"div\", Object.assign({\n      \"aria-label\": typeof mergedLabel === 'string' ? mergedLabel : null\n    }, attrs, {\n      key: index,\n      role: \"option\",\n      id: \"\".concat(id, \"_list_\").concat(index),\n      \"aria-selected\": values.has(value)\n    }), value) : null;\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    role: \"listbox\",\n    id: \"\".concat(id, \"_list\"),\n    style: {\n      height: 0,\n      width: 0,\n      overflow: 'hidden'\n    }\n  }, renderItem(activeIndex - 1), renderItem(activeIndex), renderItem(activeIndex + 1)), React.createElement(List, {\n    itemKey: \"key\",\n    ref: listRef,\n    data: memoFlattenOptions,\n    height: height,\n    itemHeight: itemHeight,\n    fullHeight: false,\n    onMouseDown: onListMouseDown,\n    onScroll: onScroll,\n    virtual: virtual,\n    onMouseEnter: onMouseEnter\n  }, function (_ref3, itemIndex) {\n    var _classNames;\n\n    var group = _ref3.group,\n        groupOption = _ref3.groupOption,\n        data = _ref3.data;\n    var label = data.label,\n        key = data.key; // Group\n\n    if (group) {\n      return React.createElement(\"div\", {\n        className: classNames(itemPrefixCls, \"\".concat(itemPrefixCls, \"-group\"))\n      }, label !== undefined ? label : key);\n    }\n\n    var disabled = data.disabled,\n        value = data.value,\n        title = data.title,\n        children = data.children,\n        style = data.style,\n        className = data.className,\n        otherProps = _objectWithoutProperties(data, [\"disabled\", \"value\", \"title\", \"children\", \"style\", \"className\"]); // Option\n\n\n    var selected = values.has(value);\n    var optionPrefixCls = \"\".concat(itemPrefixCls, \"-option\");\n    var optionClassName = classNames(itemPrefixCls, optionPrefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(optionPrefixCls, \"-grouped\"), groupOption), _defineProperty(_classNames, \"\".concat(optionPrefixCls, \"-active\"), activeIndex === itemIndex && !disabled), _defineProperty(_classNames, \"\".concat(optionPrefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(optionPrefixCls, \"-selected\"), selected), _classNames));\n    var mergedLabel = childrenAsData ? children : label;\n    var iconVisible = !menuItemSelectedIcon || typeof menuItemSelectedIcon === 'function' || selected;\n    var content = mergedLabel || value; // https://github.com/ant-design/ant-design/issues/26717\n\n    var optionTitle = typeof content === 'string' || typeof content === 'number' ? content.toString() : undefined;\n\n    if (title !== undefined) {\n      optionTitle = title;\n    }\n\n    return React.createElement(\"div\", Object.assign({}, otherProps, {\n      \"aria-selected\": selected,\n      className: optionClassName,\n      title: optionTitle,\n      onMouseMove: function onMouseMove() {\n        if (activeIndex === itemIndex || disabled) {\n          return;\n        }\n\n        setActive(itemIndex);\n      },\n      onClick: function onClick() {\n        if (!disabled) {\n          onSelectValue(value);\n        }\n      },\n      style: style\n    }), React.createElement(\"div\", {\n      className: \"\".concat(optionPrefixCls, \"-content\")\n    }, content), React.isValidElement(menuItemSelectedIcon) || selected, iconVisible && React.createElement(TransBtn, {\n      className: \"\".concat(itemPrefixCls, \"-option-state\"),\n      customizeIcon: menuItemSelectedIcon,\n      customizeIconProps: {\n        isSelected: selected\n      }\n    }, selected ? '✓' : null));\n  }));\n};\n\nvar RefOptionList = React.forwardRef(OptionList);\nRefOptionList.displayName = 'OptionList';\nexport default RefOptionList;"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,2CAA5B;AACA,OAAOC,wBAAP,MAAqC,oDAArC;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA;AACA;AACA;AACA;;AAEA,IAAIC,UAAU,GAAG,SAASA,UAAT,CAAoBC,IAApB,EAA0BC,GAA1B,EAA+B;EAC9C,IAAIC,SAAS,GAAGF,IAAI,CAACE,SAArB;EAAA,IACIC,EAAE,GAAGH,IAAI,CAACG,EADd;EAAA,IAEIC,cAAc,GAAGJ,IAAI,CAACI,cAF1B;EAAA,IAGIC,cAAc,GAAGL,IAAI,CAACK,cAH1B;EAAA,IAIIC,MAAM,GAAGN,IAAI,CAACM,MAJlB;EAAA,IAKIC,WAAW,GAAGP,IAAI,CAACO,WALvB;EAAA,IAMIC,QAAQ,GAAGR,IAAI,CAACQ,QANpB;EAAA,IAOIC,wBAAwB,GAAGT,IAAI,CAACS,wBAPpC;EAAA,IAQIC,MAAM,GAAGV,IAAI,CAACU,MARlB;EAAA,IASIC,UAAU,GAAGX,IAAI,CAACW,UATtB;EAAA,IAUIC,eAAe,GAAGZ,IAAI,CAACY,eAV3B;EAAA,IAWIC,IAAI,GAAGb,IAAI,CAACa,IAXhB;EAAA,IAYIC,oBAAoB,GAAGd,IAAI,CAACc,oBAZhC;EAAA,IAaIC,OAAO,GAAGf,IAAI,CAACe,OAbnB;EAAA,IAcIC,QAAQ,GAAGhB,IAAI,CAACgB,QAdpB;EAAA,IAeIC,YAAY,GAAGjB,IAAI,CAACiB,YAfxB;EAAA,IAgBIC,aAAa,GAAGlB,IAAI,CAACkB,aAhBzB;EAAA,IAiBIC,QAAQ,GAAGnB,IAAI,CAACmB,QAjBpB;EAAA,IAkBIC,YAAY,GAAGpB,IAAI,CAACoB,YAlBxB;EAmBA,IAAIC,aAAa,GAAG,GAAGC,MAAH,CAAUpB,SAAV,EAAqB,OAArB,CAApB;EACA,IAAIqB,kBAAkB,GAAG5B,OAAO,CAAC,YAAY;IAC3C,OAAOS,cAAP;EACD,CAF+B,EAE7B,CAACS,IAAD,EAAOT,cAAP,CAF6B,EAEL,UAAUoB,IAAV,EAAgBC,IAAhB,EAAsB;IAC/C,OAAOA,IAAI,CAAC,CAAD,CAAJ,IAAWD,IAAI,CAAC,CAAD,CAAJ,KAAYC,IAAI,CAAC,CAAD,CAAlC;EACD,CAJ+B,CAAhC,CArB8C,CAyB1C;;EAEJ,IAAIC,OAAO,GAAGlC,KAAK,CAACmC,MAAN,CAAa,IAAb,CAAd;;EAEA,IAAIC,eAAe,GAAG,SAASA,eAAT,CAAyBC,KAAzB,EAAgC;IACpDA,KAAK,CAACC,cAAN;EACD,CAFD;;EAIA,IAAIC,cAAc,GAAG,SAASA,cAAT,CAAwBC,KAAxB,EAA+B;IAClD,IAAIN,OAAO,CAACO,OAAZ,EAAqB;MACnBP,OAAO,CAACO,OAAR,CAAgBC,QAAhB,CAAyB;QACvBF,KAAK,EAAEA;MADgB,CAAzB;IAGD;EACF,CAND,CAjC8C,CAuC3C;;;EAGH,IAAIG,qBAAqB,GAAG,SAASA,qBAAT,CAA+BH,KAA/B,EAAsC;IAChE,IAAII,MAAM,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,CAAjF;IACA,IAAIG,GAAG,GAAGjB,kBAAkB,CAACe,MAA7B;;IAEA,KAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,GAApB,EAAyBC,CAAC,IAAI,CAA9B,EAAiC;MAC/B,IAAIR,OAAO,GAAG,CAACD,KAAK,GAAGS,CAAC,GAAGL,MAAZ,GAAqBI,GAAtB,IAA6BA,GAA3C;MACA,IAAIE,qBAAqB,GAAGnB,kBAAkB,CAACU,OAAD,CAA9C;MAAA,IACIU,KAAK,GAAGD,qBAAqB,CAACC,KADlC;MAAA,IAEIC,IAAI,GAAGF,qBAAqB,CAACE,IAFjC;;MAIA,IAAI,CAACD,KAAD,IAAU,CAACC,IAAI,CAACC,QAApB,EAA8B;QAC5B,OAAOZ,OAAP;MACD;IACF;;IAED,OAAO,CAAC,CAAR;EACD,CAhBD;;EAkBA,IAAIa,eAAe,GAAGtD,KAAK,CAACuD,QAAN,CAAe,YAAY;IAC/C,OAAOZ,qBAAqB,CAAC,CAAD,CAA5B;EACD,CAFqB,CAAtB;EAAA,IAGIa,gBAAgB,GAAGzD,cAAc,CAACuD,eAAD,EAAkB,CAAlB,CAHrC;EAAA,IAIIG,WAAW,GAAGD,gBAAgB,CAAC,CAAD,CAJlC;EAAA,IAKIE,cAAc,GAAGF,gBAAgB,CAAC,CAAD,CALrC;;EAOA,IAAIG,SAAS,GAAG,SAASA,SAAT,CAAmBnB,KAAnB,EAA0B;IACxC,IAAIoB,YAAY,GAAGf,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAvF;IACAa,cAAc,CAAClB,KAAD,CAAd;IACA,IAAIqB,IAAI,GAAG;MACTC,MAAM,EAAEF,YAAY,GAAG,UAAH,GAAgB;IAD3B,CAAX,CAHwC,CAKrC;;IAEH,IAAIG,WAAW,GAAGhC,kBAAkB,CAACS,KAAD,CAApC;;IAEA,IAAI,CAACuB,WAAL,EAAkB;MAChBrC,aAAa,CAAC,IAAD,EAAO,CAAC,CAAR,EAAWmC,IAAX,CAAb;MACA;IACD;;IAEDnC,aAAa,CAACqC,WAAW,CAACX,IAAZ,CAAiBY,KAAlB,EAAyBxB,KAAzB,EAAgCqB,IAAhC,CAAb;EACD,CAfD,CAnE8C,CAkF3C;;;EAGH7D,KAAK,CAACiE,SAAN,CAAgB,YAAY;IAC1BN,SAAS,CAAC1C,wBAAwB,KAAK,KAA7B,GAAqC0B,qBAAqB,CAAC,CAAD,CAA1D,GAAgE,CAAC,CAAlE,CAAT;EACD,CAFD,EAEG,CAACZ,kBAAkB,CAACe,MAApB,EAA4B/B,WAA5B,CAFH,EArF8C,CAuFA;;EAE9Cf,KAAK,CAACiE,SAAN,CAAgB,YAAY;IAC1B;AACJ;AACA;AACA;AACA;IACI,IAAIC,SAAS,GAAGC,UAAU,CAAC,YAAY;MACrC,IAAI,CAACnD,QAAD,IAAaK,IAAb,IAAqBP,MAAM,CAACsD,IAAP,KAAgB,CAAzC,EAA4C;QAC1C,IAAIJ,KAAK,GAAGK,KAAK,CAACC,IAAN,CAAWxD,MAAX,EAAmB,CAAnB,CAAZ;QACA,IAAI0B,KAAK,GAAGT,kBAAkB,CAACwC,SAAnB,CAA6B,UAAUC,KAAV,EAAiB;UACxD,IAAIpB,IAAI,GAAGoB,KAAK,CAACpB,IAAjB;UACA,OAAOA,IAAI,CAACY,KAAL,KAAeA,KAAtB;QACD,CAHW,CAAZ;QAIAL,SAAS,CAACnB,KAAD,CAAT;QACAD,cAAc,CAACC,KAAD,CAAd;MACD;IACF,CAVyB,CAA1B,CAN0B,CAgBtB;;IAEJ,IAAInB,IAAJ,EAAU;MACR,IAAIoD,gBAAJ;;MAEA,CAACA,gBAAgB,GAAGvC,OAAO,CAACO,OAA5B,MAAyC,IAAzC,IAAiDgC,gBAAgB,KAAK,KAAK,CAA3E,GAA+E,KAAK,CAApF,GAAwFA,gBAAgB,CAAC/B,QAAjB,CAA0BK,SAA1B,CAAxF;IACD;;IAED,OAAO,YAAY;MACjB,OAAO2B,YAAY,CAACR,SAAD,CAAnB;IACD,CAFD;EAGD,CA3BD,EA2BG,CAAC7C,IAAD,CA3BH,EAzF8C,CAoHlC;;EAEZ,IAAIsD,aAAa,GAAG,SAASA,aAAT,CAAuBX,KAAvB,EAA8B;IAChD,IAAIA,KAAK,KAAKjB,SAAd,EAAyB;MACvBvB,QAAQ,CAACwC,KAAD,EAAQ;QACdY,QAAQ,EAAE,CAAC9D,MAAM,CAAC+D,GAAP,CAAWb,KAAX;MADG,CAAR,CAAR;IAGD,CAL+C,CAK9C;;;IAGF,IAAI,CAAChD,QAAL,EAAe;MACbS,YAAY,CAAC,KAAD,CAAZ;IACD;EACF,CAXD,CAtH8C,CAiI3C;;;EAGHzB,KAAK,CAAC8E,mBAAN,CAA0BrE,GAA1B,EAA+B,YAAY;IACzC,OAAO;MACLsE,SAAS,EAAE,SAASA,SAAT,CAAmB1C,KAAnB,EAA0B;QACnC,IAAI2C,KAAK,GAAG3C,KAAK,CAAC2C,KAAlB;;QAEA,QAAQA,KAAR;UACE;UACA,KAAK/E,OAAO,CAACgF,EAAb;UACA,KAAKhF,OAAO,CAACiF,IAAb;YACE;cACE,IAAItC,MAAM,GAAG,CAAb;;cAEA,IAAIoC,KAAK,KAAK/E,OAAO,CAACgF,EAAtB,EAA0B;gBACxBrC,MAAM,GAAG,CAAC,CAAV;cACD,CAFD,MAEO,IAAIoC,KAAK,KAAK/E,OAAO,CAACiF,IAAtB,EAA4B;gBACjCtC,MAAM,GAAG,CAAT;cACD;;cAED,IAAIA,MAAM,KAAK,CAAf,EAAkB;gBAChB,IAAIuC,eAAe,GAAGxC,qBAAqB,CAACc,WAAW,GAAGb,MAAf,EAAuBA,MAAvB,CAA3C;gBACAL,cAAc,CAAC4C,eAAD,CAAd;gBACAxB,SAAS,CAACwB,eAAD,EAAkB,IAAlB,CAAT;cACD;;cAED;YACD;UACH;;UAEA,KAAKlF,OAAO,CAACmF,KAAb;YACE;cACE;cACA,IAAIC,IAAI,GAAGtD,kBAAkB,CAAC0B,WAAD,CAA7B;;cAEA,IAAI4B,IAAI,IAAI,CAACA,IAAI,CAACjC,IAAL,CAAUC,QAAvB,EAAiC;gBAC/BsB,aAAa,CAACU,IAAI,CAACjC,IAAL,CAAUY,KAAX,CAAb;cACD,CAFD,MAEO;gBACLW,aAAa,CAAC5B,SAAD,CAAb;cACD;;cAED,IAAI1B,IAAJ,EAAU;gBACRgB,KAAK,CAACC,cAAN;cACD;;cAED;YACD;UACH;;UAEA,KAAKrC,OAAO,CAACqF,GAAb;YACE;cACE7D,YAAY,CAAC,KAAD,CAAZ;YACD;QA7CL;MA+CD,CAnDI;MAoDL8D,OAAO,EAAE,SAASA,OAAT,GAAmB,CAAE,CApDzB;MAqDL7C,QAAQ,EAAE,SAASA,QAAT,CAAkBF,KAAlB,EAAyB;QACjCD,cAAc,CAACC,KAAD,CAAd;MACD;IAvDI,CAAP;EAyDD,CA1DD,EApI8C,CA8L1C;;EAEJ,IAAIT,kBAAkB,CAACe,MAAnB,KAA8B,CAAlC,EAAqC;IACnC,OAAO9C,KAAK,CAACwF,aAAN,CAAoB,KAApB,EAA2B;MAChCC,IAAI,EAAE,SAD0B;MAEhC9E,EAAE,EAAE,GAAGmB,MAAH,CAAUnB,EAAV,EAAc,OAAd,CAF4B;MAGhC+E,SAAS,EAAE,GAAG5D,MAAH,CAAUD,aAAV,EAAyB,QAAzB,CAHqB;MAIhC8D,WAAW,EAAEvD;IAJmB,CAA3B,EAKJhB,eALI,CAAP;EAMD;;EAED,SAASwE,UAAT,CAAoBpD,KAApB,EAA2B;IACzB,IAAI6C,IAAI,GAAGtD,kBAAkB,CAACS,KAAD,CAA7B;IACA,IAAI,CAAC6C,IAAL,EAAW,OAAO,IAAP;IACX,IAAIQ,QAAQ,GAAGR,IAAI,CAACjC,IAAL,IAAa,EAA5B;IACA,IAAIY,KAAK,GAAG6B,QAAQ,CAAC7B,KAArB;IAAA,IACI8B,KAAK,GAAGD,QAAQ,CAACC,KADrB;IAAA,IAEIC,QAAQ,GAAGF,QAAQ,CAACE,QAFxB;IAGA,IAAIC,KAAK,GAAG9F,SAAS,CAAC2F,QAAD,EAAW,IAAX,CAArB;IACA,IAAII,WAAW,GAAGpF,cAAc,GAAGkF,QAAH,GAAcD,KAA9C;IACA,OAAOT,IAAI,GAAGrF,KAAK,CAACwF,aAAN,CAAoB,KAApB,EAA2BU,MAAM,CAACC,MAAP,CAAc;MACrD,cAAc,OAAOF,WAAP,KAAuB,QAAvB,GAAkCA,WAAlC,GAAgD;IADT,CAAd,EAEtCD,KAFsC,EAE/B;MACRI,GAAG,EAAE5D,KADG;MAERiD,IAAI,EAAE,QAFE;MAGR9E,EAAE,EAAE,GAAGmB,MAAH,CAAUnB,EAAV,EAAc,QAAd,EAAwBmB,MAAxB,CAA+BU,KAA/B,CAHI;MAIR,iBAAiB1B,MAAM,CAAC+D,GAAP,CAAWb,KAAX;IAJT,CAF+B,CAA3B,EAOVA,KAPU,CAAH,GAOE,IAPb;EAQD;;EAED,OAAOhE,KAAK,CAACwF,aAAN,CAAoBxF,KAAK,CAACqG,QAA1B,EAAoC,IAApC,EAA0CrG,KAAK,CAACwF,aAAN,CAAoB,KAApB,EAA2B;IAC1EC,IAAI,EAAE,SADoE;IAE1E9E,EAAE,EAAE,GAAGmB,MAAH,CAAUnB,EAAV,EAAc,OAAd,CAFsE;IAG1E2F,KAAK,EAAE;MACLpF,MAAM,EAAE,CADH;MAELqF,KAAK,EAAE,CAFF;MAGLC,QAAQ,EAAE;IAHL;EAHmE,CAA3B,EAQ9CZ,UAAU,CAACnC,WAAW,GAAG,CAAf,CARoC,EAQjBmC,UAAU,CAACnC,WAAD,CARO,EAQQmC,UAAU,CAACnC,WAAW,GAAG,CAAf,CARlB,CAA1C,EAQgFzD,KAAK,CAACwF,aAAN,CAAoBnF,IAApB,EAA0B;IAC/GoG,OAAO,EAAE,KADsG;IAE/GhG,GAAG,EAAEyB,OAF0G;IAG/GkB,IAAI,EAAErB,kBAHyG;IAI/Gb,MAAM,EAAEA,MAJuG;IAK/GC,UAAU,EAAEA,UALmG;IAM/GuF,UAAU,EAAE,KANmG;IAO/Gf,WAAW,EAAEvD,eAPkG;IAQ/GT,QAAQ,EAAEA,QARqG;IAS/GJ,OAAO,EAAEA,OATsG;IAU/GK,YAAY,EAAEA;EAViG,CAA1B,EAWpF,UAAU+E,KAAV,EAAiBC,SAAjB,EAA4B;IAC7B,IAAIC,WAAJ;;IAEA,IAAI1D,KAAK,GAAGwD,KAAK,CAACxD,KAAlB;IAAA,IACI2D,WAAW,GAAGH,KAAK,CAACG,WADxB;IAAA,IAEI1D,IAAI,GAAGuD,KAAK,CAACvD,IAFjB;IAGA,IAAI0C,KAAK,GAAG1C,IAAI,CAAC0C,KAAjB;IAAA,IACIM,GAAG,GAAGhD,IAAI,CAACgD,GADf,CAN6B,CAOT;;IAEpB,IAAIjD,KAAJ,EAAW;MACT,OAAOnD,KAAK,CAACwF,aAAN,CAAoB,KAApB,EAA2B;QAChCE,SAAS,EAAEtF,UAAU,CAACyB,aAAD,EAAgB,GAAGC,MAAH,CAAUD,aAAV,EAAyB,QAAzB,CAAhB;MADW,CAA3B,EAEJiE,KAAK,KAAK/C,SAAV,GAAsB+C,KAAtB,GAA8BM,GAF1B,CAAP;IAGD;;IAED,IAAI/C,QAAQ,GAAGD,IAAI,CAACC,QAApB;IAAA,IACIW,KAAK,GAAGZ,IAAI,CAACY,KADjB;IAAA,IAEI+C,KAAK,GAAG3D,IAAI,CAAC2D,KAFjB;IAAA,IAGIhB,QAAQ,GAAG3C,IAAI,CAAC2C,QAHpB;IAAA,IAIIO,KAAK,GAAGlD,IAAI,CAACkD,KAJjB;IAAA,IAKIZ,SAAS,GAAGtC,IAAI,CAACsC,SALrB;IAAA,IAMIsB,UAAU,GAAGlH,wBAAwB,CAACsD,IAAD,EAAO,CAAC,UAAD,EAAa,OAAb,EAAsB,OAAtB,EAA+B,UAA/B,EAA2C,OAA3C,EAAoD,WAApD,CAAP,CANzC,CAf6B,CAqBsF;;;IAGnH,IAAIwB,QAAQ,GAAG9D,MAAM,CAAC+D,GAAP,CAAWb,KAAX,CAAf;IACA,IAAIiD,eAAe,GAAG,GAAGnF,MAAH,CAAUD,aAAV,EAAyB,SAAzB,CAAtB;IACA,IAAIqF,eAAe,GAAG9G,UAAU,CAACyB,aAAD,EAAgBoF,eAAhB,EAAiCvB,SAAjC,GAA6CmB,WAAW,GAAG,EAAd,EAAkBhH,eAAe,CAACgH,WAAD,EAAc,GAAG/E,MAAH,CAAUmF,eAAV,EAA2B,UAA3B,CAAd,EAAsDH,WAAtD,CAAjC,EAAqGjH,eAAe,CAACgH,WAAD,EAAc,GAAG/E,MAAH,CAAUmF,eAAV,EAA2B,SAA3B,CAAd,EAAqDxD,WAAW,KAAKmD,SAAhB,IAA6B,CAACvD,QAAnF,CAApH,EAAkNxD,eAAe,CAACgH,WAAD,EAAc,GAAG/E,MAAH,CAAUmF,eAAV,EAA2B,WAA3B,CAAd,EAAuD5D,QAAvD,CAAjO,EAAmSxD,eAAe,CAACgH,WAAD,EAAc,GAAG/E,MAAH,CAAUmF,eAAV,EAA2B,WAA3B,CAAd,EAAuDrC,QAAvD,CAAlT,EAAoXiC,WAAja,EAAhC;IACA,IAAIZ,WAAW,GAAGpF,cAAc,GAAGkF,QAAH,GAAcD,KAA9C;IACA,IAAIqB,WAAW,GAAG,CAAC7F,oBAAD,IAAyB,OAAOA,oBAAP,KAAgC,UAAzD,IAAuEsD,QAAzF;IACA,IAAIwC,OAAO,GAAGnB,WAAW,IAAIjC,KAA7B,CA7B6B,CA6BO;;IAEpC,IAAIqD,WAAW,GAAG,OAAOD,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAP,KAAmB,QAAlD,GAA6DA,OAAO,CAACE,QAAR,EAA7D,GAAkFvE,SAApG;;IAEA,IAAIgE,KAAK,KAAKhE,SAAd,EAAyB;MACvBsE,WAAW,GAAGN,KAAd;IACD;;IAED,OAAO/G,KAAK,CAACwF,aAAN,CAAoB,KAApB,EAA2BU,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBa,UAAlB,EAA8B;MAC9D,iBAAiBpC,QAD6C;MAE9Dc,SAAS,EAAEwB,eAFmD;MAG9DH,KAAK,EAAEM,WAHuD;MAI9DE,WAAW,EAAE,SAASA,WAAT,GAAuB;QAClC,IAAI9D,WAAW,KAAKmD,SAAhB,IAA6BvD,QAAjC,EAA2C;UACzC;QACD;;QAEDM,SAAS,CAACiD,SAAD,CAAT;MACD,CAV6D;MAW9DY,OAAO,EAAE,SAASA,OAAT,GAAmB;QAC1B,IAAI,CAACnE,QAAL,EAAe;UACbsB,aAAa,CAACX,KAAD,CAAb;QACD;MACF,CAf6D;MAgB9DsC,KAAK,EAAEA;IAhBuD,CAA9B,CAA3B,EAiBHtG,KAAK,CAACwF,aAAN,CAAoB,KAApB,EAA2B;MAC7BE,SAAS,EAAE,GAAG5D,MAAH,CAAUmF,eAAV,EAA2B,UAA3B;IADkB,CAA3B,EAEDG,OAFC,CAjBG,EAmBMpH,KAAK,CAACyH,cAAN,CAAqBnG,oBAArB,KAA8CsD,QAnBpD,EAmB8DuC,WAAW,IAAInH,KAAK,CAACwF,aAAN,CAAoBlF,QAApB,EAA8B;MAChHoF,SAAS,EAAE,GAAG5D,MAAH,CAAUD,aAAV,EAAyB,eAAzB,CADqG;MAEhH6F,aAAa,EAAEpG,oBAFiG;MAGhHqG,kBAAkB,EAAE;QAClBC,UAAU,EAAEhD;MADM;IAH4F,CAA9B,EAMjFA,QAAQ,GAAG,GAAH,GAAS,IANgE,CAnB7E,CAAP;EA0BD,CA1EsF,CARhF,CAAP;AAmFD,CA/SD;;AAiTA,IAAIiD,aAAa,GAAG7H,KAAK,CAAC8H,UAAN,CAAiBvH,UAAjB,CAApB;AACAsH,aAAa,CAACE,WAAd,GAA4B,YAA5B;AACA,eAAeF,aAAf"},"metadata":{},"sourceType":"module"}