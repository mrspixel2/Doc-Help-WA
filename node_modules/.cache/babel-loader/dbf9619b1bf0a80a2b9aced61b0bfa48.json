{"ast":null,"code":"var _jsxFileName = \"E:\\\\Work\\\\PFE\\\\Project folder\\\\DocHelp\\\\src\\\\layout\\\\components\\\\menu\\\\Menu.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport classNames from '../../../utils/class-names';\nimport MenuGroupTitle from './GroupTitle';\nimport ItemWithSub from './ItemWithSub';\nimport SimpleItem from './SimpleItem';\nimport './Menu.scss';\n\nconst haveActive = (sub, route) => !!sub.find(item => item.routing === route);\n\nconst Menu = _ref => {\n  let {\n    data,\n    orientation,\n    location,\n    children,\n    className,\n    onCloseSidebar,\n    opened\n  } = _ref;\n  const [menu, setMenu] = useState([]);\n  useEffect(() => {\n    setMenu(data);\n  }, [data]);\n  useEffect(() => {\n    const currentRoute = location.pathname.split('/')[2];\n    const updatedMenu = data ? data.map(item => {\n      if (item.sub) {\n        return { ...item,\n          active: haveActive(item.sub, currentRoute)\n        };\n      }\n\n      return { ...item,\n        active: item.routing === currentRoute\n      };\n    }) : [];\n    setMenu(updatedMenu);\n  }, [location, data]);\n  useEffect(() => {\n    onCloseSidebar && opened && onCloseSidebar();\n  }, [location]);\n\n  const handleItemClick = itemTitle => {\n    const updateMenu = [...menu];\n\n    for (let item of updateMenu) {\n      if (item.title !== itemTitle) {\n        continue;\n      }\n\n      item.active = !item.active;\n      break;\n    }\n\n    setMenu(updateMenu);\n  };\n\n  const menuClasses = classNames({\n    'main-menu': true,\n    horizontal: orientation === 'horizontal'\n  });\n  const menuItems = menu.map((item, i) => {\n    if (item.groupTitle) {\n      return /*#__PURE__*/React.createElement(MenuGroupTitle, {\n        key: i,\n        title: item.title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 14\n        }\n      });\n    }\n\n    if (item.sub) {\n      return /*#__PURE__*/React.createElement(ItemWithSub, {\n        key: i,\n        layout: orientation,\n        sub: item.sub,\n        title: item.title,\n        location: location,\n        opened: item.active,\n        onClick: handleItemClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(SimpleItem, {\n      key: i,\n      icon: item.icon,\n      layout: orientation,\n      title: item.title,\n      routing: item.routing,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 7\n      }\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `${menuClasses} ${!!className && className}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }\n  }, children, !!menuItems.length && /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"main-menu-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"menu-ul\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }, menuItems)));\n};\n\nexport default withRouter(Menu);","map":{"version":3,"names":["React","useEffect","useState","withRouter","classNames","MenuGroupTitle","ItemWithSub","SimpleItem","haveActive","sub","route","find","item","routing","Menu","data","orientation","location","children","className","onCloseSidebar","opened","menu","setMenu","currentRoute","pathname","split","updatedMenu","map","active","handleItemClick","itemTitle","updateMenu","title","menuClasses","horizontal","menuItems","i","groupTitle","icon","length"],"sources":["E:/Work/PFE/Project folder/DocHelp/src/layout/components/menu/Menu.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nimport { withRouter } from 'react-router-dom';\r\nimport { IMenuItem, IMenuItemSub } from '../../../interfaces/main-menu';\r\n\r\nimport classNames from '../../../utils/class-names';\r\n\r\nimport MenuGroupTitle from './GroupTitle';\r\nimport ItemWithSub from './ItemWithSub';\r\nimport SimpleItem from './SimpleItem';\r\n\r\nimport './Menu.scss';\r\n\r\ntype MenuProps = {\r\n  orientation?: 'vertical' | 'horizontal';\r\n  data?: IMenuItem[];\r\n  children?: any;\r\n  opened?: boolean;\r\n  onCloseSidebar?: () => void;\r\n  className?: string;\r\n};\r\n\r\ntype RouterProps = {\r\n  location: Location;\r\n};\r\n\r\ntype Props = RouterProps & MenuProps | any;\r\n\r\nconst haveActive = (sub: IMenuItemSub[], route: string) =>\r\n  !!sub.find(item => item.routing === route);\r\n\r\nconst Menu = ({\r\n  data,\r\n  orientation,\r\n  location,\r\n  children,\r\n  className,\r\n  onCloseSidebar,\r\n  opened\r\n}: Props) => {\r\n  const [menu, setMenu] = useState<IMenuItem[]>([]);\r\n\r\n  useEffect(() => {\r\n    setMenu(data);\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    const currentRoute = location.pathname.split('/')[2];\r\n\r\n    const updatedMenu = data\r\n      ? data.map(item => {\r\n          if (item.sub) {\r\n            return { ...item, active: haveActive(item.sub, currentRoute) };\r\n          }\r\n\r\n          return { ...item, active: item.routing === currentRoute };\r\n        })\r\n      : [];\r\n\r\n    setMenu(updatedMenu);\r\n  }, [location, data]);\r\n\r\n  useEffect(() => {\r\n    onCloseSidebar && opened && onCloseSidebar();\r\n  }, [location]);\r\n\r\n  const handleItemClick = (itemTitle: string) => {\r\n    const updateMenu = [...menu];\r\n\r\n    for (let item of updateMenu) {\r\n      if (item.title !== itemTitle) {\r\n        continue;\r\n      }\r\n\r\n      item.active = !item.active;\r\n      break;\r\n    }\r\n\r\n    setMenu(updateMenu);\r\n  };\r\n\r\n  const menuClasses = classNames({\r\n    'main-menu': true,\r\n    horizontal: orientation === 'horizontal'\r\n  });\r\n\r\n  const menuItems = menu.map((item: IMenuItem, i: number) => {\r\n    if (item.groupTitle) {\r\n      return <MenuGroupTitle key={i} title={item.title} />;\r\n    }\r\n\r\n    if (item.sub) {\r\n      return (\r\n        <ItemWithSub\r\n          key={i}\r\n          layout={orientation}\r\n          sub={item.sub}\r\n          title={item.title}\r\n          location={location}\r\n          opened={item.active}\r\n          onClick={handleItemClick}\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <SimpleItem\r\n        key={i}\r\n        icon={item.icon}\r\n        layout={orientation}\r\n        title={item.title}\r\n        routing={item.routing}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className={`${menuClasses} ${!!className && className}`}>\r\n      {children}\r\n      {!!menuItems.length && (\r\n        <nav className='main-menu-wrap'>\r\n          <ul className='menu-ul'>{menuItems}</ul>\r\n        </nav>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(Menu);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}