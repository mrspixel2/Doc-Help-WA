{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nasync function getPatients() {\n  const result = await axios.get('./data/patients.json');\n  return result.data;\n}\n\nexport function useGetPatients() {\n  const [patients, setPatients] = useState([]);\n  useEffect(() => {\n    getPatients().then(data => {\n      setPatients(data);\n    });\n  }, []);\n  return patients;\n}\nexport function useGetPatient(name) {\n  const [patient, setPatient] = useState(null);\n  const patients = useGetPatients();\n  useEffect(() => {\n    if (patients.length === 0) return;\n    const newPatient = patients.find(doc => doc.name === name);\n    if (newPatient === undefined) return;\n    setPatient(newPatient);\n  }, [name, patients]);\n  return {\n    patient\n  };\n}","map":{"version":3,"names":["useEffect","useState","axios","getPatients","result","get","data","useGetPatients","patients","setPatients","then","useGetPatient","name","patient","setPatient","length","newPatient","find","doc","undefined"],"sources":["E:/Work/PFE/Project folder/react/src/hooks/useGetPatient.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nimport { IPatient } from '../interfaces/patient';\nimport axios from 'axios';\n\nasync function getPatients() {\n  const result = await axios.get('./data/patients.json');\n  return result.data as IPatient[];\n}\n\nexport function useGetPatients(): IPatient[] {\n  const [patients, setPatients] = useState<IPatient[]>([]);\n\n  useEffect(() => {\n    getPatients().then((data) => {\n      setPatients(data);\n    });\n  }, []);\n\n  return patients;\n}\n\nexport function useGetPatient(name: string) {\n  const [patient, setPatient] = useState<IPatient>(null);\n  const patients = useGetPatients();\n\n  useEffect(() => {\n    if (patients.length === 0) return;\n    const newPatient = patients.find((doc) => doc.name === name);\n\n    if (newPatient === undefined) return;\n\n    setPatient(newPatient);\n  }, [name, patients]);\n\n  return { patient };\n}\n"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAGA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,eAAeC,WAAf,GAA6B;EAC3B,MAAMC,MAAM,GAAG,MAAMF,KAAK,CAACG,GAAN,CAAU,sBAAV,CAArB;EACA,OAAOD,MAAM,CAACE,IAAd;AACD;;AAED,OAAO,SAASC,cAAT,GAAsC;EAC3C,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAa,EAAb,CAAxC;EAEAD,SAAS,CAAC,MAAM;IACdG,WAAW,GAAGO,IAAd,CAAoBJ,IAAD,IAAU;MAC3BG,WAAW,CAACH,IAAD,CAAX;IACD,CAFD;EAGD,CAJQ,EAIN,EAJM,CAAT;EAMA,OAAOE,QAAP;AACD;AAED,OAAO,SAASG,aAAT,CAAuBC,IAAvB,EAAqC;EAC1C,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAW,IAAX,CAAtC;EACA,MAAMO,QAAQ,GAAGD,cAAc,EAA/B;EAEAP,SAAS,CAAC,MAAM;IACd,IAAIQ,QAAQ,CAACO,MAAT,KAAoB,CAAxB,EAA2B;IAC3B,MAAMC,UAAU,GAAGR,QAAQ,CAACS,IAAT,CAAeC,GAAD,IAASA,GAAG,CAACN,IAAJ,KAAaA,IAApC,CAAnB;IAEA,IAAII,UAAU,KAAKG,SAAnB,EAA8B;IAE9BL,UAAU,CAACE,UAAD,CAAV;EACD,CAPQ,EAON,CAACJ,IAAD,EAAOJ,QAAP,CAPM,CAAT;EASA,OAAO;IAAEK;EAAF,CAAP;AACD"},"metadata":{},"sourceType":"module"}