{"ast":null,"code":"import \"antd/es/upload/style\";\nimport _Upload from \"antd/es/upload\";\nvar _jsxFileName = \"E:\\\\Work\\\\PFE\\\\Project folder\\\\DocHelp-WA\\\\src\\\\pages\\\\desease-predictors\\\\PimageLoader.tsx\";\nimport ImgCrop from 'antd-img-crop';\nimport React, { useState } from 'react';\n\nconst PimageLoader = () => {\n  const [fileList, setFileList] = useState([{\n    uid: '-1',\n    name: 'image.png',\n    url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n    size: 100,\n    type: 'image'\n  }]);\n\n  const onChange = _ref => {\n    let {\n      fileList: newFileList\n    } = _ref;\n    setFileList(newFileList);\n  };\n\n  const onPreview = async file => {\n    let src = file.url;\n\n    if (!src) {\n      src = await new Promise(resolve => {\n        const reader = new FileReader();\n        reader.readAsDataURL(file.originFileObj);\n\n        reader.onload = () => resolve(reader.result);\n      });\n    }\n\n    const image = new Image();\n    image.src = src;\n    const imgWindow = window.open(src);\n    imgWindow === null || imgWindow === void 0 ? void 0 : imgWindow.document.write(image.outerHTML);\n  };\n\n  return /*#__PURE__*/React.createElement(ImgCrop, {\n    rotate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Upload, {\n    action: \"http://localhost:5000/predict/tuberculosis\",\n    method: \"post\",\n    listType: \"picture-card\",\n    fileList: fileList,\n    onChange: onChange,\n    onPreview: onPreview,\n    beforeUpload: file => {\n      console.log({\n        file\n      });\n      return true;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, fileList.length < 5 && '+ Upload'));\n};\n\nexport default PimageLoader;","map":{"version":3,"names":["ImgCrop","React","useState","PimageLoader","fileList","setFileList","uid","name","url","size","type","onChange","newFileList","onPreview","file","src","Promise","resolve","reader","FileReader","readAsDataURL","originFileObj","onload","result","image","Image","imgWindow","window","open","document","write","outerHTML","console","log","length"],"sources":["E:/Work/PFE/Project folder/DocHelp-WA/src/pages/desease-predictors/PimageLoader.tsx"],"sourcesContent":["import { Upload } from 'antd';\r\nimport ImgCrop from 'antd-img-crop';\r\nimport React, { useState } from 'react';\r\n\r\nconst PimageLoader = () => {\r\n    const [fileList, setFileList] = useState([\r\n        {\r\n            uid: '-1',\r\n            name: 'image.png',\r\n            url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\r\n            size: 100,\r\n            type: 'image'\r\n        },\r\n    ]);\r\n\r\n    const onChange = ({ fileList: newFileList }) => {\r\n        setFileList(newFileList);\r\n    };\r\n\r\n    const onPreview = async (file) => {\r\n        let src = file.url;\r\n\r\n        if (!src) {\r\n            src = await new Promise((resolve) => {\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(file.originFileObj);\r\n\r\n                reader.onload = () => resolve(reader.result);\r\n            });\r\n        }\r\n\r\n        const image = new Image();\r\n        image.src = src;\r\n        const imgWindow = window.open(src);\r\n        imgWindow?.document.write(image.outerHTML);\r\n    };\r\n\r\n    return (\r\n        <ImgCrop rotate>\r\n            <Upload\r\n                action=\"http://localhost:5000/predict/tuberculosis\"\r\n                method=\"post\"\r\n                listType=\"picture-card\"\r\n                fileList={fileList}\r\n                onChange={onChange}\r\n                onPreview={onPreview}\r\n                beforeUpload={(file) => {\r\n                    console.log({ file });\r\n                    return true;\r\n                }}\r\n            >\r\n                {fileList.length < 5 && '+ Upload'}\r\n            </Upload>\r\n        </ImgCrop>\r\n    );\r\n};\r\n\r\nexport default PimageLoader;"],"mappings":";;;AACA,OAAOA,OAAP,MAAoB,eAApB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;AAEA,MAAMC,YAAY,GAAG,MAAM;EACvB,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BH,QAAQ,CAAC,CACrC;IACII,GAAG,EAAE,IADT;IAEIC,IAAI,EAAE,WAFV;IAGIC,GAAG,EAAE,8EAHT;IAIIC,IAAI,EAAE,GAJV;IAKIC,IAAI,EAAE;EALV,CADqC,CAAD,CAAxC;;EAUA,MAAMC,QAAQ,GAAG,QAA+B;IAAA,IAA9B;MAAEP,QAAQ,EAAEQ;IAAZ,CAA8B;IAC5CP,WAAW,CAACO,WAAD,CAAX;EACH,CAFD;;EAIA,MAAMC,SAAS,GAAG,MAAOC,IAAP,IAAgB;IAC9B,IAAIC,GAAG,GAAGD,IAAI,CAACN,GAAf;;IAEA,IAAI,CAACO,GAAL,EAAU;MACNA,GAAG,GAAG,MAAM,IAAIC,OAAJ,CAAaC,OAAD,IAAa;QACjC,MAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;QACAD,MAAM,CAACE,aAAP,CAAqBN,IAAI,CAACO,aAA1B;;QAEAH,MAAM,CAACI,MAAP,GAAgB,MAAML,OAAO,CAACC,MAAM,CAACK,MAAR,CAA7B;MACH,CALW,CAAZ;IAMH;;IAED,MAAMC,KAAK,GAAG,IAAIC,KAAJ,EAAd;IACAD,KAAK,CAACT,GAAN,GAAYA,GAAZ;IACA,MAAMW,SAAS,GAAGC,MAAM,CAACC,IAAP,CAAYb,GAAZ,CAAlB;IACAW,SAAS,SAAT,IAAAA,SAAS,WAAT,YAAAA,SAAS,CAAEG,QAAX,CAAoBC,KAApB,CAA0BN,KAAK,CAACO,SAAhC;EACH,CAhBD;;EAkBA,oBACI,oBAAC,OAAD;IAAS,MAAM,MAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IACI,MAAM,EAAC,4CADX;IAEI,MAAM,EAAC,MAFX;IAGI,QAAQ,EAAC,cAHb;IAII,QAAQ,EAAE3B,QAJd;IAKI,QAAQ,EAAEO,QALd;IAMI,SAAS,EAAEE,SANf;IAOI,YAAY,EAAGC,IAAD,IAAU;MACpBkB,OAAO,CAACC,GAAR,CAAY;QAAEnB;MAAF,CAAZ;MACA,OAAO,IAAP;IACH,CAVL;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAYKV,QAAQ,CAAC8B,MAAT,GAAkB,CAAlB,IAAuB,UAZ5B,CADJ,CADJ;AAkBH,CAnDD;;AAqDA,eAAe/B,YAAf"},"metadata":{},"sourceType":"module"}