{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nasync function getDoctors() {\n  const result = await axios.get('./data/doctors.json');\n  return result.data;\n}\n\nexport function useGetDoctors() {\n  const [doctors, setDoctors] = useState([]);\n  useEffect(() => {\n    getDoctors().then(data => {\n      setDoctors(data);\n    });\n  }, []);\n  return doctors;\n}\nexport function useGetDoctor(name) {\n  const [doctor, setDoctor] = useState(null);\n  const doctors = useGetDoctors();\n  useEffect(() => {\n    if (doctors.length === 0) return;\n    const newDoctor = doctors.find(doc => doc.name === name);\n    if (newDoctor === undefined) return;\n    setDoctor(newDoctor);\n  }, [name, doctors]);\n  return {\n    doctor\n  };\n}","map":{"version":3,"names":["useEffect","useState","axios","getDoctors","result","get","data","useGetDoctors","doctors","setDoctors","then","useGetDoctor","name","doctor","setDoctor","length","newDoctor","find","doc","undefined"],"sources":["E:/Work/PFE/Project folder/DocHelp-WA/src/hooks/useGetDoctor.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nimport { IUser } from '../interfaces/user';\nimport axios from 'axios';\n\nasync function getDoctors() {\n  const result = await axios.get('./data/doctors.json');\n  return result.data as IUser[];\n}\n\nexport function useGetDoctors(): IUser[] {\n  const [doctors, setDoctors] = useState([]);\n\n  useEffect(() => {\n    getDoctors().then((data) => {\n      setDoctors(data);\n    });\n  }, []);\n\n  return doctors;\n}\n\nexport function useGetDoctor(name: string) {\n  const [doctor, setDoctor] = useState(null);\n  const doctors = useGetDoctors();\n\n  useEffect(() => {\n    if (doctors.length === 0) return;\n\n    const newDoctor = doctors.find((doc) => doc.name === name);\n\n    if (newDoctor === undefined) return;\n\n    setDoctor(newDoctor);\n  }, [name, doctors]);\n\n  return { doctor };\n}\n"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAGA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,eAAeC,UAAf,GAA4B;EAC1B,MAAMC,MAAM,GAAG,MAAMF,KAAK,CAACG,GAAN,CAAU,qBAAV,CAArB;EACA,OAAOD,MAAM,CAACE,IAAd;AACD;;AAED,OAAO,SAASC,aAAT,GAAkC;EACvC,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,EAAD,CAAtC;EAEAD,SAAS,CAAC,MAAM;IACdG,UAAU,GAAGO,IAAb,CAAmBJ,IAAD,IAAU;MAC1BG,UAAU,CAACH,IAAD,CAAV;IACD,CAFD;EAGD,CAJQ,EAIN,EAJM,CAAT;EAMA,OAAOE,OAAP;AACD;AAED,OAAO,SAASG,YAAT,CAAsBC,IAAtB,EAAoC;EACzC,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC,IAAD,CAApC;EACA,MAAMO,OAAO,GAAGD,aAAa,EAA7B;EAEAP,SAAS,CAAC,MAAM;IACd,IAAIQ,OAAO,CAACO,MAAR,KAAmB,CAAvB,EAA0B;IAE1B,MAAMC,SAAS,GAAGR,OAAO,CAACS,IAAR,CAAcC,GAAD,IAASA,GAAG,CAACN,IAAJ,KAAaA,IAAnC,CAAlB;IAEA,IAAII,SAAS,KAAKG,SAAlB,EAA6B;IAE7BL,SAAS,CAACE,SAAD,CAAT;EACD,CARQ,EAQN,CAACJ,IAAD,EAAOJ,OAAP,CARM,CAAT;EAUA,OAAO;IAAEK;EAAF,CAAP;AACD"},"metadata":{},"sourceType":"module"}