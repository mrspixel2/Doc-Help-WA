{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport axios from 'axios';\nexport function useFetch(url) {\n  let initialState = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  let callback = arguments.length > 2 ? arguments[2] : undefined;\n  const [data, setData] = useState(initialState);\n\n  async function getData() {\n    const result = await axios.get(url);\n    console.log(result);\n    return result.data;\n  }\n\n  useEffect(() => {\n    getData().then(data => {\n      if (callback) {\n        callback(data);\n      }\n\n      setData(data);\n    }).catch(console.error);\n  }, [url]);\n  return [data, setData];\n}","map":{"version":3,"names":["useEffect","useState","axios","useFetch","url","initialState","callback","data","setData","getData","result","get","console","log","then","catch","error"],"sources":["E:/Work/PFE/Project folder/DocHelp/src/hooks/useFetch.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nimport axios from 'axios';\n\nexport function useFetch<T>(\n  url: string,\n  initialState: T = null,\n  callback?: (T) => any\n): [T, (data: T) => void] {\n  const [data, setData] = useState<T>(initialState);\n\n  async function getData() {\n    const result = await axios.get(url);\n    console.log(result);\n    return result.data;\n  }\n\n  useEffect(() => {\n    getData()\n      .then((data) => {\n        if (callback) {\n          callback(data);\n        }\n\n        setData(data);\n      })\n      .catch(console.error);\n  }, [url]);\n\n  return [data, setData];\n}\n"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,SAASC,QAAT,CACLC,GADK,EAImB;EAAA,IAFxBC,YAEwB,uEAFN,IAEM;EAAA,IADxBC,QACwB;EACxB,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAII,YAAJ,CAAhC;;EAEA,eAAeI,OAAf,GAAyB;IACvB,MAAMC,MAAM,GAAG,MAAMR,KAAK,CAACS,GAAN,CAAUP,GAAV,CAArB;IACAQ,OAAO,CAACC,GAAR,CAAYH,MAAZ;IACA,OAAOA,MAAM,CAACH,IAAd;EACD;;EAEDP,SAAS,CAAC,MAAM;IACdS,OAAO,GACJK,IADH,CACSP,IAAD,IAAU;MACd,IAAID,QAAJ,EAAc;QACZA,QAAQ,CAACC,IAAD,CAAR;MACD;;MAEDC,OAAO,CAACD,IAAD,CAAP;IACD,CAPH,EAQGQ,KARH,CAQSH,OAAO,CAACI,KARjB;EASD,CAVQ,EAUN,CAACZ,GAAD,CAVM,CAAT;EAYA,OAAO,CAACG,IAAD,EAAOC,OAAP,CAAP;AACD"},"metadata":{},"sourceType":"module"}