{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport React from 'react';\nimport _Suggestions from '../component/Suggestions.react';\nimport SuggestionPortal from '../component/SuggestionPortal.react';\nimport MentionContent from '../component/MentionContent.react';\nimport mentionStore from '../model/mentionStore';\nimport exportContent from './exportContent';\nimport getRegExp from '../utils/getRegExp';\n\nfunction findWithRegex(regex, contentBlock, callback) {\n  // Get the text from the contentBlock\n  var text = contentBlock.getText();\n  var matchArr = void 0;\n  var start = void 0; // eslint-disable-line\n\n  var end = void 0; // Go through all matches in the text and return the indizes to the callback\n\n  while ((matchArr = regex.exec(text)) !== null) {\n    // eslint-disable-line\n    start = matchArr.index;\n    end = start + matchArr[0].length;\n    callback(start, end);\n    if (start === end) break;\n  }\n}\n\nfunction mentionContentStrategy(contentBlock, callback, contentState) {\n  contentBlock.findEntityRanges(function (character) {\n    var entityKey = character.getEntity();\n    return entityKey && contentState.getEntity(entityKey).getType() === 'mention';\n  }, callback);\n}\n\nfunction noop() {}\n\nvar MentionContentComponent = function MentionContentComponent(props) {\n  var entityKey = props.entityKey,\n      tag = props.tag,\n      callbacks = props.callbacks;\n  var contentState = callbacks.getEditorState().getCurrentContent();\n  var data = contentState.getEntity(entityKey).getData();\n  return React.createElement(tag, _extends({}, props, {\n    data: data\n  }));\n};\n\nexport default function createMention() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var callbacks = {\n    onChange: noop,\n    onUpArrow: noop,\n    onDownArrow: noop,\n    getEditorState: noop,\n    setEditorState: noop,\n    handleReturn: noop,\n    onBlur: noop\n  };\n  var componentProps = {\n    callbacks: callbacks,\n    mentionStore: mentionStore\n  };\n  var suggestionRegex = getRegExp(config.prefix);\n  var tag = config.tag || MentionContent;\n  var decorators = [{\n    strategy: function strategy(contentBlock, callback) {\n      findWithRegex(suggestionRegex, contentBlock, callback);\n    },\n    component: function component(props) {\n      return React.createElement(SuggestionPortal, _extends({}, props, componentProps, {\n        style: config.mentionStyle,\n        suggestionRegex: getRegExp(config.prefix)\n      }));\n    }\n  }];\n\n  if (config.mode === 'immutable') {\n    decorators.unshift({\n      strategy: mentionContentStrategy,\n      component: function component(props) {\n        return React.createElement(MentionContentComponent, _extends({\n          tag: tag\n        }, props, {\n          callbacks: callbacks\n        }));\n      }\n    });\n  }\n\n  return {\n    name: 'mention',\n    Suggestions: function Suggestions(props) {\n      return React.createElement(_Suggestions, _extends({}, props, componentProps, {\n        store: mentionStore\n      }));\n    },\n    decorators: decorators,\n    onChange: function onChange(editorState) {\n      return callbacks.onChange ? callbacks.onChange(editorState) : editorState;\n    },\n    callbacks: callbacks,\n    'export': exportContent\n  };\n}","map":{"version":3,"names":["_extends","React","_Suggestions","SuggestionPortal","MentionContent","mentionStore","exportContent","getRegExp","findWithRegex","regex","contentBlock","callback","text","getText","matchArr","start","end","exec","index","length","mentionContentStrategy","contentState","findEntityRanges","character","entityKey","getEntity","getType","noop","MentionContentComponent","props","tag","callbacks","getEditorState","getCurrentContent","data","getData","createElement","createMention","config","arguments","undefined","onChange","onUpArrow","onDownArrow","setEditorState","handleReturn","onBlur","componentProps","suggestionRegex","prefix","decorators","strategy","component","style","mentionStyle","mode","unshift","name","Suggestions","store","editorState"],"sources":["E:/Work/PFE/Project folder/DocHelp-WA/node_modules/rc-editor-mention/es/utils/createMention.js"],"sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport React from 'react';\nimport _Suggestions from '../component/Suggestions.react';\nimport SuggestionPortal from '../component/SuggestionPortal.react';\nimport MentionContent from '../component/MentionContent.react';\nimport mentionStore from '../model/mentionStore';\nimport exportContent from './exportContent';\nimport getRegExp from '../utils/getRegExp';\n\nfunction findWithRegex(regex, contentBlock, callback) {\n  // Get the text from the contentBlock\n  var text = contentBlock.getText();\n  var matchArr = void 0;\n  var start = void 0; // eslint-disable-line\n  var end = void 0;\n  // Go through all matches in the text and return the indizes to the callback\n  while ((matchArr = regex.exec(text)) !== null) {\n    // eslint-disable-line\n    start = matchArr.index;\n    end = start + matchArr[0].length;\n    callback(start, end);\n    if (start === end) break;\n  }\n}\n\nfunction mentionContentStrategy(contentBlock, callback, contentState) {\n  contentBlock.findEntityRanges(function (character) {\n    var entityKey = character.getEntity();\n    return entityKey && contentState.getEntity(entityKey).getType() === 'mention';\n  }, callback);\n}\n\nfunction noop() {}\n\nvar MentionContentComponent = function MentionContentComponent(props) {\n  var entityKey = props.entityKey,\n      tag = props.tag,\n      callbacks = props.callbacks;\n\n  var contentState = callbacks.getEditorState().getCurrentContent();\n  var data = contentState.getEntity(entityKey).getData();\n  return React.createElement(tag, _extends({}, props, { data: data }));\n};\n\nexport default function createMention() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var callbacks = {\n    onChange: noop,\n    onUpArrow: noop,\n    onDownArrow: noop,\n    getEditorState: noop,\n    setEditorState: noop,\n    handleReturn: noop,\n    onBlur: noop\n  };\n  var componentProps = {\n    callbacks: callbacks,\n    mentionStore: mentionStore\n  };\n  var suggestionRegex = getRegExp(config.prefix);\n\n  var tag = config.tag || MentionContent;\n  var decorators = [{\n    strategy: function strategy(contentBlock, callback) {\n      findWithRegex(suggestionRegex, contentBlock, callback);\n    },\n    component: function component(props) {\n      return React.createElement(SuggestionPortal, _extends({}, props, componentProps, {\n        style: config.mentionStyle,\n        suggestionRegex: getRegExp(config.prefix)\n      }));\n    }\n  }];\n  if (config.mode === 'immutable') {\n    decorators.unshift({\n      strategy: mentionContentStrategy,\n      component: function component(props) {\n        return React.createElement(MentionContentComponent, _extends({ tag: tag }, props, { callbacks: callbacks }));\n      }\n    });\n  }\n\n  return {\n    name: 'mention',\n    Suggestions: function Suggestions(props) {\n      return React.createElement(_Suggestions, _extends({}, props, componentProps, {\n        store: mentionStore\n      }));\n    },\n    decorators: decorators,\n    onChange: function onChange(editorState) {\n      return callbacks.onChange ? callbacks.onChange(editorState) : editorState;\n    },\n    callbacks: callbacks,\n    'export': exportContent\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}